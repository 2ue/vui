!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,r){for(var s,a,c=0,u=[];c<i.length;c++)a=i[c],o[a]&&u.push.apply(u,o[a]),o[a]=0;for(s in r)e[s]=r[s];for(n&&n(i,r);u.length;)u.shift().call(null,t)};var i={},o={0:0};return t.e=function(e,n){if(0===o[e])return n.call(null,t);if(void 0!==o[e])o[e].push(n);else{o[e]=[n];var i=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.async=!0,r.src=t.p+""+e+".view-14ca6bc.min.js",i.appendChild(r)}},t.m=e,t.c=i,t.p="//as.eqh5.com/h5_view_2/",t.p=(/http/.test(location.protocol)?null:"http://as.eqh5.com/h5_view_2/")||t.p,t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(){d().then(function(e){window.scene=e,r(e),l.setUp(e);var t=Promise.resolve(null);g()&&(t=function(){var t=location.href.split("#")[0];return e.property.wxAuth&&"miniprogram"!==window.__wxjs_environment?m(e.userId).then(function(n){return n.obj?(window._tracker_&&window._tracker_.push(["wx_user_info",{openid:n.obj.openid,nickname:n.obj.nickname,sex:n.obj.sex,province:n.obj.province,city:n.obj.city,country:n.obj.country,headimgurl:n.obj.headimgurl,privilege:n.obj.privilege,unionid:n.obj.unionid}]),b.setWeChatUser(n.obj),b.initWeChat({obj:e},t),n.obj):/eqxiu\.cn/.test(y(window.location.href))?v(e.userId).then(function(t){return b.hrefToWxAuth(t,e.userId)}):b.hrefToWxAuth()})["catch"](function(e){console.error(e)}):Promise.resolve(b.initWeChat({obj:e},t))}()),t.then(function(t){O(e).then(function(){f(e).then(function(e){return window._tj.sceneDataLoadTime=window._tj.now(),e.list.length?(e.map.wxComponent&&b.setWxCompData(e.map.wxComponent),_(),new S(e).addPageFn(I).addEleFn(k(e,t)).addEleFn(P).start(),void o(e)):void s()})})})})}function o(e){function t(){var t=window._tj,n=t.startTime;Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(t[e]=parseInt(t[e]-n))}),console.log("[tj]",window._tj);for(var i=e.list.length,r=0,s=0,a=0;a<i;a++){var c=e.list[a],u=c.elements.length;a===o.toPageIndex&&(r=u),s+=u}t.firstPageEleCnt=r,t.sceneEleCnt=s,t.pageCnt=i,t.code=e.meta.code;var l=window.performance.timing;try{t.redirect=l.redirectEnd-l.redirectStart,t.dns=l.domainLookupEnd-l.domainLookupStart,t.tcp=l.connectEnd-l.connectStart,t.html=l.responseEnd-l.requestStart,t.parseDOM=l.domComplete-l.domLoading,t.loadEvent=l.loadEventEnd-l.loadEventStart,t.startApp=t.redirect+t.dns+t.tcp+t.html+t.parseDOM+t.loadEvent}catch(p){console.log("window.performance")}var h=["redirect","dns","tcp","html","parseDOM","loadEvent","startApp","code","pageCnt","sceneEleCnt","firstPageEleCnt","firstPageShowTime","renderSceneTime","sceneDataLoadTime","ua","ios"].map(function(e){return e+"="+encodeURIComponent(window._tj[e])}),d=window._tj.img=new Image;d.onload=d.onabort=d.onerror=function(){window._tj.img=null};var f="https://wmi.eqxiu.com/cotest.gif?"+h.join("&");console.log("[tj]",h),console.log("[tj]",f),d.src=f}var n=window.location.href,i=E.getUrlParam("toPage");n.indexOf("toPage")>-1&&E.replaceLocationHref(E.removeUrlParam("toPage"));var o={param:n.split("?")[1],selector:"#nr",mode:"view",toPageIndex:a(e,i)},r=new x(e,o);window.app=r,setTimeout(function(){w()}),r.renderScene(),$("#pre_page").click(function(){r.pageScroll.goToPrePage()}),$("#next_page").click(function(){r.pageScroll.goToNextPage()}),window.uploadTjStat=t}function r(e){var t=parseInt(e.userType||2),n=parseInt(e.memberType||1);h(location.host)?[2,21].includes(t)&&[1,2,3,4,6,7,8,9].includes(n)&&(p.FILE=p.VIP_USER_FILE):(p.SOURCE=p.BIND_USER_SOURCE,p.FILE=p.BIND_USER_FILE)}function s(){alert("此场景不存在!")}function a(e,t){var n=0;return t?(e.list.forEach(function(e,i){e.id==t&&(n=i)}),n):n}n(2),n(3),n(15),n(16);var c=n(18);n(19).disableScreenElasticity(),n(20).disableWxFontSize(),window._DEBUG_=c.DEBUG,n(29),n(30);var u=n(31),l=n(32),p=n(22),h=n(42).isEqxHost,d=n(54).$getSceneMetaData,f=n(60).getPerfectSceneData;u.setUp();var g=n(25).isWeixin,m=n(82).$getUserWxInfo,v=n(82).$getWxAppId,y=n(24).getUrlHost,b=n(83),x=n(87),w=n(32).stopLoading,S=n(65),k=n(388).wxAdaptor,I=n(68).perfectPage,P=n(71).perfectComp,_=n(389).putTracker,E=n(24),O=n(47).customLoadPage;$(function(){var e=window._tj={},t=navigator.userAgent;e.ua=t,e.ios=/ipad|iphone/i.test(navigator.userAgent),window.performance&&window.performance.now?(e.perf=!0,e.now=function(){return performance.now()}):(e.perf=!1,e.now=function(){return Date.now()}),e.startTime=e.now(),i(),"miniprogram"==window.__wxjs_environment&&document.addEventListener("visibilitychange",function(){"hidden"==document.visibilityState&&$(".bgm-btn audio")[0].pause()})})},function(e,t){},function(e,t,n){"use strict";n(4),n(11),n(14)},function(e,t,n){n(5),n(6),n(7),n(8),n(9),n(10)},function(e,t){!function(e){e.forEach(function(e){e.hasOwnProperty("replaceWith")||Object.defineProperty(e,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){var n=e instanceof Node;t.appendChild(n?e:document.createTextNode(String(e)))}),this.parentNode.replaceChild(t,this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(e,t){!function(){Math.hypot=Math.hypot||function(){for(var e=0,t=arguments.length,n=0;n<t;n++){if(arguments[n]===1/0||arguments[n]===-(1/0))return 1/0;e+=arguments[n]*arguments[n]}return Math.sqrt(e)}}()},function(e,t){!function(){"function"!=typeof Object.values&&!function(){Object.values=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(),"function"!=typeof Object.assign&&!function(){Object.assign=function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t}}()}()},function(e,t){!function(){Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)},Number.parseInt=parseInt,Number.parseFloat=parseFloat}()},function(e,t){!function(){String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&this.indexOf(e,t)!==-1}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return i!==-1&&i===t})}()},function(e,t){!function(){Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=function(e){"use strict";var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var i,o=parseInt(arguments[1])||0;o>=0?i=o:(i=n+o,i<0&&(i=0));for(var r;i<n;){if(r=t[i],e===r||e!==e&&r!==r)return!0;i++}return!1}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(o,t,r,n))return r;return-1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,o=arguments[1],r=0;r<i;r++)if(t=n[r],e.call(o,t,r,n))return t}),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},i=Math.pow(2,53)-1,o=function(e){var t=n(e);return Math.min(Math.max(t,0),i)};return function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r,s=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof s){if(!t(s))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}for(var a,c=o(i.length),u=t(n)?Object(new n(c)):new Array(c),l=0;l<c;)a=i[l],s?u[l]="undefined"==typeof r?s(a,l):s.call(r,a,l):u[l]=a,l+=1;return u.length=c,u}}())}()},function(e,t,n){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!==t(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function s(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void d(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:c)(t.promise,e._value);var i;try{i=n(e._value)}catch(o){return void c(t.promise,o)}a(t.promise,i)}))}function a(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"===("undefined"==typeof n?"undefined":t(n))||"function"==typeof n)){var i=n.then;if(n instanceof r)return e._state=3,e._value=n,void u(e);if("function"==typeof i)return void p(o(i,n),e)}e._state=1,e._value=n,u(e)}catch(s){c(e,s)}}function c(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&setTimeout(function(){e._handled||f(e._value)},1);for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,c(t,e))})}catch(i){if(n)return;n=!0,c(t,i)}}var h=setTimeout,d="function"==typeof e&&e||function(e){h(e,1)},f=function(e){console.warn("Possible Unhandled Promise Rejection:",e)},g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new r(i);return s(this,new l(e,t,n)),n},r.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&g(arguments[0])?arguments[0]:arguments);return new r(function(n,i){function o(s,a){try{if(a&&("object"===("undefined"==typeof a?"undefined":t(a))||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){o(s,e)},i)}e[s]=a,0===--r&&n(e)}catch(u){i(u)}}if(0===e.length)return n([]);for(var r=e.length,s=0;s<e.length;s++)o(s,e[s])})},r.resolve=function(e){return e&&"object"===("undefined"==typeof e?"undefined":t(e))&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)})},r._setImmediateFn=function(e){d=e},r._setUnhandledRejectionFn=function(e){f=e},window.Promise?r=window.Promise:window.Promise=r,r.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})}}(void 0)}).call(t,n(12).setImmediate)},function(e,t,n){(function(e,i){function o(e,t){this._id=e,this._clearFn=t}var r=n(13).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},u=0;t.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,i=!(arguments.length<2)&&a.call(arguments,1);return c[n]=!0,r(function(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete c[e]}}).call(t,n(12).setImmediate,n(12).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(e){if(p===clearTimeout)return clearTimeout(e);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function s(){g&&d&&(g=!1,d.length?f=d.concat(f):m=-1,f.length&&a())}function a(){if(!g){var e=o(s);g=!0;for(var t=f.length;t;){for(d=f,f=[];++m<t;)d&&d[m].run();m=-1,t=f.length}d=null,g=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,p,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(e){p=i}}();var d,f=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new c(e,t)),1!==f.length||g||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=u,h.addListener=u,h.once=u,h.off=u,h.removeListener=u,h.removeAllListeners=u,h.emit=u,h.prependListener=u,h.prependOnceListener=u,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t){!function(e){"use strict";function t(e){var t="",n=!0;return e.forEach(function(e){var i=encodeURIComponent(e.name),o=encodeURIComponent(e.value);n||(t+="&"),t+=i+"="+o,n=!1}),t.replace(/%20/g,"+")}function n(e,t){var n=e.split("&");t&&n[0].indexOf("=")===-1&&(n[0]="="+n[0]);var i=[];n.forEach(function(e){if(0!==e.length){var t=e.indexOf("=");if(t!==-1)var n=e.substring(0,t),o=e.substring(t+1);else n=e,o="";n=n.replace(/\+/g," "),o=o.replace(/\+/g," "),i.push({name:n,value:o})}});var o=[];return i.forEach(function(e){o.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),o}function i(e){if(s)return new a(e);var t=document.createElement("a");return t.href=e,t}function o(e){var i=this;this._list=[],void 0!==e&&null!==e||(e=""),Object(e)===e&&e instanceof o||(e=String(e)),"string"==typeof e&&"?"===e.substring(0,1)&&(e=e.substring(1)),"string"==typeof e?this._list=n(e):this._list=e._list.slice(),this._url_object=null,this._setList=function(e){r||(i._list=e)};var r=!1;this._update_steps=function(){r||(r=!0,i._url_object&&("about:"===i._url_object.protocol&&i._url_object.pathname.indexOf("?")!==-1&&(i._url_object.pathname=i._url_object.pathname.split("?")[0]),i._url_object.search=t(i._list),r=!1))}}function r(t,r){function c(){var e=l.href.replace(/#$|\?$|\?(?=#)/g,"");l.href!==e&&(l.href=e)}function u(){d._setList(l.search?n(l.search.substring(1)):[]),d._update_steps()}if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");r&&(t=function(){if(s)return new a(t,r).href;var e;if(document.implementation&&document.implementation.createHTMLDocument?e=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?(e=document.implementation.createElement("http://www.w3.org/1999/xhtml","html",null),e.documentElement.appendChild(e.createElement("head")),e.documentElement.appendChild(e.createElement("body"))):window.ActiveXObject&&(e=new window.ActiveXObject("htmlfile"),e.write("<head></head><body></body>"),e.close()),!e)throw Error("base not supported");var n=e.createElement("base");n.href=r,e.getElementsByTagName("head")[0].appendChild(n);var i=e.createElement("a");return i.href=t,i.href}());var l=i(t||""),p=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(t){return!1}}(),h=p?this:document.createElement("a"),d=new o(l.search?l.search.substring(1):null);return d._url_object=h,Object.defineProperties(h,{href:{get:function(){return l.href},set:function(e){l.href=e,c(),u()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in l?l.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return l.protocol},set:function(e){l.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return l.username},set:function(e){l.username=e},enumerable:!0,configurable:!0},password:{get:function(){return l.password},set:function(e){l.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[l.protocol];return e?l.host.replace(e,""):l.host},set:function(e){l.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return l.hostname},set:function(e){l.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return l.port},set:function(e){l.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==l.pathname.charAt(0)?"/"+l.pathname:l.pathname},set:function(e){l.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return l.search},set:function(e){l.search!==e&&(l.search=e,c(),u())},enumerable:!0,configurable:!0},searchParams:{get:function(){return d},enumerable:!0,configurable:!0},hash:{get:function(){return l.hash},set:function(e){l.hash=e,c()},enumerable:!0,configurable:!0},toString:{value:function(){return l.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return l.valueOf()},enumerable:!1,configurable:!0}}),h}var s,a=e.URL;try{if(a){if(s=new e.URL("http://example.com"),"searchParams"in s)return;"href"in s||(s=void 0)}}catch(c){}if(Object.defineProperties(o.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},"delete":{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,i=0;i<this._list.length;)this._list[i].name===e?n?this._list.splice(i,1):(this._list[i].value=t,n=!0,++i):++i;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:[n.name,n.value]}}}},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:n.name}}}},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){var e=this,t=0;return{next:function(){if(t>=e._list.length)return{done:!0,value:void 0};var n=e._list[t++];return{done:!1,value:n.value}}}},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:void 0;this._list.forEach(function(n,i){e.call(t,n.name,n.value)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return t(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in e&&"iterator"in e.Symbol&&Object.defineProperty(o.prototype,e.Symbol.iterator,{value:o.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),a)for(var u in a)a.hasOwnProperty(u)&&"function"==typeof a[u]&&(r[u]=a[u]);e.URL=r,e.URLSearchParams=o}(window)},function(e,t){},function(e,t,n){"use strict";n(17),0===location.hostname.indexOf("wap")&&$(document.body).addClass("wap-scene")},function(e,t){},function(e,t){"use strict";e.exports={publicHost:"//as.eqh5.com/",HOST:"//www.eqxiu.com/",EQX:"//www.eqxiu.com/",WAP_HOST:"//wap.eqxiu.com/",VIEW_HOST:"//h5.eqxiu.com/",SERVER_0:"//service.eqxiu.com/",SERVER_0_VIP:"//vservice.eqxiu.com/",SERVER_1:"//s1.eqxiu.com/",SERVER_2:"//s2.eqxiu.com/",SERVER_MAX:"//max.eqxiu.com/",QUERY_SERVER:"//search.eqxiu.com/",WAP_SERVER:"//ie.eqxiu.com/",PAY_SERVER:"//xiupay.eqxiu.com/",MOBILE_SERVER_1:"//m1.eqxiu.com/",BIG_DATA:"//datalog.eqxiu.com/",TRACK:"//da.eqxiu.com/",PAY_HOST:"//www.eqxiu.com/",MALL_HOST:"//store.eqxiu.com/",STORE:"//store.eqxiu.com/",YQC:"//as.eqh5.cn/",MALL_BUY_ID:"10002",MALL_PIC_ID:"889874",MALL_MUSIC_ID:"889875",MALL_SOUND_ID:"889877",MALL_FONT_ID:"889873",MALL_PIC_ID_NEW:"890729",MALL_MUSIC_ID_NEW:"890727",MALL_SOUND_ID_NEW:"890728",MALL_FONT_ID_NEW:"890726",MALL_PAGE_ID_NEW:"890731",MALL_FUNCTION_ID_NEW:"890730",MALL_PIC_ID_DEFAULT:"890930",MALL_BG_ID_DEFAULT:"890810",MALL_MUSIC_ID_DEFAULT:"890935",MALL_SOUND_ID_DEFAULT:"890933",MALL_FONT_ID_DEFAULT:"890934",SOURCE:"//as.eqh5.com/c/",BIND_USER_SOURCE:"//as.eqxiu.com/c/",WX_APP_ID:"wx4726bc84d63ef524",WX_APP_ID_WAP:"wx8a61ef75c858990e",DOMAIN:"eqxiu",EQX_TPL_DOMAIN:"h5.eqxiu.com",EQX_FAN_DOMAIN:"scene.eqxiu.com",EQX_AD_DOMAIN:"scene.eqh5.cn",EQX_VIP_DOMAIN:"vip.eqxiu.cn",EQX_COMPANY_DOMAIN:"scene.eqxiu.cn",EQX_TG:"tg.eqxiu.com",EQX_APP_DOMAIN:"m.eqxiu.com",EQX_NO_BUSINESS_DOMAIN:"eqxiu.com",EQX_BATCH_SCENES_DOMAIN:"eqxiu.tv",FILE:"//res1.eqh5.com/",BIND_USER_FILE:"//res.eqh5.com/",FREE_USER_FILE:"//res1.eqh5.com/",VIP_USER_FILE:"//res2.eqh5.com/",FONT:"//font.eqh5.com/",VIDEO:"//res4.eqh5.com/",WAP_TPL_CENTER:"http://wap.eqxiu.com/wpmall/cats"}},function(e,t){"use strict";function n(){var e=$(window);e.on("scroll.elasticity",function(e){e.preventDefault()}).on("touchmove.elasticity",function(e){e.preventDefault()}),e.delegate("img","mousemove",function(e){e.preventDefault()})}function i(){function e(e){e.addEventListener("touchmove",function(e){e._isScroller=!0})}return document.body.addEventListener("touchmove",function(e){e._isScroller?e.stopPropagation():e.preventDefault()}),{overScroll:e}}e.exports={disableScreenElasticity:n,canScreenElasticity:i}},function(e,t,n){"use strict";function i(e,t,n){window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+e+"&redirect_uri="+encodeURIComponent(t+"eqs/rel-account/wechat-mp?appId="+e)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(n)+"#wechat_redirect"}function o(e){if(document.title=e,/ip(hone|od|ad)/i.test(navigator.userAgent)){var t=document.createElement("iframe");t.src="http://lib.eqh5.com/favicon.ico",t.style.display="none",t.onload=function(){setTimeout(function(){t.remove()},9)},document.body.appendChild(t)}}function r(){function e(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}w()&&S()&&("object"==("undefined"==typeof WeixinJSBridge?"undefined":d(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?e():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)))}function s(){var e=b(window.location.href),t="eqs/wx/ticket?time="+Date.now();return E.some(function(t){return t.test(e)})||(/eqxiu\.cn/.test(e)?(t+="&domain=eqxiu.cn",t+="&userId="+window.scene.userId):t+=/eqh5\.cn/.test(e)?"&domain=eqh5.cn":"&domain="+e),f({type:"GET",url:g.SERVER_1+t})}function a(){var e="api/wx/get-jsticket?time="+Date.now()+"&appId="+P.APP_ID_WAP;return console.log("getWxTicket2",e),f({type:"GET",url:g.WAP_SERVER+e}).then(function(e){return e&&e.obj?{obj:{appId:P.APP_ID_WAP,ticket:e.obj}}:Promise.reject("无微信 ticket: "+P.APP_ID_WAP)})}function c(e){return new Promise(function(t,n){wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,"package":e.packageName,signType:e.signType,paySign:e.paySign,success:function(e){t(e)},cancel:function(e){n(e)}})})}function u(e){return new Promise(function(t,n){console.log("微信jssdk init"),l().then(function(){console.log("微信jssdk chooseWXPay");var i=e["package"];i.startsWith("prepay_id=")||(i="prepay_id="+i),wx.chooseWXPay({timestamp:e.timeStamp,nonceStr:e.nonceStr,"package":i,signType:e.signType,paySign:e.paySign,success:function(e){t()},cancel:function(){n("充值失败")}})})})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=2===e.ticket?a:s;return $?$:$=Promise.all([v(),t(),y()]).then(function(e){var t=e[1].obj,n=t.appId,i=t.ticket;return new Promise(function(e,t){if(n&&i&&i!==-1){var o=location.href.split("#")[0],r="eqxiuview",s=Date.now(),a="jsapi_ticket="+i+"&noncestr="+r+"&timestamp="+s+"&url="+o,c=new jsSHA("SHA-1","TEXT");c.update(a);var u=c.getHash("HEX");console.log("wx config appId "+n+", sign "+a+", hash "+u),wx.config({debug:!1,appId:n,timestamp:s,nonceStr:r,signature:u,jsApiList:["chooseWXPay","checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice"]}),wx.ready(function(){e()})}else t()})})}function p(){return $?$:$=Promise.all([v(),a(),y()]).then(function(e){var t=e[1].obj,n=t.appId,i=t.ticket;return new Promise(function(e,t){if(n&&i&&i!==-1){var o=location.href.split("#")[0],r="eqxiuview",s=Date.now(),a="jsapi_ticket="+i+"&noncestr="+r+"&timestamp="+s+"&url="+o,c=new jsSHA("SHA-1","TEXT");c.update(a);var u=c.getHash("HEX");console.log("wx config appId "+n+", sign "+a+", hash "+u),wx.config({debug:!1,appId:n,timestamp:s,nonceStr:r,signature:u,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice"]}),wx.ready(function(){e()})}else t()})})}function h(e){var t=e.title,n=e.desc,i=e.link,o=e.imgUrl,r=e.success,s=e.cancel,a=e.opts;return l(a).then(function(){wx.onMenuShareTimeline({title:t,link:i,imgUrl:o,success:function(){I(r)&&r()},cancel:function(){I(s)&&s()}}),wx.onMenuShareAppMessage({title:t,desc:n,link:i,imgUrl:o,success:function(){I(r)&&r()},cancel:function(){I(s)&&s()}}),wx.onMenuShareQQ({title:t,desc:n,link:i,imgUrl:o,success:function(){I(r)&&r()},cancel:function(){I(s)&&s()}}),wx.onMenuShareWeibo({title:t,desc:n,link:i,imgUrl:o,success:function(){I(r)&&r()},cancel:function(){I(s)&&s()}}),wx.onMenuShareQZone({title:t,desc:n,link:i,imgUrl:o,success:function(){I(r)&&r()},cancel:function(){I(s)&&s()}})})}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(21).ajax,g=n(22),m=n(23),v=m.$loadJWeixin,y=m.$loadSHA,b=n(24).getUrlHost,x=n(25),w=x.isWeixin,S=x.isAndroid,k=n(27),I=k.isFunction,P=n(28),_=n(28),E=(_.APP_ID,[/eqxiu\.com/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/]),$=null;e.exports={register:i,disableWxFontSize:r,setDocumentTitle:o,initWx:l,initWx2:p,setWxShareInfo:h,wxPay:c,wxPay2:u}},function(e,t){"use strict";function n(e){return Promise.resolve(e)}function i(e){return new Promise(function(t,n){$.ajax($.extend({},e,{success:function(e){e&&e.success===!1?n(e):t(e)},error:function(){for(var t,i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];(t=console).error.apply(t,[e].concat(o)),n.apply(void 0,o)}}))})}function o(e){return new Promise(function(t,n){$.ajax($.extend({xhrFields:{withCredentials:!0},crossDomain:!0},e,{success:function(e){e&&e.success===!1?n(e):t(e)},error:function(){for(var t,i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];(t=console).error.apply(t,[e].concat(o)),n.apply(void 0,o)}}))})}e.exports={ajax:o,$ajax:i,fajax:n}},function(e,t,n){"use strict";function i(e){var t=window.location.protocol;return"file:"===t&&(t="http:"),e&&e.startsWith("//")?t+e:e}var o=n(18),r={SERVER_0:o.SERVER_0,SERVER_0_VIP:o.SERVER_0_VIP,SERVER_1:o.SERVER_1,SERVER_2:o.SERVER_2,WAP_SERVER:o.WAP_SERVER,SERVER_MAX:o.SERVER_MAX,QUERY_SERVER:o.QUERY_SERVER,PAY_SERVER:o.PAY_SERVER,FONT:o.FONT,HOST:o.HOST,EQX:o.EQX,WAP_HOST:o.WAP_HOST,VIEW_HOST:o.VIEW_HOST,PAY_HOST:o.PAY_HOST,MALL_HOST:o.MALL_HOST,MOBILE_SERVER_1:o.MOBILE_SERVER_1,SOURCE:o.SOURCE,BIND_USER_SOURCE:o.BIND_USER_SOURCE,TRACK:o.TRACK,STORE:o.STORE,YQC:o.YQC,BIND_USER_FILE:o.BIND_USER_FILE,FREE_USER_FILE:o.FREE_USER_FILE,VIP_USER_FILE:o.VIP_USER_FILE,FILE:o.FILE,DOMAIN:o.DOMAIN,EQX_FAN_DOMAIN:o.EQX_FAN_DOMAIN,EQX_AD_DOMAIN:o.EQX_AD_DOMAIN,EQX_VIP_DOMAIN:o.EQX_VIP_DOMAIN,EQX_COMPANY_DOMAIN:o.EQX_COMPANY_DOMAIN,EQX_TG:o.EQX_TG,EQX_APP_DOMAIN:o.EQX_APP_DOMAIN,EQX_NO_BUSINESS_DOMAIN:o.EQX_NO_BUSINESS_DOMAIN,EQX_BATCH_SCENES_DOMAIN:o.EQX_BATCH_SCENES_DOMAIN,MALL_BUY_ID:o.MALL_BUY_ID,MALL_PIC_ID:o.MALL_PIC_ID,MALL_MUSIC_ID:o.MALL_MUSIC_ID,MALL_SOUND_ID:o.MALL_SOUND_ID,MALL_FONT_ID:o.MALL_FONT_ID,MALL_PIC_ID_NEW:o.MALL_PIC_ID_NEW,MALL_MUSIC_ID_NEW:o.MALL_MUSIC_ID_NEW,MALL_SOUND_ID_NEW:o.MALL_SOUND_ID_NEW,MALL_FONT_ID_NEW:o.MALL_FONT_ID_NEW,MALL_PAGE_ID_NEW:o.MALL_PAGE_ID_NEW,MALL_FUNCTION_ID_NEW:o.MALL_FUNCTION_ID_NEW,MALL_PIC_ID_DEFAULT:o.MALL_PIC_ID_DEFAULT,MALL_BG_ID_DEFAULT:o.MALL_BG_ID_DEFAULT,MALL_MUSIC_ID_DEFAULT:o.MALL_MUSIC_ID_DEFAULT,MALL_SOUND_ID_DEFAULT:o.MALL_SOUND_ID_DEFAULT,MALL_FONT_ID_DEFAULT:o.MALL_FONT_ID_DEFAULT,VIDEO:o.VIDEO,WAP_TPL_CENTER:o.WAP_TPL_CENTER};Object.keys(r).forEach(function(e){var t=r[e];Array.isArray(t)?t.forEach(function(e,n){"string"==typeof e&&(t[n]=i(e))}):r[e]=i(t)}),e.exports=r},function(e,t,n){"use strict";function i(){return r({name:"qiniu",src:x.qiniu})}function o(){return r({name:"plupload",src:x.plupload})}function r(e){var t=e.name,n=e.src,i=S[t];if(i)return Promise.resolve(i);var o=w({url:b(n),dataType:"script"}).then(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return S[t]=n,n});return S[t]=o,o}function s(){return r({name:"qrcode",src:x.QRCode})}function a(){return r({name:"sha",src:x.SHA})}function c(){return k?k:k=new Promise(function(e,t){window.qqMapCallback=function(){e()},r({name:"qqmap",src:x.QQMap})["catch"](t)})}function u(){return r({name:"chart",src:x.Chart
})}function l(){return r({name:"threecanvas",src:x.threecanvas})}function p(){return r({name:"flux",src:x.Flux})}function h(){return r({name:"",src:x.sliders})}function d(){return r({name:"jweixin",src:x.JWeixin})}function f(){return r({name:"typed",src:x.Typed})}function g(){return r({name:"mlink",src:x.MLink})}function m(){return r({name:"parallax",src:x.Parallax})}function v(){return r({name:"canvg",src:x.canvg})}function y(){return r({name:"tbsJS",src:x.tbsJS})}var b=n(24).addProtocol,x=n(26),w=n(21).$ajax,S={},k=null;e.exports={$loader:r,$loadQRCode:s,$loadSHA:a,$loadQQMap:c,$loadChart:u,$loadFlux:p,$loadJWeixin:d,$loadTyped:f,$loadThreeCanvas:l,$loadSliders:h,$loadParallax:m,$canvas:v,$loadMLink:g,$loadQiniu:i,$loadPlupload:o,$loadTbsJs:y}},function(e,t,n){"use strict";function i(e){return e.startsWith("//")&&(e=location.protocol+e),new window.URL(e)}function o(e){var t=location.href,n=s("toPage",t);n?n!==""+e&&(t=t.replace(n,e)):t+=(/\?/.test(t)?"&":"?")+"toPage="+e,window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t)}function r(e,t){b()?(o(t),location.href=e):window.open(e,"_blank")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return i(t).searchParams.get(e)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=i(t);return n.searchParams["delete"](e),n.href}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=i(t);return e.forEach(function(e){n.searchParams["delete"](e)}),n.href}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,o=i(n);return o.searchParams.set(e,t),o.href}function l(e){var t=window.location.href;history.replaceState({},t,e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return i(e).host}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t=i(e);return t.pathname}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;if(0===i)throw new Error("resolveUrl requires at least one argument; got none.");var o=document.createElement("base");if(o.href=t[0],1===i)return o.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(o,r.firstChild);for(var s,a=document.createElement("a"),c=1;c<i;c++)a.href=t[c],s=a.href,o.href=s;return r.removeChild(o),s}function f(e){var t=location.protocol;return"https:"!=t&&(t="http:"),/^\w{2,}:\/\//.test(e)||(e="//"+e),e.replace(/^\/\//,t+"//")}function g(e){return f(e).replace(/^https:/,"http:")}function m(e){return f(e).replace(/^http:/,"https:")}function v(){var e=g(y.EQX),t=n(25).mobilecheck;return e=t()?"http://service.eqxiu.com/m/special/1023.html":"http://store.eqxiu.com/cats-2.html"}var y=n(22),b=n(25).mobilecheck;e.exports={parseUrl:i,getUrlParam:s,removeUrlParam:a,removeUrlParams:c,addUrlParam:u,replaceLocationHref:l,getUrlHost:p,resolveUrl:d,setUrlHistory:o,openUrl:r,getPathName:h,addProtocol:f,url2http:g,url2https:m,redirectUrl:v}},function(e,t,n){"use strict";function i(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)||window.screen.width<500}function o(){return window.top===window&&/MicroMessenger/i.test(navigator.userAgent)}function r(){return i()&&s()}function s(){return/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.appVersion)}function a(){return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)}function c(){return/iPhone/i.test(navigator.userAgent)}function u(){return!(i()||a()&&window===window.top)}function l(){var e=n(24).getUrlParam;return!!e("appclient")||!!window.viewData}function p(){return/ipad|iphone/i.test(navigator.userAgent)}function h(){return/msie|applewebkit.+safari/i.test(navigator.userAgent)}e.exports={mobilecheck:i,isMobile:i,isWeixin:o,isAndroidPhone:r,isAndroid:s,tabletCheck:a,iphoneCheck:c,isPc:u,isApp:l,isIOS:p,isSafari:h}},function(e,t){"use strict";e.exports={Parallax:"//lib.eqh5.com/parallax/1.0.2/parallax.min.js",JWeixin:"//res.wx.qq.com/open/js/jweixin-1.2.0.js",QQMap:"//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",SHA:"//lib.eqh5.com/jsSHA/2.0.2/sha1.js",Chart:"//lib.eqh5.com/Chart.js/1.0.2/Chart.min.js",sliders:"//lib.eqh5.com/slidesjs/3.0.3/jquery.slides.min.js",QRCode:"//lib.eqh5.com/@eqxiu/qrcode/1.1.1/qrcode.min.js",Flux:"//lib.eqh5.com/@eqxiu/flux/1.0.2/flux.min.js",Typed:"//lib.eqh5.com/@eqxiu/typed/1.1.4/typed.min.js",threecanvas:"//lib.eqh5.com/@eqxiu/threecanvas/1.1.0/threecanvas.js",canvg:"//lib.eqh5.com/canvg/0.0.1/canvg.min.js",MLink:"https://static.mlinks.cc/scripts/dist/mlink.min.js",datePicker:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",datePickerCss:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",moment:"//lib.eqh5.com/moment.js/2.15.2/moment.min.js",imgJcropJs:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",imgJcropCss:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",plupload:"//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",qiniu:"//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",html2canvas:"//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js",tbsJS:"//res.imtt.qq.com/tbs/tbs.js"}},function(e,t){"use strict";function n(e){return e&&"function"==typeof e}function i(){}function o(e,t,n){var i,o=null;return function(){var r=this,s=arguments,a=+new Date;clearTimeout(o),i||(i=a),a-i>=n?(e.apply(r,s),i=a):o=setTimeout(function(){e.apply(r,s)},t)}}e.exports={isFunction:n,noop:i,throttle:o}},function(e,t,n){"use strict";var i=n(18);e.exports={APP_ID:i.WX_APP_ID,APP_ID_WAP:i.WX_APP_ID_WAP||i.WX_APP_ID}},function(e,t){},function(e,t){},function(e,t){"use strict";function n(){$.ajaxSetup({cache:!0}),$.support.cors=!0}e.exports={setUp:function(){n()}}},function(e,t,n){"use strict";function i(e){var t=$(document.body),n=$("html");a()?window.top===window?(t.prepend(c.div()),c.addRecommend(),e.isTemplate&&"1"===e.isTemplate.toString()&&c.addSample(e.id),c.addAdvertisement(),t.addClass("pc"),$("title").text(e.name+" | H5微场景制作-易企秀(www.eqxiu.com)"),s(e)):location.href.indexOf("exemplarReview")>=0?(t.prepend(u.phoneDiv()),t.append(u.ctrlBtnDiv())):location.href.indexOf("control")>=0?(t.prepend(u.phoneDiv()),t.append(u.ctrlBtnDiv2())):(n.addClass("iframe-html"),t.prepend(u.phoneDiv()),t.addClass("pc"),$(".scene_title").text(e.name),$("title").text(e.name)):(t.prepend(l.div()),$("title").text(e.name)),$(".main").show()}function o(){$(".loading").show()}function r(){$(".loading").hide()}n(33),n(34),n(35),n(36);var s=n(37).addElementsToPc,a=n(25).isPc,c=n(52),u=n(58),l=n(59);e.exports={setUp:i,stopLoading:r,startLoading:o}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){var t=e.name,n=e.description,i=e.cover;$(".scene_title").text(e.name),s({name:t,description:n,cover:i}),o(),r(e)}function o(){var e=h(window.location.host);u(e)["catch"](function(){return n(51)}).then(function(e){$("body").css("backgroundImage","url("+e+")")})}function r(e){l().then(function(){var t=a(p(e));t.searchParams.set("eqrcode",1),console.info("qrCodeUrl:",t.href),$("#downApp").click(function(){$("#downAppView").css("display","block")}),$("#close").click(function(){$("#downAppView").css("display","none")}),$("#downCode").qrcode({render:"canvas",width:192,height:192,text:"http://click.hm.baidu.com/app.gif?ap=62563&ch=43727"}),$("#codeImg").qrcode({render:"canvas",width:192,height:192,text:t.href})})}function s(e){var t=e.name,n=e.description,i=e.cover;n=n||"";var o=window.location.href.split("?")[0];$("#view_share .share-qq").attr("href","\n            http://connect.qq.com/widget/shareqq/index.html?url=\n            "+encodeURIComponent(o)+"?from=sqq&title="+t+"\n            &site=易企秀http://eqxiu.com&summary="+n+"\n            &pics="+(c.FILE+i)+"&desc="+n+"&appkey=3508809852\n        "),$("#view_share .share-qqZone").attr("href","\n            http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\n            "+encodeURIComponent(o)+"?from=qzone&title="+t+"\n            &site=易企秀http://eqxiu.com&summary="+n+"\n            &pics="+(c.FILE+i)+"&desc="+n+"&appkey=3508809852\n        "),$("#view_share .share-weibo").attr("href","\n            http://service.weibo.com/share/share.php?url=\n            "+encodeURIComponent(o)+"?from=sina_weibo\n            &title="+encodeURIComponent("#易企秀分享# 这是我用@易企秀 做的【"+t+"】，赶紧打开看看吧！")+"\n            &pic="+(c.FILE+i)+"&appkey=3508809852\n        ")}n(38),n(39),n(40);var a=n(24).parseUrl,c=n(22),u=n(41).$getPcBgImg,l=n(23).$loadQRCode,p=n(42).getShareUrl,h=n(47).getDomainType;e.exports={addElementsToPc:i}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";function i(e){return Promise.all([r("image"),p.$loadQiniu(),p.$loadPlupload()]).then(function(t){return Object.assign(e,{token:t[0].map.token}),Qiniu.uploader({runtimes:"html5,flash,html4",browse_button:e.uploadButton,uptoken_url:h.SERVER_0+"eqs/material/uptokens?type=image",uptoken:e.token,unique_names:!0,domain:"http://qiniu-plupload.qiniudn.com/",max_file_size:"10mb",max_retries:3,chunk_size:"4mb",auto_start:!0,init:{FilesAdded:function(e,t){window.plupload.each(t,function(e){})},BeforeUpload:function(t,n){e.beforeUpload(t,n)},UploadProgress:function(e,t){},FileUploaded:function(t,n,i){e.finishUpload(t,n,i)},Error:function(t,n,i){e.Error(t,n,i)},UploadComplete:function(){},Key:function(e,t){var n="";return n}}})})}function o(e){return function(t){return t.includes("http")||(t=h.FILE+t),l({type:"GET",url:t,dataType:e})}}function r(e){return l({type:"POST",url:h.SERVER_0+"eqs/material/uptokens?type="+e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function s(e,t){var n="//up.qiniu.com/putb64/-1";return window.location.href.startsWith("https://")&&(n="//up.qiniup.com/putb64/-1"),l({type:"POST",url:n,contentType:"application/octet-stream",beforeSend:function(t){t.setRequestHeader("Authorization","UpToken "+e)},data:t})}function a(e,t){return l({type:"POST",url:h.SERVER_1+"eqs/board/drawing/save?compKey="+e,data:{data:JSON.stringify(t)}})}function c(e){return l({type:"GET",dataType:"text"})}function u(e){return l({type:"GET",url:h.SERVER_1+"eqs/s/image/scene/preview?domain="+e}).then(function(e){return e?e=e.startsWith("http:")?e:h.FILE+e:Promise.reject("No Background Image")})}var l=n(21).$ajax,p=n(23),h=n(22),d=o("xml");e.exports={$getSvg:d,$getSymbol:c,$getPcBgImg:u,$getUploadToken:r,$uploadBase64:s,$saveCompInfoByCompKey:a,$initQiniuUpload:i}},function(e,t,n){"use strict";function i(e){var t=e.code,n=window.location.href,i=window.location.host,r=(h.EQX_FAN_DOMAIN,h.EQX_AD_DOMAIN),l=h.EQX_VIP_DOMAIN;h.EQX_COMPANY_DOMAIN;try{return o(i)?(console.info("第三方域名"),n):s(i)?(console.info("MAX 域名"),n):a(e)?(console.info("流量域名"),p(e,r)):c(e)?(console.info("CDN 加速"),m(l+"/s/"+t)):u(e)?(console.info("企业账号"),n):(console.info("普通泛域名"),n)}catch(d){return console.error(d),n}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return!r(e)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return["eqshow.cn","yqxiu.cn","eqxiu.cc","eqxiu.com","eqxiu.cn","eqh5.cn"].some(function(t){return e.endsWith("."+t)})||/localhost/.test(e)}function s(e){return r(e)&&/^max\./.test(e)}function a(e){var t=e.ext||{};return t.yqc&&t.yqc.ad}function c(e){var t=h.EQX_VIP_DOMAIN;return 1==e.staticStatus&&location.host.includes(t)}function u(e){var t=e.userType,n=e.memberType,i=e.expiryTime;return(t==g["企业账号"]||t==g["企业子账号"])&&n&&i&&d(i)}function l(){return location.host.includes(h.EQX_TG)}function p(e,t){var n=e.code,i=e.userId||e.createUser;if(!i)throw new Error("No User Id");var o=f(i);return m(o+"."+t+"/s/"+n)}var h=n(22),d=n(43).isNotExpired,f=n(44).hashCode,g=n(45).USER_ROLE,m=n(24).addProtocol;e.exports={getShareUrl:i,isEqxAdScene:a,isVipScene:c,isEqxHost:r,isThirdPartyHost:o,isTgScene:l}},function(module,exports){"use strict";function dateFormat(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};return y=y.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)}),y.replace(/(y+)/g,function(e){return x.getFullYear().toString().slice(-e.length)})}function isNotExpired(e){return new Date(e).getTime()>Date.now()}function isExpired(e){return new Date(e).getTime()<Date.now()}module.exports={dateFormat:dateFormat,isExpired:isExpired,isNotExpired:isNotExpired}},function(e,t){"use strict";function n(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);t=(t<<5)-t+i,t&=t}return Math.abs(t)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;/\$\{([^}]*)}/.test(e)&&console.error("DO NOT USE ${}",e);for(var i=e;n&&/#\{([^}]*)}/.test(i);)i=i.replace(/#\{([^}]*)}/g,function(e,n){var i=t[n];return void 0!==i?i:e}),n--;return i}e.exports={hashCode:n,parse:i}},function(e,t,n){"use strict";var i=n(46).make,o=i({1:"普通账号",2:"企业账号",21:"企业子账号",5:"公共账号",51:"公共子账号",3:"高级用户",4:"秀客",99:"运营人员"});e.exports={USER_ROLE:o}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t[t[n]=i]=n}return t}e.exports={make:n}},function(e,t,n){"use strict";function i(e){var t=void 0,n=e.isTemplate,i=e.bizType;n&&3!==n&&4!==n?1===n?t=12:2===n&&(t=22):t=i?40==i?31:21:11;var s=window.location.host,a=r(s),c="b";return c=d()?"b":f()?"c":"a",new Promise(function(i){h(t,a,c).then(function(t){var r=t.map.logo;y=t.map.tail,t.map.share&&(x={link:t.map.share.backLink,domains:t.map.share.domains},m()||!window.scene||0===window.scene.property.eqAdType||window.scene.property.loadingLogo||1===n||2===n||window.location.href.indexOf("scene.eqxiu.com")!==-1||(b={shareCover:t.map.share.shareCover,coverLink:t.map.share.coverLink})),window.location.host.indexOf("eqh5.cn")>-1||window.location.host.indexOf("adscene.eqxiu.cc")>-1?l(e):x&&x.domains&&x.domains.indexOf(a)>-1&&x.link&&!m()&&window.scene&&0!==window.scene.property.eqAdType&&!window.scene.property.loadingLogo&&1!==n&&2!==n&&window.location.href.indexOf("scene.eqxiu.com")===-1&&u(),r&&o(r),i()})["catch"](function(e){console.log(e),i()})})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=$(".loading");if(e.backgroundSrc&&t.css({backgroundImage:"url('"+(p.FILE+e.backgroundSrc)+"')",backgroundColor:"none",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}),e.logoSrc){var n=t.find(".loadbg");n.css({backgroundImage:"url('"+(p.FILE+e.logoSrc)+"')",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center",width:"70px",height:"70px"}),e.logoLink&&n.click(function(){window.location.href=e.logoLink})}if(e.brandSrc){var i=$('<div class="loading-brand"></div>').appendTo(t);i.css({backgroundImage:"url('"+(p.FILE+e.brandSrc)+"')",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"40px",position:"absolute",left:"0",bottom:"0",zIndex:"9999"}),e.brandLink&&i.click(function(){window.location.href=e.logoLink})}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host,t=void 0;return t=e.indexOf(p.EQX_AD_DOMAIN)!==-1?1:e.indexOf(p.EQX_TG)!==-1?2:e.indexOf(p.EQX_VIP_DOMAIN)!==-1?4:e.indexOf(p.EQX_APP_DOMAIN)!==-1?5:e.indexOf(p.EQX_COMPANY_DOMAIN)!==-1?3:e.indexOf(p.EQX_NO_BUSINESS_DOMAIN)!==-1?7:e.indexOf(p.EQX_BATCH_SCENES_DOMAIN)!==-1?8:6}function s(){return new Promise(function(e){return e(y)})}function a(){return b}function c(){return x}function u(){function e(){var e=x.link;/http/.exec(x.link)&&(e=g(x.link));var t={title:"聚合页",page:"eqxScenes",url:window.location.origin+e},n=window.location.href;window.history.replaceState(t,null,t.url),window.history.pushState({page:"detail"},null,n)}e(),window.addEventListener("popstate",function(e){var t=e.state;t&&"eqxScenes"===t.page&&location.reload()})}function l(e){var t=window.location.href;e.ext&&e.ext.yqc&&(t.indexOf("singlemessage")>-1||t.indexOf("groupmessage")>-1||t.indexOf("timeline")>-1)&&v()}var p=n(22),h=n(48).$getLoadPageConfig,d=n(25).isWeixin,f=n(25).mobilecheck,g=n(24).getPathName,m=n(25).isApp,v=n(49).setAd,y=null,b=null,x=null;e.exports={customLoadPage:i,getLastPageConfig:s,getSharePopConfig:a,getButtonConfig:c,getDomainType:r}},function(e,t,n){"use strict";function i(e,t,n){return n=n||"b",window._configure&&window._configure[n]?Promise.resolve({map:window._configure[n]}):s({type:"GET",url:a.SERVER_1+"eqs/scene/skin/get/page",data:{type:e,domain:t,platform:n}})}function o(e){return s({type:"GET",url:a.SERVER_2+"eqs/trailer/"+e})}function r(e){return e?o(e).then(function(e){return e.obj?(e.obj.isActivity=!0,e.obj):Promise.reject("活动尾页数据错误")}):Promise.reject("没有活动尾页 ID")}var s=n(21).$ajax,a=n(22);e.exports={$getPageInfo:o,$getActivityPage:r,$getLoadPageConfig:i}},function(e,t,n){"use strict";function i(){var e=$("#"+f);$(".ad-modal-content").append(e),$(".ad-modal-wx").css({display:"block"}),a(l,p,h,1)}function o(){s().then(function(e){var t=e.list[0].scenePageDTO;if(d=e.list[0].adPositionId,t){var n=t.elements.find(function(e){return"g"===e.type});f=n.id;var i=n.css.height,o=n.css.width,r=t.properties.xb;r&&(l=r.orderId,p=r.taskId,h=r.sceneId);var s=$('<div class="ad-modal-wx">\n                          <div class="ad-modal-content ad-wx-slideInDown">\n                          </div>\n                          <div class="ad-close-btn ad-wx-slideInDown"></div>\n                      </div>');$(".p-index.main").not(".editor-section").prepend(s),$(".ad-modal-content").css({width:o,height:i,"margin-left":-o/2});var a=$(".ad-close-btn");a.on("click",function(){s.animate({opacity:0},{duration:300,complete:function(e){return s.remove()}})})}})}function r(){function e(){var e={title:"title",url:"#"};window.history.pushState(e,"title","#")}window.onload=function(){o()},e();var t=!1;window.addEventListener("message",function(e){e.data.msg&&"adIsShowed"===e.data.msg&&(t=!0)}),window.addEventListener("popstate",function(){return t?void wx.closeWindow():1!=d&&3!=d?void wx.closeWindow():void i()},!1)}function s(){var e=window.scene.id,t=c.SERVER_1+"adview/scenePage/find?sceneId="+e,n=t.replace(/http:\/\//g,window.location.protocol+"//");return u({type:"GET",url:n})}function a(e,t,n,i){var o=c.TRACK+"p.gif?",r=encodeURIComponent,s=document,a={order_no:e,task_id:t,scene_id:n,exposure_type:i};o+="data="+r(JSON.stringify(a));var u=s.createElement("img");$(u).attr({src:o,width:0,height:0}),s.body.appendChild(u)}n(50);var c=n(22),u=n(21).$ajax,l=void 0,p=void 0,h=void 0,d=void 0,f=void 0;e.exports={adModal:i,setAd:r,viewData:a}},function(e,t){},function(e,t,n){e.exports=n.p+"images/spring-5632ca.jpg"},function(e,t,n){"use strict";function i(){var e=p.ppitest(),t=s(),n=o();return u(),"\n            "+e+'\n            <div id="view_panel">\n            '+t+"\n            "+n+'\n                <div id="support">\n                    <a target="_blank" href="http://www.eqxiu.com">\n                         <em class="eqf-eqxiulogoorgin"></em>\n                     </a>\n                </div>\n            </div>'}function o(){var e=p.nr(),t=r();return'\n    <div class="phone_panel">\n                <div class="p-index main phoneBox" id="con" style="display: none;">         \n                    <div class="scene_title_baner">\n                        <h1 class="scene_title"></h1>\n                    </div>\n                    '+e+"\n                </div>\n                "+t+"\n            </div>"}function r(){return'<div class = "ctrl_panel">\n                <a id = "pre_page" type = "button" class = "pre_btn btn_scroll">上一页</a>\n                <a id = "next_page" type = "button" class = "next_btn btn_scroll">下一页</a>\n            </div>'}function s(){return'\n            <div id="code">\n                <div class="code_panel">\n                    <div class="code_panel_top">\n                        <div class="app">\n                            <a id="downApp" style="font-size:12px;">下载APP</a>\n                            <div id="downAppView" class="zoomIn-change">\n                                <h3><a id="close" style="cursor:pointer">X</a>易企秀APP</h3>\n                                <div id="downCode"></div>\n                                <p style="padding-bottom:20px;padding-top:10px;">一键生成H5，随时随地查数据</p>\n                            </div>\n                        </div>\n                        扫一扫，分享给朋友！\n                    </div>\n                    <div id="codeImg"/>\n                    <div id="view_share" class="bdsharebuttonbox">\n                        <a class="share-qq" href="" target="_blank"><span class="eqf-QQ share-icon"></span></a>\n                        <a class="share-qqZone" href="" target="_blank"><span class="eqf-QQzone share-icon"></span></a>\n                        <a class="share-weibo" href="" target="_blank"><span class="eqf-weibo share-icon"></span></a>\n                    </div>\n                </div>\n                <a class="btn_panel" target="_blank" href="'+d+'cats-2.html">\n                    <div id="view_reg">这么漂亮的场景&nbsp;→\n                        <span>我也来制作</span>\n                    </div>\n                </a>\n            </div>\n            '}function a(e){$("#view_reg").after('<div id="sample_btn">使用该模板</div>'),$("#view_reg").addClass("view_reg"),$("body").on("click","#sample_btn",function(){window.open(d+"redirect-"+e+".html")})}function c(){m().then(function(e){if(e.list.length){var t=e.list[0];$("#code").find(".btn_panel").append('<div id="advertisement_img">\n                    <a href="'+t.url+'" target="_blank">\n                    <img src="'+t.path+'">\n                    </a>\n                 </div>')}})}function u(){var e=0,t=$(document.body),n=$('<div id="lampHide-btn"><em class="eqf-left"></em></div>');t.append(n),n.click(function(){0===e?($("#recomment_container").hide(),$("#view_panel").addClass("onlyPhone"),$("#lampHide-btn").css("transform","rotate(180deg)"),$("#code").hide(),e=1):($("#recomment_container").show(),$("#view_panel").removeClass("onlyPhone"),$("#lampHide-btn").css("transform","rotate(360deg)"),$("#code").show(),e=0)})}function l(){var e=0,t=$(document.body),n=$('<div id="recomment_container"></div>'),i=$('<span id="recommend_btn">热点推荐</span>'),o=$('<div id="recommend_content"></div>'),r=$("<ul></ul>");n.append(o).append(i),t.append(n),i.click(function(){0===e?(o.hide(),$("#view_panel").css("margin","-300px 0 0 -326px"),e=1):(o.show(),$("#view_panel").css("margin","-300px 0 0 -198px"),e=0)});var s=v(window.location.host);g(s).then(function(e){e.list.length?($("#view_panel").css("margin","-310px 0 0 -204px"),o.append(r),e.list.forEach(function(e){r.append('<li><a href="'+f+"s/"+e.code+'" target="_blank"><img src="'+h.FILE+e.cover+'"> <span>'+(e.name||"我用易企秀做了一个超酷炫的H5，快来看看吧。")+"</span></a></li>")})):$("#recomment_container").remove()})["catch"](function(e){$("#recomment_container").remove()})}var p=n(53),h=n(22),d=h.STORE;d=h.STORE.replace("https://","http://");var f=h.VIEW_HOST,g=n(54).$getRecommendScenes,m=n(54).$getPCAdvertisement,v=n(47).getDomainType;e.exports={div:i,pcCtrlBtn:r,addSample:a,addRecommend:l,addAdvertisement:c}},function(e,t,n){"use strict";function i(){return'<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>'}function o(){var e=$(".loading").remove().show()[0].outerHTML;return'\n<div class="nr" id="nr">\n    '+e+"\n</div>\n"}function r(e,t){e=e||"场景名称";var n=t.startsWith("http")?t:s.FILE+t;return'\n<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            <!-- 3、场景封面 -->\n            <img class="cover-img" src="'+n+'">\n        </div>\n        <!-- 4、场景名称 -->\n        <div class="scene-name">'+e+'</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>'}var s=n(22);e.exports={nr:o,ppitest:i,pwd:r}},function(e,t,n){"use strict";function i(){return/max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(window.location.host)}function o(){return(/\/(\w+)$/.exec(window.location.pathname)||[])[1]}function r(){function e(e){return w(e),e}var t=new Promise(function(t,n){var r=window.scene;if(r)t(e(r));else if(window.__isServerRendered&&!window.scene&&n("场景数据异常"),i()){var s=o();window.__isMax=!0,v({type:"GET",url:f.SERVER_MAX+"m/new/check/model/code?objectId="+s+"&JSESSIONID=ff4ff6599aa04597861955583c300a5d"}).then(function(i){if(i&&i.data){var o=i.data,r=window.scene=o.scene,s=o.pages.map(function(e){return{elements:e}});window.viewData={list:s},t(e(r))}else n("无审核场景数据")})["catch"](function(){n("无审核场景数据")})}else m({type:"GET",url:f.SERVER_1+"eqs/sc?code="+l()}).then(function(i){i.obj?t(e(i.obj)):n("无场景数据")})["catch"](function(){n("无场景数据")})});return t.then(function(t){return!t||!t.property.isHidden||y.getUrlParam("qz_gdt")||y.getUrlParam("wx_traceid")||y.getUrlParam("gdt_vid")?Promise.resolve(t):m({type:"GET",url:f.SERVER_1+"eqs/geterrorpage"}).then(function(t){return t.obj?e(t.obj):"无场景数据"})["catch"](function(){return"无场景数据"})})}function s(e){if(window.viewData)return Promise.resolve(window.viewData);var t=b("userKey"),n=b("compKey"),i={type:"GET",url:u()},o={type:"GET",url:c()};e&&(i.data={password:e});var r=null,s=Promise.resolve(null);return(t||n)&&(s=v(o).then(function(e){r=e.map})),s.then(function(){return v(i)}).then(function(e){return r&&(e.map=r),e})}function a(){var e=b("userKey"),t=b("cache"),n=f.SERVER_1,i=S(window.scene);return(i||k())&&(n=f.SERVER_2),(e||t)&&(n=f.SERVER_1),n}function c(){var e=window.scene||{},t=e.id,n=e.code;if(!t)throw new Error("Not Valid Scene! No Id!");if(!n)throw new Error("Not Valid Scene! No Code!");var i=b("userKey"),o=b("compKey"),r=a(),s=r+"eqs/s/scene/component/data?id="+t+"&code="+n,c=x(s);return i&&c.searchParams.set("userKey",i),o&&c.searchParams.set("compKey",o),s=c.href}function u(){var e=window.scene||{},t=e.id,n=e.code,i=e.publishTime;if(!t)throw new Error("Not Valid Scene! No Id!");if(!n)throw new Error("Not Valid Scene! No Code!");var o=a(),r=o+"eqs/page/"+t+"?code="+n,s=x(r);return s.searchParams.set("time",i),r=s.href}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(window.scene)return window.scene.code;e=x(e);var t=e.pathname,n=t.lastIndexOf("/");if(n>-1)var i=t.substr(n+1);if(!i)throw new Error("No Valid Scene Code!");return i.length>10&&console.error("URL Code 大于 10 位, 请检查 Code"),i}function p(e){return v({type:"GET",url:f.SERVER_1+"eqs/s/recommend/scene/preview?domain="+e})}function h(){return v({type:"GET",url:f.SERVER_2+"eqs/banners?pageCode=pc_view_bottom_ad"})}function d(){return Math.ceil(1e10*Math.random())}var f=n(22),g=n(21),m=g.ajax,v=g.$ajax,y=n(24),b=y.getUrlParam,x=y.parseUrl,w=n(55).perfectMeta,S=n(42).isVipScene,k=n(42).isTgScene;e.exports={$getSceneMetaData:r,$getSceneData:s,$getRecommendScenes:p,$getPCAdvertisement:h,randomId:d}},function(e,t,n){"use strict";function i(e){return e.ext||(e.ext={}),"string"==typeof e.property&&(e.property=JSON.parse(e.property)||{}),"string"==typeof e.bgAudio&&(e.bgAudio=JSON.parse(e.bgAudio)||null),null===e.accessCode&&(e.accessCode=""),c(e),s(e),a(e),e}function o(e){e.name=e.name||"未命名场景",e.name=e.name.replace(/&quot;/g,'"')}function r(e){e.description=e.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。"}function s(e){switch(e.pageMode+""){case"2":e.pageMode=u["上下翻页"]}void 0===u[e.pageMode]&&(_DEBUG_,e.pageMode=u["上下翻页"]),e.property||(e.property={});var t=e.property;return"triggerLoop"in t||(t.triggerLoop=!0),"autoFlip"in t||(t.autoFlip=!1),t.autoFlipTime||(t.autoFlipTime=3),"forbidHandFlip"in t||(t.forbidHandFlip=!1),void 0!==t.slideNumber&&null!==t.slideNumber||(t.slideNumber=!0),e}function a(e){var t=e.property,n=e.createTime,i=e.hideEqAd,o=e.eqAdType,r=e.isAdvancedUser,s=e.bottomLabel;switch(n<14165028e5|i|99===o&&(t.eqAdType=l["无尾页无底标"],delete t.createTime,delete t.hideEqAd),r&&(t.ad=2,s&&s.id?t.eqAdType=l["品牌联合底标"]:t.eqAdType=l["技术支持底标"],delete t.isAdvancedUser),""+t.eqAdType){case l["无尾页无底标"]:t.ad=0;break;case l["技术支持尾页"]:t.ad=1;break;case l["技术支持底标"]:case l["品牌联合底标"]:t.ad=2;break;case l["deepshare尾页"]:t.ad=4;break;default:t.eqAdType=l["技术支持尾页"],t.eqAdType=parseInt(t.eqAdType),t.ad=1}}function c(e){var t=e.property;if(t.shareDes&&"string"==typeof t.shareDes)try{t.shareDes=JSON.parse(t.shareDes)}catch(n){t.shareDes={description:{type:"position",description:t.shareDes}}}var i=!1;if(t.wxCount>0||(1==t.clickFarmerStatus||2==t.clickFarmerStatus)&&t.wxClickFarmerCount>0)i=!0;else{var o=t.shareDes;o&&(o.description&&["myself","selfAndPosition"].includes(o.description.type)||o.title&&["myself","selfAndPosition"].includes(o.title.type)||o.avatar)&&(i=!0)}t.wxAuth=i}var u=n(56).PAGE_MODE,l=n(57).AD_TYPE;e.exports={perfectMeta:i,perfectPageMode:s,perfectAdType:a,perfectName:o,perfectDescription:r}},function(e,t){"use strict";function n(e){return a.includes(e)}function i(e){return c.includes(e)}var o={up:1,right:2,down:3,left:4},r=[{name:"上下翻页",type:0,dir:o.down},{name:"上下惯性翻页",type:1,dir:o.down},{name:"左右惯性翻页",type:3,dir:o.right},{name:"左右翻页",type:4,dir:o.right},{name:"左右连续翻页",type:5,dir:o.right},{name:"立体翻页",type:6,dir:o.down},{name:"卡片翻页",type:7,dir:o.down},{name:"放大翻页",type:8,dir:o.down},{name:"交换翻页",type:9,dir:o.right},{name:"翻书翻页",type:10,dir:o.right},{name:"上下连续翻页",type:11,dir:o.down},{name:"掉落翻页",type:12,dir:o.down},{name:"淡入翻页",type:13,dir:o.down},{name:"上下推出翻页",type:14,dir:o.down},{name:"左右推出翻页",type:15,dir:o.right},{name:"折叠翻页",type:16,dir:o.down}],s={};r.forEach(function(e){s[e.type]=e.name,s[e.name]=e.type});var a=r.filter(function(e){return e.dir==o.down}).map(function(e){return e.type}),c=r.filter(function(e){return e.dir==o.right}).map(function(e){return e.type});e.exports={isBottomArrow:n,isRightArrow:i,BOTTOM_ARROWS:a,RIGHT_ARROWS:c,PAGE_MODE:s}},function(e,t,n){"use strict";var i=n(46).make,o=i({0:"无尾页无底标",1:"技术支持尾页",2:"技术支持底标",3:"品牌联合底标",4:"deepshare尾页"});e.exports={AD_TYPE:o}},function(e,t,n){"use strict";function i(){var e=a.nr();return'<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '+e+'\n        <div class="bottom"></div>\n    </div>\n</div>'}function o(){var e=a.nr(),t=a.ppitest();return"\n"+t+'\n<div class="p-index main iframe-phone" id="con" style="display: none; width: 320px; margin-right: 40px;">\n'+e+"\n</div>\n"}function r(){return'<div class = "iframe_panel" style="z-index:2;">\n        <div class="preview"><a id = "pre_page" type = "button" class = "scroll_btn"><span class="eqf-right" style="display: inline-block;transform: rotate(-90deg);font-size: 18px;"></span></a></div>\n        <div class="next"><a id = "next_page" type = "button" class = "scroll_btn"><span class="eqf-left" style="display: inline-block;transform: rotate(-90deg);font-size: 18px;"></span></a></div>\n    </div>';
}function s(){return'<div class="iframe_panel2">\n                    <ul>\n                        <li id="pre_page">上一页</li>\n                        <li id="next_page">下一页</li>\n                    </ul>\n                </div>'}var a=n(53);e.exports={div:i,phoneDiv:o,ctrlBtnDiv:r,ctrlBtnDiv2:s}},function(e,t,n){"use strict";function i(){var e=o.nr(),t=o.ppitest();return"\n"+t+'\n<div class="p-index main" id="con" style="display: none;">\n'+e+"\n</div>\n"}var o=n(53);e.exports={div:i}},function(e,t,n){"use strict";function i(e){var t=e.property.activityPageId;if(e.isPwd)var n=new Promise(function(t){new r(e.cover,$("#nr"),t)});else n=s();var i=n.then(function(t){return t.meta=e,new l(t,[p]).start(),t}),v=a(t)["catch"](function(){return null});return Promise.all([i,v]).then(function(e){var t=o(e,2),n=t[0],i=t[1];return i instanceof Object&&n.list.push(i),n}).then(function(e){var t=e.meta;if(!f(t))return e;var n=t.ext;return c(n.yqc.ad).then(function(t){return t&&t.list&&t.list.length?(t.list.filter(function(e){return!!e.scenePage||!!e.scenePageDTO}).forEach(function(t){for(var n=t.scenePage,i=t.scenePageDTO,o=t.pageNum,r=i||n,s=r.elements||[],a=0;a<s.length;a++){var c=s[a];if(c&&"EqxAdvertise"==m[c.type]){c.content="tpl";break}}var u=o-1,l=e.list;u>l.length?l.push(r):l.splice(u,0,r)}),e):e})["catch"](function(t){return console.error(t||"广告尾页请求或者解析失败"),e})}).then(function(e){return new u(e).addPageFn(h).addEleFn(d).start(),g(e)})}var o=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{!i&&a["return"]&&a["return"]()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(61).Guess,s=n(54).$getSceneData,a=n(48).$getActivityPage,c=n(64).$getYqcAd,u=n(65),l=n(66).ObjAdaptor,p=n(67).perfectScene,h=n(68).perfectPage,d=n(71).perfectComp,f=n(42).isEqxAdScene,g=n(79).addEqAdInfo,m=n(70).COMP_TYPE;e.exports={getPerfectSceneData:i,$getActivityPage:a}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(62);var r=n(63),s=n(44).parse,a=n(54).$getSceneData,c=n(25),u=c.mobilecheck,l=c.isAndroidPhone,p=c.tabletCheck,h=c.isPc,d=n(22),f=function(){function e(t,n,o){if(i(this,e),this.callBack=o,this.password="",t.startsWith("http")||(t=d.FILE+t),n.append(s(r,{cover:t})),$("#loading").hide(),$("#verifyCode").show(),h()||l()?($(".password-numbers>span").on("click",this.passwordEventListener.bind(this)),$("#btnClear").on("click",this.btnClearEventListener.bind(this)),$("#btnCancel").on("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").on("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").on("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").on("touchstart",this.btnCancelEventListener.bind(this))),u()||p()){var a,c=$(".container"),f=c.width(),g=c.height();a=Math.floor(10*Math.min(document.documentElement.clientHeight/g,document.documentElement.clientWidth/f))/10,c.css("transform","scale("+a+", "+a+")")}}return o(e,[{key:"requestSceneDataWithPassword",value:function(e){var t=this;a(e).then(function(e){t.clearGuess(),t.callBack(e)})["catch"](function(){t.warnGuess()})}},{key:"animateVerifyTip",value:function(){var e=this;$("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("shake"),e.syncronizeTheIndicator()})}},{key:"syncronizeTheIndicator",value:function(){var e=this;$(".password-indicator li").each(function(t,n){t<e.password.length?$(n).addClass("active"):$(n).removeClass("active")})}},{key:"passwordEventListener",value:function(e){var t=$(e.target);t.addClass("active"),this.password+=t.text(),this.syncronizeTheIndicator(),4==this.password.length&&(this.requestSceneDataWithPassword(this.password),this.password=""),setTimeout(function(){t.removeClass("active")},100)}},{key:"btnClearEventListener",value:function(e){this.password="",this.syncronizeTheIndicator()}},{key:"btnCancelEventListener",value:function(e){this.password&&(this.password=this.password.substring(0,this.password.length-1),this.syncronizeTheIndicator())}},{key:"clearGuess",value:function(){$("#verifyCode").remove(),h()||l()?($(".password-numbers>span").off("click",this.passwordEventListener.bind(this)),$("#btnClear").off("click",this.btnClearEventListener.bind(this)),$("#btnCancel").off("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").off("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").off("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").off("touchstart",this.btnCancelEventListener.bind(this)))}},{key:"warnGuess",value:function(){$("#verifyCode").show(),this.animateVerifyTip()}}]),e}();e.exports={Guess:f}},function(e,t){},function(e,t){e.exports='<div id="verifyCode" class="verifyCode"><div class="container"><div class="scene-cover"><img class="cover-img" src="#{cover}"></div><div class="scene-name">场景名称</div><div class="confirm-password"><div class="verify-label">请输入访问密码</div><div class="verify-tips" id="verifyTip"><ul class="password-indicator"><li></li><li></li><li></li><li></li></ul></div><div class="password-numbers"><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>0</span></div><div class="password-operation"><span class="btn-clear" id="btnClear">清空</span> <span class="btn-cancel" id="btnCancel">取消</span></div></div></div></div>'},function(e,t,n){"use strict";function i(e){return r({type:"GET",url:s.SERVER_1+"adview/scenePage/find",data:{sceneId:e,time:Date.now()}})}function o(e){return r({type:"GET",url:s.SERVER_1+"adview/tail/find",data:{sceneId:e,time:Date.now()}})}var r=n(21).ajax,s=n(22);e.exports={$getYqcAd:i,$getYqcTail:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(66),s=r.ObjAdaptor,a=r.ListAdaptor,c=n(67).perfectScene,u=function(){function e(t){i(this,e),c(t),this.sceneJson={map:t.map,meta:t.meta,list:t.list},this.mapAdaptor=new s(t.map),this.metaAdaptor=new s(t.meta),this.pageAdaptor=new a(t.list),this.eleAdptorList=t.list.map(function(e){return e.elements||(e.elements=[]),new a(e.elements)})}return o(e,[{key:"addMapFn",value:function(e){return this.mapAdaptor.addFn(e),this}},{key:"addMetaFn",value:function(e){return this.metaAdaptor.addFn(e),this}},{key:"addPageFn",value:function(e){return this.pageAdaptor.addFn(e),this}},{key:"addEleFn",value:function(e){return this.eleAdptorList.forEach(function(t){return t.addFn(e)}),this}},{key:"start",value:function(){var e=this;this.mapAdaptor.start(this.sceneJson),this.metaAdaptor.start(this.sceneJson),this.pageAdaptor.start(this.sceneJson),this.eleAdptorList.forEach(function(t,n){return t.start(e.sceneJson,e.sceneJson.list[n])})}}]),e}();e.exports=u},function(e,t){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e),this.fns=t}return r(e,[{key:"addFns",value:function(e){var t=this;return e.forEach(function(e){return t.addFn(e)}),this}},{key:"addFn",value:function(e){return this.fns.includes(e)||this.fns.push(e),this}},{key:"removeFn",value:function(e){var t=this.fns.indexOf(e);return t>-1&&this.fns.splice(t,1),this}},{key:"clearFns",value:function(){return this.fns.length=0,this}},{key:"start",value:function(){return this}}]),e}(),a=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return r.data=e,r}return i(t,e),r(t,[{key:"start",value:function(e){var t=this;return this.fns.forEach(function(n){return n.call(null,t.data,e)}),this}}]),t}(s),c=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return Array.isArray(e)||(_DEBUG_&&console.error("Invalid Array"),e=[]),r.list=e,r}return i(t,e),r(t,[{key:"start",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.fns.forEach(function(t){return e.list.forEach(function(e){return t.call.apply(t,[null,e].concat(n))})}),this}}]),t}(s);e.exports={ObjAdaptor:a,ListAdaptor:c}},function(e,t){"use strict";function n(e){return e.meta?e.obj=e.meta:e.obj=e.obj||{},e.meta=e.obj,e.map=e.map||{},e.list=e.list||[],e.list.forEach(function(e,t){e.num=t+1}),e}e.exports={perfectScene:n}},function(e,t,n){"use strict";function i(e,t){o(e),a(e,t),r(e,t),s(e),u(e),l(e.properties,"p",e)}function o(e){e.elements&&e.elements.forEach(function(e){e.css=e.css||{};var t=e.type;"3"==t?e.css.zIndex=-1:"q"==t&&(e.css.zIndex=0)})}function r(e){e.elements=e.elements.filter(function(e){var t=e.type;if("EqxShape"==p[t]){var n=e.properties,i=n.type,o=n.src;if(o)return!0;if(!i)return!1;if(i.includes("symbols"))return!0;var r=i.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});return!!r}return!0})}function s(e){var t=e.properties,n=t.longPage;n&&n>1&&n<6&&(t.longPage=486*n)}function a(e,t){e.properties=e.properties||{},e.properties.triggerGroup=e.properties.triggerGroup||[],e.properties.pageScroll=e.properties.pageScroll||{},Array.isArray(e.properties.triggerGroup)||(e.properties.triggerGroup=[]),e.elements=e.elements||[],e.sceneId=t.meta.id,e.name=e.name||"第"+e.num+"页",e.elements.forEach(function(t){return t.pageId=e.id})}function c(e){var t=e+"Effect";h.includes(t)||h.push(t)}function u(e){var t=e.properties||{};if(t.image||t.scratch){c("scratch");var n=t.effect=Object.assign({name:"scratch"},t.image||t.scratch),i=n.percentage?n.percentage.value||n.percentage||.15:.15;return delete n.percentage,n.percentage=i,void(t.image?delete t.image:delete t.scratch)}if(t.finger)return c("finger"),t.effect=Object.assign({name:"finger"},t.finger),void delete t.finger;if(t.fallingObject)return c("fallingObject"),t.effect=Object.assign({name:"fallingObject"},t.fallingObject),void delete t.fallingObject;if(t.effect){var o=t.effect.name;c(o),"money"===o&&_DEBUG_&&(t.effect.seconds=2)}}var l=n(69),p=n(70).COMP_TYPE,h=[];e.exports={perfectPage:i,perfectJson:a,perfectLongPage:s,perfectTrigger:l,effectArr:h,perfectEffect:u}},function(e,t){"use strict";function n(e,t,n){var i=e.trigger;if(i){var o=i.sends;Array.isArray(o)&&(n.properties.triggerGroup=n.properties.triggerGroup||[],o.forEach(function(i){i.handles.forEach(function(o){o.ids&&o.ids.length&&o.ids.forEach(function(r){n.properties.triggerGroup.push({eventType:i.type,sourceType:t,sourceId:"e"==t?e.id:n.id,targetType:"e",targetId:r,targetState:o.type,delay:i.delay})})})})),"e"==t&&i.initType&&(e.properties.initType=i.initType),delete e.trigger}if("e"==t&&1!=e.properties.initType&&2!=e.properties.initType)if(i&&i.receives&&i.receives.length){var r=i.receives.length;1===i.receives[r-1].type?e.properties.initType=2:2===i.receives[r-1].type&&(e.properties.initType=1)}else e.properties.initType=1}e.exports=n},function(e,t){"use strict";var n={16:"EqxPipButton",1:"EqxHotNewText",13:"EqxPhotoWall",7:"EqxNewText",2:"EqxText",x:"EqxText",298:"EqxDeepShare",299:"EqxReport",3:"EqxBackground",4:"EqxImage",8:"EqxTelephone",9:"EqxRedPacket",10:"EqxRandomContent",11:"EqxReward",b:"EqxComment",h:"EqxShape",i:"EqxCount",l:"EqxLink",t:"EqxChart",v:"EqxVideo",o:"EqxInteractiveVideo",p:"EqxImageSlider",m:"EqxMap",n:"EqxRandom",s:"EqxSound",d:"EqxPv",g:"EqxAdvertise",e:"EqxDownTime",f:"EqxUpTime",upload:"EqxUploadImages",a:"EqxScore",c:"EqxCheckbox",r:"EqxRadio",z:"EqxDropDownList",5:"EqxInput",501:"EqxInput",502:"EqxInputPhone",503:"EqxInputEmail",504:"EqxInput",6:"EqxSubmitButton",601:"EqxSubmitButton",12:"EqxSMS",201:"EqxWxNickName",401:"EqxWxProfile",403:"EqxWxUploadImage",w01:"EqxWxSoundPlay",w02:"EqxWxSoundRecord",j:"EqxImgVote",k:"EqxTextVote",q:"EqxGravity",u:"EqxDrawingBoard",14:"EqxDate"},i=["upload","5","501","502","503","504","c","r","z","a","12"],o=["201","401","403","w01","w02","j","k","11","9","b","13"],r=["i","6","601"],s=["3","q"],a=Date.now()+""+Math.floor(1e5*Math.random());e.exports={COMP_TYPE:n,FORM_COMPS:i,WX_COMPS:o,WX_CLICK_FARMER_COMPS:r,FIX_INDEX_COMPS:s,COMP_KEY:a}},function(e,t,n){"use strict";function i(e,t,n){return r(e,t),s(e,t,n),a(e),u(e),o(e,t),c(e),l(e),p(e),d(e,t),w(e,"e",n),h(e),v(e,n),y(e,n),e}function o(e,t){if("EqxDrawingBoard"===b[e.type]&&t.map[P]){var n=t.map[P][e.id];n&&(e.properties.imgSrc=n,e.properties.qiniuSrc=n)}}function r(e,t){e&&t&&(e.properties=e.properties||{},"string"==typeof e.properties&&(e.properties={}),e.css=e.css||{},e.sceneId=t.meta.id)}function s(e,t,n){var i=e.css,o=b[e.type];if("translate3d(0px, 0px, 0px) rotateZ(0deg) scale(1, 1)"===i.transform&&(i.transform=""),"EqxBackground"!==o){var r=["top","left","width","height","zIndex"];r.forEach(function(e){void 0===i[e]&&(_DEBUG_,"height"===e&&(["EqxInput","EqxInputEmail","EqxInputPhone"].includes(o)&&(i.height=38),"EqxSubmitButton"===o&&(i.height=36),"EqxRadio"!==o&&"EqxCheckbox"!==o||_DEBUG_&&console.info(o),_DEBUG_&&console.info("add height",i.height)))});var s={color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},a=Object.assign({},s,i);Object.assign(i,a)}if(g(e),f(i),n){var c=n.properties.longPage||486;i.bottom&&!i.top&&(i.top=c-i.bottom-i.height,console.log("bottom "+i.bottom+" height "+i.height+" -> top "+i.top),delete i.bottom)}return i.top||(i.top=0),i.left||(i.left=0),e}function a(e){var t=e.properties;"string"==typeof t&&(t={}),t.anim?(Array.isArray(t.anim)||(t.anim=[t.anim]),t.anim=t.anim.filter(function(e){var t=e||{},n=t.type,i=t.direction;return!(n==-1||null==n||void 0==n||!S[n])&&(S[n][i]||(console.error("invalid animation type",e),e.direction=0),!0)})):t.anim=[],t.anim.forEach(function(e){["delay","duration"].forEach(function(t){"string"==typeof e[t]&&(e[t]=parseFloat(e[t]))})})}function c(e){var t=e.type,n=e.properties,i=n.cropSize,o=n.croptype,r=n.pageLength;"EqxBackground"===b[t]&&(i&&!o&&(n.croptype=x["固定背景模式"]),r&&(r<2&&delete n.pageLength,r<10&&(n.pageLength=486*r)))}function u(e){if("EqxImage"===b[e.type]){var t=e.properties;f(t),f(t.imgStyle||(t.imgStyle={}))}}function l(e){var t=b[e.type];"string"!=typeof e.choices||"EqxCheckbox"!==t&&"EqxDropDownList"!==t&&"EqxRadio"!==t||(e.choices=JSON.parse(e.choices)||{})}function p(e){}function h(e){"EqxDropDownList"==b[e.type]&&(e.showText&&e.placeholderText&&e.choices&&(e.choices.options.unshift({id:0,label:e.placeholderText}),e.choices.options.map(function(t){t.value=t.id,delete t.id,t.selected=!1,t.label==e.showText&&(t.selected=!0)})),delete e.showText,delete e.placeholderText,e.choices&&delete e.choices.seq)}function d(e,t){var n=t.meta.publishTime,i=b[e.type];if("EqxText"===i||"EqxAwesomeText"===i){e.type=2,e.properties&&e.properties.dataUrl&&delete e.properties.dataUrl;var o=e.content;o&&o.length>0&&(o=o.replace(/(^\s*)|(\s*$)/g,""),k.isBadStr(o)&&(console.error("xss text"),o=k.toGoodStr(o)),e.content=o),e.publishTime=n}}function f(e){"100%"===e.width&&(e.width=320),["opacity","width","height","top","bottom","left","right","zIndex","borderWidth","borderBottomLeftRadius","borderBottomRightRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"].forEach(function(t){var n=e[t];n&&(e[t]=parseFloat(n))})}function g(e){var t=e.css,n=b[e.type],i=["top","bottom","left","zIndex","width","height","lock","transform","opacity","color","backgroundColor","lineHeight","fontSize","textAlign","fontWeight","writingMode","letterSpacing","fontFamily","paddingBottom","paddingTop","letterSpacing","fontStyle","textDecoration","letterSpacing","fontStyle","borderWidth","borderStyle","borderColor","borderRadius","borderRadiusPerc","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","boxShadow","boxShadowDirection","boxShadowSize"];return Object.keys(t).forEach(function(e){var o=i.indexOf(e),r=t[e];if(o===-1&&(_DEBUG_,"EqxInput"===n&&"text-align"===e&&(t.textAlign=t.textAlign||t["text-align"],delete t[e]),"border"===e)){var s=m(r);t.borderColor=s.borderColor||t.borderColor,t.borderWidth=s.borderWidth||t.borderWidth,t.borderStyle=s.borderStyle||t.borderStyle,delete t[e],_DEBUG_&&console.info("delete border:",r,"add",t.borderColor,t.borderWidth,t.borderStyle)}}),e}function m(e){var t=e.split(" ");return{borderWidth:t[0],borderStyle:t[1],borderColor:t[2]}}function v(e,t){var n=e.properties,i=n.url,o=n.number,r="",s="";i?(!Number.isInteger(+i)&&i.startsWith("http://")&&window.location.href.startsWith("https://")&&(i=i.replace("http://","https://")),s=i,r=Number.isInteger(+i)?E.page:E.link,delete e.properties.url):o&&(s=o,r=E.phone,delete e.properties.number),s&&r&&t.properties.triggerGroup.push({eventType:_.click,sourceType:"e",sourceId:e.id,targetType:"e",targetId:e.id,targetState:r,targetContent:s})}function y(e,t){if(e.sound&&e.sound.src){var n=t.properties.triggerGroup.findIndex(function(t){return t.eventType==_.click&&t.sourceId==e.id&&t.targetState==E.play});n==-1&&t.properties.triggerGroup.push({eventType:_.click,sourceType:"e",sourceId:e.id,targetType:"e",targetId:e.id,targetState:E.play})}}var b=n(70).COMP_TYPE,x=n(72).BG_CROP_TYPE,w=n(69),S=n(73).ANIMATION_TYPE,k=n(77),I=n(24).getUrlParam,P=I("compKey"),_=n(78).RAW_EVENT,E=n(78).EQX_EVENT;e.exports={perfectComp:i,perfectJson:r,perfectCss:s,perfectAnim:a,perfectBg:c,perfectChoice:l,perfectInput:p,perfectText:d,perfectTrigger:w,perfectLink:v,perfectSound:y}},function(e,t){"use strict";var n={"固定背景模式":1,"全屏背景模式":2};e.exports={BG_CROP_TYPE:n}},function(e,t,n){"use strict";function i(e){if(e.$boxDiv.css({animation:""}),e.$contextCopy){var t=e.$contextCopy.data("typed");t&&t.reset()}}function o(e,t){function n(){if(m++,m>=g.length)l&&l();else{var t=g[m],i=t.type,v=t.direction,y=t.duration,b=void 0===y?.1:y,x=t.linear,w=t.count,S=t.countNum,k=void 0===S?1:S,I=t.delay,P=void 0===I?0:I;0===b&&(b=.1),null==P&&(P=0);var _=x?"linear":"ease",E=u[i];if(!E)return n();var $=E[v]||u[i][0],O=w?"infinite":k;if(o&&(O=1),h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),"typer"===$)d.css({opacity:0}),r().then(function(){var t=g[m].interval,i=e.create$context(),o={position:"absolute","pointer-events":"none"};e.compJson.css.writingMode&&"vertical-rl"===e.compJson.css.writingMode?o.left="-30px":o.top="0px",i.attr("context-copy",1).css(o),d.after(i),e.$contextCopy=i;var r=function(){e.$contextCopy=null,setTimeout(function(){i.remove(),i=null,e.$contextCopy||d.css({opacity:1}),n()},100)};i.typed({strings:[f.content],contentType:"html",showCursor:!1,typeSpeed:1e3*t||0,startDelay:1e3*P||0,onFirstTyped:function(){setTimeout(function(){i&&i.css({opacity:1})},0)},callback:function(){clearInterval(i.data("typed").timeout),i.removeData("typed"),r()},resetCallback:function(){r()}})},function(){d.css({opacity:1})});else if("particles"===$){var T=function(){if("number"==typeof O){if(1==O)return void n();O>1&&C(),O--}else C()},C=function j(){var t=Math.abs(parseInt(h.find("img").css("marginLeft"))),n=Math.abs(parseInt(h.find("img").css("marginTop")));h.css("opacity","0");var j=new a({type:e.compJson.type,top:t,left:n,$parEle:p,imgUrl:c.FILE+e.compJson.properties.src,startX:e.compJson.css.width,startY:e.compJson.css.height,imgX:0,imgY:0,delay:1e3*P,duration:1e3*b,interval:0,ease:"linear"},T);j.animate()};p.remove("canvas"),"h"==e.compJson.type?(h.css("opacity","0"),s().then(function(){C()})):C()}else{var A={"animation-name":$,"animation-duration":b+"s","animation-timing-function":_,"animation-delay":P+"s","animation-iteration-count":O,"animation-direction":"normal","animation-fill-mode":"both"},D=Object.keys(A).map(function(e){return A[e]}).join(" ");h.css("animation",D),h.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){m<g.length-1&&h.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),setTimeout(function(){n()},0)})}}}var i=t.animIndex,o=t.maxCount,l=t.callback,p=e.$li,h=e.$boxDiv,d=e.$context,f=e.compJson,g=f.properties.anim||[];i&&(g=g.slice(i,i+1));var m=-1;n()}var r=n(23).$loadTyped,s=n(23).$canvas,a=n(74).Particles,c=n(22),u=n(75).ANIMATION_TYPE;n(76),e.exports={startAnimation:o,stopAnimation:i,ANIMATION_TYPE:u}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=(o={easeInOutBack:function(e,t,n,i,o){return void 0==o&&(o=1.70158),(e/=i/2)<1?n/2*(e*e*(((o*=1.525)+1)*e-o))+t:n/2*((e-=2)*e*(((o*=1.525)+1)*e+o)+2)+t},linear:function(e,t,n,i){return n*e/i+t},easeInOutQuad:function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)},easeOutQuad:function(e,t,n,i){return e/=i,-n*e*(e-2)+t}},i(o,"easeOutQuad",function(e,t,n,i){return e/=i,-n*e*(e-2)+t}),i(o,"easeInCubic",function(e,t,n,i){return e/=i,n*e*e*e+t}),i(o,"easeOutCubic",function(e,t,n,i){return e/=i,e--,n*(e*e*e+1)+t}),i(o,"easeInOutCubic",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)}),i(o,"easeInQuart",function(e,t,n,i){return e/=i,n*e*e*e*e+t}),i(o,"easeOutQuart",function(e,t,n,i){return e/=i,e--,-n*(e*e*e*e-1)+t}),i(o,"easeInOutQuart",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e*e+t:(e-=2,-n/2*(e*e*e*e-2)+t)}),i(o,"easeInQuint",function(e,t,n,i){return e/=i,n*e*e*e*e*e+t}),i(o,"easeOutQuint",function(e,t,n,i){return e/=i,e--,n*(e*e*e*e*e+1)+t}),i(o,"easeInOutQuint",function(e,t,n,i){return e/=i/2,e<1?n/2*e*e*e*e*e+t:(e-=2,n/2*(e*e*e*e*e+2)+t)}),i(o,"easeInSine",function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t}),i(o,"easeOutSine",function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t}),i(o,"easeInOutSine",function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t}),i(o,"easeInExpo",function(e,t,n,i){return n*Math.pow(2,10*(e/i-1))+t}),i(o,"easeOutExpo",function(e,t,n,i){return n*(-Math.pow(2,-10*e/i)+1)+t}),o),a=function(){function e(t,i){n(this,e),this.colNumber=3,this.$parEle=t.$parEle,this.canvas={},this.image={},this.requestId=0,this.startTime=0,this.array=[],this.startX=t.startX,this.startY=t.startY,this.callBackFn=i,this.param=t,this.init()}return r(e,[{key:"randomX",value:function(){return parseInt(Math.random()*this.startX)}},{key:"randomY",value:function(){return parseInt(Math.random()*this.startY)}},{key:"init",value:function(){var e=this;if(this.$parEle.find("canvas").remove(),this.$canvas=$("<canvas></canvas>"),this.$parEle.prepend(this.$canvas),this.$canvas.css({position:"absolute",top:0,left:0}),this.canvas=this.$canvas[0],this.image.isLoaded=!1,this.canvas.width=this.$parEle.width(),this.canvas.height=this.$parEle.height(),this.canvas.width>300&&this.canvas.height>300&&(this.colNumber=4),this.canvas.ctx=this.canvas.getContext("2d"),"h"===this.param.type)return void setTimeout(function(){canvg(e.canvas,e.$parEle.find(".element-box-contents")[0],{ignoreMouse:!0,ignoreAnimation:!0}),e.calCanvas()},10);if(this.canvas&&this.canvas.getContext){var t=new Image;t.onload=function(){var n=e.$parEle.find("img").width(),i=e.$parEle.find("img").height(),o=t.height/i,r=t.width/n;e.canvas.ctx.drawImage(t,e.param.top*r,e.param.left*o,r*e.canvas.width,o*e.canvas.height,0,0,e.canvas.width,e.canvas.height),e.calCanvas()},t.crossOrigin="anonymous",t.src=this.param.imgUrl}}},{key:"draw",value:function(){this.image.isLoaded?this._draw():setTimeout(this.draw.bind(this))}},{key:"animate",value:function(){this.image.isLoaded?this._animate(this.param.delay):setTimeout(this.animate.bind(this))}},{key:"_calculate",value:function(e){for(var t=this.image.imgData.data,n=e.cols,i=e.rows,o=Math.round(this.canvas.width/n),r=Math.round(this.canvas.height/i),s=0,a={},c=0;c<n;c++)for(var u=0;u<i;u++)s=4*(u*r*this.canvas.width+c*o),t[s+3]>25&&(a={x0:this.randomX(),y0:this.randomY(),x1:this.param.imgX+c*o,y1:this.param.imgY+u*r,delay:u/20,currTime:0,count:0,duration:parseInt(e.duration/16.66)+1,interval:parseInt(10*Math.random()*e.interval),ease:e.ease,ratioX:e.ratioX,ratioY:e.ratioY},a.fillStyle="rgba("+t[s]+", "+t[s+1]+", "+t[s+2]+","+t[s+3]+")",this.array.push(a))}},{key:"_draw",value:function(){this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=this.array.length,t=null,n=0;n<e;n++)t=this.array[n],this.canvas.ctx.fillStyle=t.fillStyle,this.canvas.ctx.fillRect(t.x1,t.y1,1,1)}},{key:"_render",value:function(){var e=this;this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var t,n,i=this.array,o=i.length,r=null,a=0,c=0,u=0,l=1,p=1,h=0;h<o;h++)if(r=i[h],r.count++>r.delay){if(this.canvas.ctx.fillStyle=r.fillStyle,a=r.currTime,c=r.duration,u=r.interval,1!==r.ratioX?l=r.ratioX+2*Math.random():1,1!==r.ratioY?p=r.ratioY+2*Math.random():1,i[o-1].duration+i[o-1].interval<.9*i[o-1].currTime)return this.canvas=null,cancelAnimationFrame(this.requestId),this.$parEle.find("canvas").remove(),this.$parEle.find(".element-box").css("opacity","1"),void setTimeout(function(){e.callBackFn()},300);a<c+u?a>=u&&(t=s[r.ease]((a-u)*l,r.x0,(r.x1-r.x0)*l,c),n=s[r.ease]((a-u)*p,r.y0,(r.y1-r.y0)*p,c),this.canvas.ctx.fillRect(t,n,1,1)):this.canvas.ctx.fillRect(r.x1,r.y1,1,1),r.currTime+=Math.random()+.5}this.requestId=requestAnimationFrame(this._render.bind(this))}},{key:"_animate",value:function(e){var t=this;this.startTime+e<(new Date).getTime()?this.requestId=requestAnimationFrame(this._render.bind(this)):setTimeout(function(){t._animate(e)})}},{key:"calCanvas",value:function(){var e=this.param;this.image.imgData=this.canvas.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._calculate({duration:e.duration||0,delay:e.delay||0,interval:e.interval||0,ease:e.ease,ratioX:1,ratioY:1,cols:Math.ceil(this.canvas.width/this.colNumber)||100,rows:Math.ceil(this.canvas.height/this.colNumber)||100}),this.image.isLoaded=!0,this.startTime=(new Date).getTime()}}]),e}();e.exports={Particles:a}},function(e,t){"use strict";var n={0:["fadeIn"],1:["fadeInLeft","fadeInDown","fadeInRight","fadeInUp"],2:["bounceInLeft","bounceInDown","bounceInRight","bounceInUp"],3:["bounceIn"],4:["zoomIn"],5:["rubberBand"],6:["wobble"],7:["rotateIn"],8:["flip"],9:["swing"],10:["fadeOut"],11:["flipOutY"],12:["rollInRight","rollInDown","rollInLeft","rollInUp"],13:["lightSpeedInRight","lightSpeedInDown","lightSpeedInLeft","lightSpeedInUp"],14:["bounceOut"],15:["rollOutRight","rollOutDown","rollOutLeft","rollOutUp"],16:["lightSpeedOutRight","lightSpeedOutDown","lightSpeedOutLeft","lightSpeedOutUp"],17:["fadeOutRight","fadeOutDown","fadeOutLeft","fadeOutUp"],18:["zoomOut"],19:["bounceOutRight","bounceOutDown","bounceOutLeft","bounceOutUp"],20:["flipInY"],21:["tada"],22:["jello"],23:["flash"],24:["flipInX"],25:["flipOutX"],26:["twisterInDownRight","twisterInDownDown","twisterInDownLeft","twisterInDownUp"],27:["puffIn"],28:["puffOut"],29:["slideDown"],30:["slideUp"],31:["twisterInUpRight","twisterInUpDown","twisterInUpLeft","twisterInUpUp"],32:["hingeRight","hingeLeft"],33:["opacityFadeInLeft","opacityFadeInDown","opacityFadeInRight","opacityFadeInUp"],particles:["particles"],typer:["typer"]};e.exports={ANIMATION_TYPE:n}},function(e,t){},function(e,t){"use strict";function n(e){return e?e.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi,""):e}function i(e){return!!e&&(e=e.replace(/[↵\n\t\s]/g,""),/<\s*(img|input)[^>]*\/?>/gi.test(e)||/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(e))}e.exports={toGoodStr:n,isBadStr:i}},function(e,t){"use strict";var n={click:1,shake:2,taphold:3,slide:4,mediaCanplay:5,mediaPlaying:6,mediaEnded:7,animStart:8,animIteration:9,animEnd:10},i={show:1,hide:2,random:3,play:4,link:5,page:6,phone:7,position:8,anim:9},o={show:1,hide:2,"default":0};e.exports={RAW_EVENT:n,EQX_EVENT:i,INIT_EVENT:o}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n={};return new Promise(function(i){return e?b(e).then(function(e){return f(t,e.obj)}).then(function(e){return a(e),i(e)}):(n=l(t),a(n),i(n))})}function r(e){var t=e.meta,n=t.id,o=t.property,r=o.lastPageId,u=o.eqAdType,h=t.bizType,g=t.isTemplate,m=(t.ext,e.list),w=m.length;return new Promise(function(t){function o(){return S().then(function(n){return k=l(e,n),c(k),m.push(k),t(e)})["catch"](function(){return k=l(e),c(k),m.push(k),t(e)})}var k=void 0;if(w&&(k=m[w-1],k.elements=k.elements||[]),!(x()||30!=h&&2!=g||u!=v["deepshare尾页"]&&(u!=v["技术支持尾页"]||r)))return S().then(function(e){return e}).then(function(n){return k=s(e,n),c(k),m.push(k),t(e)})["catch"](function(){return k=s(e),c(k),m.push(k),t(e)});switch(""+u){case v["无尾页无底标"]:return t(e);case v["技术支持尾页"]:return r?b(r).then(function(t){return f(e,t.obj)}).then(function(n){return a(n),m.push(n),t(e)})["catch"](function(){return o()}):o();case v["技术支持底标"]:try{var I=p(k),P=y.bottomLabel({sceneId:n,pageId:k.pageId,top:I,pageIndex:w});return k.elements.push(P),t(e)}catch(_){return console.error("添加技术支持底标尾页失败",_),o()}case v["品牌联合底标"]:try{return d(e).then(function(n){return k.elements=[].concat(i(k.elements),i(n)),t(e)})}catch(_){return console.error("添加品牌联合底标失败",_),o()}default:return o()}})}function s(e,t){var n=e.meta,i=n.id,o=n.cover,r=n.name,s=n.code,a=e.list.length+1;return y.lastPageBlur({id:i,name:r,num:a,cover:o,code:s,isDeepShare:!0},t)}function a(e,t){var n=e.pageId,i=e.sceneId,o=e.num,r=y.report({pageId:n,sceneId:i,pageIndex:o,center:t});e.elements.push(r)}function c(e,t){var n=e.pageId,i=e.sceneId,o=e.num,r=y.addReportBlur({pageId:n,sceneId:i,pageIndex:o,center:t});e.elements.push(r)}function u(e){var t=e.sceneId,n=e.url;
    return m.SERVER_1+"eqs/link?id="+t+"&url="+encodeURIComponent(n)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.meta,i=n.id,o=n.cover,r=n.name,s=e.list.length+1;return y.lastPageBlur({id:i,name:r,num:s,cover:o},t)}function p(e){var t=(e.properties||{}).longPage||1;return t<10?486*(t-1):t-486}function h(e,t,n){var i=p(e),o=y.bottomLabel({sceneId:t,pageId:e.pageId,top:i,pageIndex:n});return o}function d(e){var t=e.meta,n=t.id,i=t.property.bottomLabel,o=i.id,r=i.name,s=i.url;if(!o)throw new Error("No bottomLabel's id");var a=e.list,c=a[a.length-1],u=p(c),l=c.pageId;return b(o).then(function(e){return(e.obj.elements||[]).map(function(e){return g({ele:e,sceneId:n,pageId:l,url:s,top:u,name:r})})},function(){return[]})}function f(e,t){var n=e.list,o=e.meta,r=o.cover,s=o.id,a=o.name;t.properties=t.properties||{},t.sceneId=s;var c=function(e){var t=e.properties.src;return 4==e.type&&!!t&&["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg","group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png","group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png","group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(t)},u=function(e){2==e.type&&/http:\/\/service.eqxiu.com\/eqs\/link/.test(e.content)&&(e.content=e.content.replace(/;url=.*com"/,";url="+encodeURIComponent(w)))};if("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg"!==r){var l=y.image1();l.properties.src=r}else l=y.eqxLogo();return t.elements=t.elements.filter(function(e){return!c(e)}),t.elements.forEach(u),t.elements=[].concat(i(t.elements),[y.shadow(),l,y.line(),y.title(a)]),t.num=n.length+1,t}function g(e){var t=e.ele,n=e.sceneId,i=(e.pageId,e.url),o=e.top,r=e.name;t.sceneId=n,t.pageId=129811;var s="EQXIU.COM科技公司",a=t.type;return 2==a&&(r&&i&&"http://"!==i&&(t.content=t.content.replace(new RegExp(s),'<a href="'+u({sceneId:n,url:i})+'" target=_blank data-event="1120203">'+r+"</a>")),r?t.content=t.content.replace(new RegExp(s),r):/易企秀技术支持/.test(t.content)&&(Object.assign(t.css,{zIndex:1e3,height:33,width:129,left:97}),t.content='<div style="text-align: center;">'+t.content+"</div>")),t.css.top+=o,t.css.zIndex=200,t}var m=n(22),v=n(57).AD_TYPE,y=n(80),b=n(48).$getPageInfo,x=(n(64).$getYqcTail,n(25).isApp),w=n(24).redirectUrl(),S=n(47).getLastPageConfig;e.exports={addEqAdInfo:r,getLastPage:o,getDefaultBottom:h,getCustomBottomLabel:d}},function(e,t,n){"use strict";function i(e){var t=e.sceneId,n=void 0===t?16060:t,i=e.pageId,o=e.top,r=e.pageIndex,s=g.SERVER_1+"eqs/link?id="+n+"&url="+encodeURIComponent(m),a='\n<div style="text-align: center;transform: translateY(-2px);-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="'+s+'" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">'+v+"</font>\n    </a>\n</div>";return{id:b(),pageId:i,sceneId:n,num:r,type:2,content:a,status:1,css:{zIndex:"1000",height:"20",width:"129",left:"97px",top:418+o+"px",backgroundColor:"rgba(0,0,0,0.6)",borderBottomLeftRadius:20,borderBottomRightRadius:20,borderTopRightRadius:20,borderTopLeftRadius:20,borderRadius:20},properties:{anim:{type:0,direction:0,duration:2,delay:0}}}}function o(e){var t=e.pageId,n=void 0===t?1:t,i=e.sceneId,o=void 0===i?1:i,r=e.pageIndex,s=void 0===r?1:r,a=e.center,c='\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b>举报</b></font>\n    </span>\n</div>';return{id:b(),pageId:n,sceneId:o,num:s,type:299,content:c,status:1,css:{zIndex:999,height:36,width:60,left:a?130:10,top:420},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}}function r(){return{id:b(),pageId:"",sceneId:"",num:1,type:"4",isInput:0,title:null,content:null,status:1,css:{borderRadius:"0",borderStyle:"solid",height:"158",zIndex:"1000",borderColor:"rgba(0,0,0,1)",boxShadow:"0 0px 0px #333333",color:"#000000",backgroundColor:"white",borderWidth:"0px",width:"158",left:"84px",paddingTop:"11px",paddingLeft:"10px",top:"170px"},properties:{height:"100px",imgStyle:{width:139,height:136,marginTop:"0px",marginLeft:"0px"},width:"100px",src:"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"}}}function s(){return{id:b(),pageId:129810,sceneId:16060,num:1,type:2,isInput:0,title:null,content:'\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',status:1,css:{height:"257",width:"257",left:"78px",top:"175px"},properties:{}}}function a(){return{id:b(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-eqxiu"></em>\n</div>',status:1,css:{height:"158",width:"158",left:"84px",top:"170px",backgroundColor:"white"},properties:{}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"点击此处进行编辑";return{id:b(),pageId:"",sceneId:"",num:1,type:"2",isInput:0,title:null,content:'<div style="text-align: center;"><font color="#ffffff" size="3">'+e+"</font></div>",status:1,css:{zIndex:"102",height:"65",width:"320",left:"0px",top:"70px"},properties:{}}}function u(){var e='<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>';return{id:b(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:e,status:1,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}}}function l(){var e='<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>';return{id:b(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:e,status:1,css:{height:257,width:257,left:"78px",top:"175px"},properties:{}}}function p(e,t,n){var i=e.id,o=void 0===i?16060:i,r=e.name,s=e.num,a=e.cover,c=void 0===a?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":a,u=(e.code,e.isDeepShare),l=e.href;r=r||"",t=t||{};var p=129810,h=o;l=l?g.SERVER_1+"eqs/link?id="+o+"&url="+encodeURIComponent(l):y()?"":g.SERVER_1+"eqs/link?id="+o+"&url="+encodeURIComponent(m),t&&!t.brandSrc&&t.brandLink&&(l=t.brandLink);var d="点我免费制作易企秀",f="#23a3d3",v="",x='<div style="text-align: center;">\n                        <span style="line-height: 1; background-color: initial;">\n                            <font size="4" color="#888888"><b>'+(t.sceneName||r)+"</b></font>\n                        </span>\n                    </div>",w='<div style="width:280px;\n                                height:1px;\n                                background-color:rgba(60,60,60,0.4);\n                                cursor:pointer;\n                                position:absolute;\n                                left:0;\n                                -webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));\n                                top:12px;"></div>',S='<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="'+l+'" target="_blank">\n                                <font color="#888888">'+v+'</font>\n                                <font color="'+f+'">'+d+"</font>\n                            </a>\n                        </span>\n                    </div>",k='<a class="element comp_anchor editable-text deepShareHref" \n                       data-event="1120601"\n                       style="cursor: default; \n                              width: 100px; \n                              height: 36px; \n                              display: block;\n                              background: #08c3fd; \n                              color:#ffffff;\n                              font-size:13px;\n                              border-radius: 4px;">使用该模板</a>',I={id:"",sceneId:h,num:s,name:r,properties:{},elements:[]},P={id:b(),pageId:p,sceneId:h,num:0,type:"3",css:{},properties:{}};t.backgroundSrc?P.properties.imgSrc=t.backgroundSrc:P.properties.bgColor="#E6E9EE",I.elements.push(P);var _={id:b(),pageId:p,sceneId:h,num:1,type:"2",content:x,css:{height:"65",zIndex:"10",width:"320",left:"0px",top:"77px"},properties:{}};I.elements.push(_);var E={id:b(),pageId:p,sceneId:h,num:2,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"142",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"142",left:"92px",paddingBottom:"0px",top:"177px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:c}};t.logoSrc&&(E.properties.src=t.logoSrc),t.logoLink&&(E.properties.url=t.logoLink),I.elements.push(E);var $={id:b(),pageId:129810,sceneId:h,num:1,type:"2",content:w,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}};I.elements.push($);var O={id:b(),pageId:p,sceneId:h,num:1,type:u&&!y()?"298":"2",content:u?k:"",css:{height:"36",width:"120",left:"98px",top:"350px",zIndex:"13"},properties:{}};if(I.elements.push(O),t.brandSrc){var T='<a style="position: absolute;\n                               display: block;\n                               width: 100%;\n                               height: 100%;\n                               background-image: url('+(g.FILE+t.brandSrc)+');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="'+t.brandLink+'"\n                           target="_blank"></a>',C={id:b(),pageId:p,sceneId:h,num:2,type:"7",content:T,css:{height:"40px",width:"320px",left:"0",top:"420px",zIndex:"13"},properties:{}};I.elements.push(C)}else{var A={id:439885,pageId:p,sceneId:h,num:1,type:u&&!y()?"298":"2",content:S,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320",left:"1px",bottom:"36px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}};I.elements.push(A)}return I}function h(){return{id:849219621,sceneId:87910723,num:1,name:null,properties:{},elements:[{css:{top:-132,left:-270,width:873,height:692,zIndex:1,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",imgStyle:{width:873,height:1376.3390625,marginTop:-342.16953125,marginLeft:0},maskSrc:"",originSrc:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",anim:[],initType:0},type:4,id:4791539496,pageId:849219621,sceneId:87910723,num:1,name:"图片1"},{css:{top:-197.5,left:-118,width:579.5,height:388,zIndex:2,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fie_7zLKX1jFwnowjnupl0uxuRzf",imgStyle:{width:579.5,height:388,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"Fie_7zLKX1jFwnowjnupl0uxuRzf",anim:[{type:0,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1200"}],initType:0},type:4,id:2648920976,pageId:849219621,sceneId:87910723,num:2,name:"图片2"},{css:{top:283.5,left:78,width:165,height:50.5,zIndex:5,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",imgStyle:{width:165,height:50.5,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",anim:[{type:24,direction:0,duration:1,delay:.2,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1336"}],initType:0},type:4,id:6696803295,pageId:849219621,sceneId:87910723,num:5,name:"图片4"},{css:{top:118.5,left:86,width:148,height:148,zIndex:4,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FvqrpftukXbdDhFScUbzUuFZEIkz",imgStyle:{width:148,height:148,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FvqrpftukXbdDhFScUbzUuFZEIkz",anim:[{type:4,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1268"}],initType:0},type:4,id:8888432263,pageId:849219621,sceneId:87910723,num:4,name:"图片5"}],price:null,isPaid:null,forms:null}}function d(e,t){var n=e.id,i=void 0===n?16060:n,o=e.name,r=e.num,s=e.cover,a=void 0===s?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":s,c=(e.code,e.isDeepShare),u=e.href;o=o||"",t=t||{};var l=129810,p=i;u=u?g.SERVER_1+"eqs/link?id="+i+"&url="+encodeURIComponent(u):y()?"":g.SERVER_1+"eqs/link?id="+i+"&url="+encodeURIComponent(m),t&&!t.brandSrc&&t.brandLink&&(u=t.brandLink);var h="点我免费制作易企秀",d="#23a3d3",f="",v='<div style="text-align: center;">\n                        <span style="line-height: 1.5; background-color: initial;text-shadow: 0px 0px 4px rgba(0, 0, 0, 0.6) !important;color:#FFFFFF">\n                            '+(t.sceneName||o)+"\n                        </span>\n                    </div>",x='<div style="text-align: center;padding-top: 0;">\n                        <span style="font-size: small; line-height: 1; background-color: initial;">\n                            <a href="'+u+'" target="_blank">\n                                <font color="#888888">'+f+'</font>\n                                <font color="'+d+'">'+h+"</font>\n                            </a>\n                        </span>\n                    </div>",w={id:"",sceneId:p,num:r,name:o,properties:{},elements:[]},S={id:b(),pageId:l,sceneId:p,num:0,type:"3",css:{left:0,opacity:.7,top:0,zIndex:-1,filter:"blur(6px)"},properties:{imgSrc:window.scene?window.scene.cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png",originSrc:window.scene?window.scene.cover:"group2/M00/7F/9B/yq0KXlZNGfWAbZo_AAAdI0Feqt0138.png"}},k={content:"",css:{color:"#555",height:"700px",left:-27,top:-107,width:374,zIndex:1},id:b(),num:1,pageId:l,sceneId:p,type:"h",properties:{anim:[],id:144877595,initType:1,items:[{element:[0],fill:"rgba(0,0,0,0.6)",svgFill:"#08A1EF"}],src:"group1/M00/B1/A3/yq0KXFZysi-ACYaKAAACDQH4Nes625.svg",translate3dZ:0,type:"rect"}};t.backgroundSrc?(S.properties.imgSrc=t.backgroundSrc,S.css={left:0,opacity:.7,top:0,zIndex:-1}):w.elements.push(k),w.elements.push(S);var I={id:b(),pageId:l,sceneId:p,num:2,type:"2",content:v,css:{height:"65px",zIndex:"10",width:"320px",left:"0px",top:"205px",fontSize:"18px",lineHeihgt:1.5},properties:{}};w.elements.push(I);var P={id:b(),pageId:l,sceneId:p,num:3,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"142",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"144px",left:"88px",paddingBottom:"0px",top:"47px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:a}};if(t.logoSrc&&(P.properties.src=t.logoSrc),t.logoLink&&(P.properties.url=t.logoLink),w.elements.push(P),!y())if(t.brandSrc){var _='<a style="position: absolute;\n                               display: block;\n                               width: 310px;\n                               height: 100%;\n                               background-image: url('+(g.FILE+t.brandSrc)+');    \n                               background-repeat: no-repeat;\n                               background-position: center;\n                               background-size: cover;" \n                           href="'+t.brandLink+'"\n                           target="_blank"></a>',E={id:b(),pageId:l,sceneId:p,num:5,type:"2",content:_,css:{height:"46px",width:"320px",left:"0px",bottom:"92px",zIndex:"13"},properties:{}};w.elements.push(E)}else{var $={id:439885,pageId:l,sceneId:p,num:6,type:c&&!y()?"298":"2",content:x,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320px",left:"0px",bottom:"92px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}};w.elements.push($)}var O={css:{height:26,left:237,top:456,width:67,borderWidth:6,borderColor:"rgba(255, 255, 255, 0)",borderRadius:"4px",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",borderTopLeftRadius:"4px",borderTopRightRadius:"4px"},id:b(),num:6,pageId:l,sceneId:p,properties:{anim:[],id:144899161,initType:1,items:[{elements:[0],fill:"rgba(255, 255, 255, 0.6)",svgFill:"#08A1EF"},{elements:[1],fill:"rgba(0, 0, 0, 0.4)",svgFill:"#08A1EF"}],src:"group2/M00/94/6B/yq0KXlZyt2WAERDfAAAVxmdQJtQ706.svg",translate3dZ:0,type:"rect"},type:"h"};return w.elements.push(O),w}function f(e){var t=e.pageId,n=void 0===t?1:t,i=e.sceneId,o=void 0===i?1:i,r=e.pageIndex,s=void 0===r?1:r,a=e.center,c='\n<div style="text-align: center;width: 44px;height: 26px;\nfont-size: 12px; color: rgba(255, 255, 255, 0.6); line-height: 26px; border-radius: 4px;">\n        举报\n</div>';return{id:b(),pageId:n,sceneId:o,num:s,type:299,content:c,status:1,css:{zIndex:999,height:41,width:74,left:a?130:1,top:449},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}}var g=n(22),m=n(24).redirectUrl(),v="易企秀技术支持",y=n(25).isApp,b=n(54).randomId;n(81),e.exports={bottomLabel:i,report:o,image1:r,image2:s,eqxLogo:a,title:c,line:u,shadow:l,lastPage:p,lastPageBlur:d,bizType40Page:h,addReportBlur:f}},function(e,t){},function(e,t,n){"use strict";function i(e){return a({type:"POST",url:c.SERVER_1+"eqs/wx/component",data:e})}function o(e){var t={};return/eqxiu\.cn/.test(u(window.location.href))&&(t.userId=e),a({type:"GET",url:c.SERVER_1+"eqs/wx/user/cache",data:t})}function r(){var e=u(window.location.href),t="eqs/wx/ticket?time="+Date.now(),n=[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/];return n.some(function(t){return t.test(e)})||(t+=/eqxiu\.cn/.test(e)?"&domain=eqxiu.cn":"&domain="+e),console.log("getWxTicket",t),a({type:"GET",url:c.SERVER_1+t})}function s(e){return a({type:"GET",url:c.SERVER_1+"eqs/wx/get-wechat-appid",data:{userId:e}}).then(function(e){return e.obj})}var a=n(21).ajax,c=n(22),u=n(24).getUrlHost;e.exports={$postWxComp:i,$getUserWxInfo:o,$getWxTicket:r,$getWxAppId:s}},function(e,t,n){"use strict";function i(e,t){if(v="",y=e.obj.name,b=I.FILE+e.obj.cover,q=e.obj.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。",S=e.obj.property,x=e.obj.dsAppId||"",w=t,S.shareDes&&"string"==typeof S.shareDes){var n=S.shareDes;S.shareDes={description:{type:"position",description:n}}}if(!S.shareDes)return u();S.shareDes.avatar&&(b=M.headimgurl);var i=e.obj.id;o(S.shareDes,i).then(function(){return u()})["catch"](function(e){return console.error(e)})}function o(e,t){var n=function(){return Promise.resolve(null)},i=function(){return Promise.resolve(null)};return e.title&&e.title.type&&(n=function(){return s(e.title,t).then(function(e){y=e})}),e.description&&e.description.type&&(i=function(){return s(e.description,t).then(function(e){q=e})}),n().then(function(){i()})}function r(e){return void 0!==k?Promise.resolve(k):T(e).then(function(e){return k=e||""})["catch"](function(){return k=""})}function s(e,t){var n="";return new Promise(function(i,o){switch(e.type){case"myself":n+="我是"+M.nickname+","+e.description,i(n);break;case"position":r(t).then(function(t){n+="我是第"+t+"位"+e.description,i(n)});break;case"selfAndPosition":r(t).then(function(t){n+="我是"+M.nickname+", 我是第"+t+"位 "+e.description,i(n)})}})}function a(){v=Date.now()+""+Math.floor(1e5*Math.random()),w=E("userKey",v,w),u()}function c(e,t){w=e,w=E("compKey",t,w),u()}function u(){g().then(function(){var e=$("toPage",w),t=x?DS.linkChange(e):e,n=j();window._tracker_api_&&(t=window._tracker_api_.getShareUrl(t)),wx.onMenuShareTimeline({title:y,link:t,desc:q,imgUrl:b,success:function(){x&&DS.sendRepost("appMessage"),window._tracker_api_.share("timeline"),l(),n&&n.shareCover&&A()},cancel:function(){}}),wx.onMenuShareAppMessage({title:y,desc:q,link:t,imgUrl:b,success:function(){x&&DS.sendRepost("appMessage"),window._tracker_api_.share("message"),l(e),n&&n.shareCover&&A()},cancel:function(){}}),wx.onMenuShareQQ({title:y,desc:q,link:t,imgUrl:b,success:function(){window._tracker_api_.share("qq"),n&&n.shareCover&&A()},cancel:function(){}}),wx.onMenuShareWeibo({title:y,desc:q,link:t,imgUrl:b,success:function(){window._tracker_api_.share("weibo"),n&&n.shareCover&&A()},cancel:function(){}}),wx.onMenuShareQZone({title:y,desc:q,link:t,imgUrl:b,success:function(){window._tracker_api_.share("qzone")},cancel:function(){}})})}function l(e){if(v){var t={userKey:v};M&&M.headimgurl&&(R.shareUserHeader=M.headimgurl),M&&M.nickname&&(R.shareUserName=M.nickname),t.data=JSON.stringify(R),O(t)["catch"](function(e){C(JSON.stringify(e))})}}function p(e){Object.assign(M,e)}function h(){return M}function d(e){R=e}function f(e,t){R[e]=t}function g(){return D.initWx()}function m(e,t){var n=window.location.href.split("?")[0],i=_("userKey",window.location.href),o=_("toPage",window.location.href),r=_("compKey",window.location.href),s=e||P;i&&(n=E("userKey",i,n)),o&&(n=E("toPage",o,n)),r&&(n=E("compKey",r,n));var a=I.SERVER_1+"eqs/wx/user/info";e&&(a=E("userId",t,a)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+s+"&redirect_uri="+encodeURIComponent(a)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(n)+"#wechat_redirect"}var v,y,b,x,w,S,k,I=n(22),P=n(28).APP_ID,_=n(24).getUrlParam,E=n(24).addUrlParam,$=n(24).removeUrlParam,O=n(82).$postWxComp,T=n(84).$getPvCount,C=n(85).popUpModal,A=n(85).popShareModal,D=n(20),j=n(47).getSharePopConfig,q="",M={},R={};e.exports={initWeChat:i,shareWidthSDK:u,setWeChatUser:p,getWeChatUser:h,setWxCompData:d,saveWxCompData:f,generateUserKey:a,getWxJSSDK:g,hrefToWxAuth:m,addCompKey:c}},function(e,t,n){"use strict";function i(e){return r({type:"GET",url:s.SERVER_1+"eqs/scene/pv?sceneId="+e})}function o(e){var t=e.id,n=e.param,i=e.ad,o=s.SERVER_1+"eqs/pv/"+t;return n&&(o+="?1=1",o+=/\?.*/.test(n)?"&"+n.substring(1):/&.*/.test(n)?n:"&"+n),o+=(/\?/.test(o)?"&":"?")+"ad="+i,r({type:"GET",url:o})}var r=n(21).ajax,s=n(22);e.exports={$getPvCount:i,$postPVCount:o}},function(e,t,n){"use strict";function i(e){var t=$('<div class="pop-up-box">\n                        <div class="pop-up-form">\n                            <div class="pop-up-content">\n                                <span class="pop-up-msg">'+e+'</span>\n                            </div>\n                            <div class="pop-up-btn"><a class="pop-up-btn-close">关闭</a></div>\n                        </div>\n                    </div>');$(".main-page.z-current").not(".editor-section").prepend(t);var n=$(".pop-up-btn");n.on("click",function(){t.animate({opacity:0},{duration:300,complete:function(e){return t.remove()}})})}function o(){var e=r(),t=a(e.coverLink),n=s.FILE+e.shareCover,i=$('<div class="pop-up-box">\n                        <div class="pop-share-form">\n                            <div class="pop-share-content">\n                                <a href="'+t+'">\n                                 <img style="width:250px;height:360px;" src="'+n+'">\n                                </a>\n                            </div>\n                            <div class="pop-share-btn"><span class="eqf-no-l"></span></div>\n                        </div>\n                    </div>');$(".main-page.z-current").not(".editor-section").prepend(i);var o=$(".pop-share-btn");o.on("click",function(){i.animate({opacity:0},{duration:300,complete:function(e){return i.remove()}})})}n(86);var r=n(47).getSharePopConfig,s=n(22),a=n(24).addProtocol;e.exports={popUpModal:i,popShareModal:o}},function(e,t){},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{!i&&a["return"]&&a["return"]()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(25).mobilecheck,c=n(25).isApp,u=n(68).perfectPage,l=n(88),p=n(351),h=n(353),d=n(369),f=n(373),g=n(374),m=n(376),v=n(377),y=n(378),b=n(380),x=n(55).perfectMeta,w=n(23).$loadMLink,S=n(381),k=S.diff,I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.sceneJson=t,this.config=Object.assign({toPageIndex:0,selector:"#nr",mode:"view",disablePageEffect:!1,disableCompEvent:!1,disableSubmit:!1,disableTrigger:!1,disableArrow:!1,disableCommentManager:!1,showProgressBar:!1,disableProgressBar:!1,disableCompAnim:!1,disableReport:!1,disablePageScroll:!1,disablePv:!1,initManagers:!0,disableQiniuZoom:!1,mobileEdit:!1,EqxGravity:{disableGravityMotion:!1},disableSetUlTopAndLeft:!1},n),this.meta=x(this.sceneJson.meta),this.eqxPageList=[],this.eqxPageList.length=0,this.currentPage=null,this.soundManager=null,this.statManager=null,this.commentManager=null,this.formManager=null,this.pageScroll=null,this.progressBar=null,this.config.initManagers&&this.initManagers(),this.nextRenderPageId=-1,this.renderPageCnt=0}return s(e,[{key:"setNextRenderPageId",value:function(e){this.nextRenderPageId=e}},{key:"getNextRenderPage",value:function(){var e=this;if(this.nextRenderPageId!==-1){var t=this.eqxPageList.find(function(t){return t.pageJson.id===e.nextRenderPageId});if(t&&!t.$section)return t}var n=this.eqxPageList.indexOf(this.currentPage);n===-1&&(n=0);for(var i=this.eqxPageList.length,o=0;o<i;o++)if(t=this.eqxPageList[(o+n)%i],!t.$section)return t}},{key:"setPageList",value:function(e){var t;this.sceneJson.list.length=0,(t=this.sceneJson.list).push.apply(t,i(e)),this.eqxPageList=[],this.eqxPageList.length=e.length}},{key:"getMetaWx",value:function(){var e=this.meta.property;return{wxCount:e.wxCount,wxClickFarmerCount:e.wxClickFarmerCount}}},{key:"calMetaWx",value:function(){return this.eqxPageList.reduce(function(e,t){return e.wxCount+=t.getWxCompCount(),e.wxClickFarmerCount+=t.getWxClickFarmerCompCount(),e},{wxCount:0,wxClickFarmerCount:0})}},{key:"syncMetaWx",value:function(){var e=this.calMetaWx();console.log("wxObj",e),this.setProps({property:e})}},{key:"toJson",value:function(){var e=JSON.parse(JSON.stringify(this.sceneJson));for(var t in e)e.hasOwnProperty(t)&&t.startsWith("$")&&delete e[t];return e}},{key:"renderScene",value:function(e){this.initContainer(e||this.config.selector),this.renderBgm(),a()&&"view"==this.config.mode&&!c()&&2==this.meta.isTemplate&&this.tempAppUseBtn(),this.initEqxPages(),this.initProgressBar(),this.initPageScroll(),this.updateProgressBar(),this.renderPages();var t=this.inputComps,n=this.newTextComps;t&&n&&t.length&&n.length&&n.forEach(function(e){var n=t.find(function(t){return t.compJson.id===e.compJson.properties["var"].comp});n&&(n.variables=n.variables||[],n.variables.push(e))});var i=this.uploadComps,o=this.imageComps;return i&&o&&i.length&&o.length&&o.forEach(function(e){var t=i.find(function(t){var n=t.compJson.id,i=e.compJson.properties["var"].comp;return n===i});t&&(t.variables=t.variables||[],t.variables.push(e))}),Promise.resolve()}},{key:"tempAppUseBtn",value:function(){var e=this;if(!this.$tempAppUseBtn&&window.scene){var t='<a  class="temp-app-use">\n                                        <div class="temp-app-use-btn">\n                                            <span class="eqf-pen-f"></span>\n                                        </div>\n                                        <div class="temp-app-use-tip">使用</div>\n                                    </a>',n=window.scene,i=n.isTemplate,o=n.sourceId,r=n.id,s={sceneId:r};i&&(s.isTemplate=i),o&&(s.sourceId=o),w().then(function(){var t={mlink:"https://ax8bgc.mlinks.cc/AK00",button:e.$ele.find(".temp-app-use")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:s};console.log("mlink",t),new Mlink(t)});var a=$(t);this.$ele.append(a)}}},{key:"updateMeta",value:function(e){e=x(e);var t=JSON.parse(JSON.stringify(this.meta));delete t.property.wxAuth,Object.assign(this.meta,e);var n=JSON.parse(JSON.stringify(this.meta));delete n.property.wxAuth;var i=k(t,n);console.log(JSON.stringify(i))}},{key:"setProps",value:function(e){var t=JSON.parse(JSON.stringify(this.meta)),n=this.meta;Object.keys(e).filter(function(e){return"property"!==e}).forEach(function(t){n[t]=e[t]}),e.property&&("string"==typeof e.property&&(e.property=JSON.parse(e.property)),Object.keys(e.property).forEach(function(t){n.property[t]=e.property[t]}));var i=JSON.parse(JSON.stringify(this.meta)),o=k(t,i);console.log(JSON.stringify(o))}},{key:"getMeta",value:function(e){return this.meta[e]}},{key:"getMetaProperty",value:function(e){return this.meta.property[e]}},{key:"initContainer",value:function(e){$(this.$ele).is(e)||(this.$ele=$(e));var t=this.$ele;"static"===t.css("position")&&t.css({position:"relative"}),a()&&t.css({width:"100%",height:"100%"}),this.width=t.width(),this.height=t.height()}},{key:"createBgm",value:function(e){var t=e||this.meta.bgAudio;if(t)return this.bgm=new d(t,this),this.bgm}},{key:"renderBgm",value:function(){this.bgm||this.createBgm(),this.bgm&&this.$ele.append(this.bgm.$bgmBtn)}},{key:"updateBgm",value:function(e){return this.meta.bgAudio=e,e?void(this.bgm?this.bgm.updateJson(e):(this.createBgm(e),this.renderBgm())):void(this.bgm&&(this.bgm.hide(),this.bgm.stopPlay(),this.bgm=null))}},{key:"renderPages",value:function(){var e=this;if(!this.pageScroll||!this.pageScroll.scrolling){var t;if(t=this.getNextRenderPage(),!t)return;this.renderPage(t),this.renderPageCnt++,window._tj&&1===this.renderPageCnt&&(window._tj.firstPageShowTime=window._tj.now()),
    window._tj&&this.renderPageCnt===this.eqxPageList.length&&(window._tj.renderSceneTime=window._tj.now(),window.uploadTjStat()),t.pageJson.id===this.nextRenderPageId&&(this.pageScroll.goToPageById(this.nextRenderPageId),this.setNextRenderPageId(-1))}setTimeout(function(){e.renderPages()},0)}},{key:"initEqxPages",value:function(){var e=this;this.sceneJson.list.forEach(function(t,n){return e.initEqxPage(n)})}},{key:"initEqxPage",value:function(e){var t=this.sceneJson.list[e];if(t){u(t,this.sceneJson);var n=l.get(t),i=new n(t,this);return this.eqxPageList[e]=i,i}throw new Error("Invalid Page Index: "+e)}},{key:"renderPage",value:function(e){var t=this;if("number"==typeof e)var n=this.eqxPageList[e];else n=e,e=this.eqxPageList.indexOf(n);if(n){var i=n.$section;if(i)return;return i=n.create$section(),console.log("[renderPage]",e+1),"edit"!==this.config.mode&&n.addEventListener(),this.$ele.append(i),this.sceneJson.list.length>1&&n.renderArrow(),window._tj&&(window._tj["page"+e]=window._tj.now()),0===e&&n.arrow&&n.arrow.updateCss({bottom:"30px"}),n.addEffect().then(function(){e===t.config.toPageIndex?(t.currentPage=n,n.active().then(function(t){n.deactive().show(),window._tj&&(window._tj["page"+e+"Effect"]=window._tj.now(),window._tj.firstPageShowTime=window._tj.now())})):window._tj&&(window._tj["page"+e+"Effect"]=window._tj.now())})}return console.error("no eqxPage at index "+e),Promise.reject(new Error("no eqxPage at index "+e))}},{key:"changePageMode",value:function(e){this.eqxPageList.forEach(function(t){t.arrow?t.arrow.updatePageMode(e):t.renderArrow(e)})}},{key:"initProgressBar",value:function(){this.progressBar=new p(this.sceneJson.list.length),this.$ele.append(this.progressBar.$progress)}},{key:"updateProgressBar",value:function(e){if(e||(e=this.currentPage),e)t=e.pageJson.num;else var t=this.eqxPageList[0].pageJson.num;var n=this.sceneJson.list.length;if(this.progressBar.update(t,n),this.config.showProgressBar)this.progressBar.show();else{var i=this.meta.property.slideNumber&&!this.config.disableProgressBar;i?this.progressBar.show():this.progressBar.hide()}}},{key:"initPageScroll",value:function(){this.config.disablePageScroll||(this.pageScroll=new h(this))}},{key:"initManagers",value:function(){this.initSoundManager(),this.initPageEffectManager(),this.initStatManager(),this.config.disableCommentManager||this.initCommentManager(),this.initEventManager(),this.initFormManager()}},{key:"initSoundManager",value:function(){this.soundManager=new y}},{key:"initStatManager",value:function(){return this.statManager=new v(this.sceneJson),this.statManager.iterate(),this.statManager}},{key:"initCommentManager",value:function(){this.commentManager=new g(this.meta.id)}},{key:"initEventManager",value:function(){this.eventManager=new f}},{key:"initFormManager",value:function(){this.formManager=new m}},{key:"initPageEffectManager",value:function(){this.pageEffectManager=new b}},{key:"replaceEqxPage",value:function(e,t){var n=this.eqxPageList[e];n.destroy(),this.sceneJson.list.splice(e,1,JSON.parse(JSON.stringify(t))),this.updatePageNum(),this.eqxPageList[e]=null;var i=this.initEqxPage(e);return this.currentPage&&this.currentPage.pageJson.num==e+1&&(this.currentPage=i),i}},{key:"updatePageNum",value:function(){this.sceneJson.list.forEach(function(e,t){e.num=t+1})}},{key:"insertPage",value:function(e,t){var n=this.sceneJson.list;return n.splice(e+1,0,t),this.updatePageNum(),this.eqxPageList.splice(e+1,0,null),this.initEqxPage(e+1)}},{key:"deletePage",value:function(e){var t=this.sceneJson.list,n=this.eqxPageList[e];n&&n.destroy(),t.splice(e,1),this.updatePageNum(),this.eqxPageList.splice(e,1)}},{key:"destroy",value:function(){this.eqxPageList.forEach(function(e){return e.destroy()}),this.bgm&&(this.bgm.destroy(),this.bgm=null)}},{key:"sortPage",value:function(e,t){var n=this.sceneJson.list,i=n.length;if(e===t||e<0||e>i-1||t<0||t>i-1)return console.error("invalid sortPage arguments");if(e>t){var o=n.splice(e,1),s=r(o,1),a=s[0];n.splice(t,0,a);var c=this.eqxPageList.splice(e,1),u=r(c,1);a=u[0],this.eqxPageList.splice(t,0,a)}else{var l=n.splice(e,1),p=r(l,1);a=p[0],n.splice(t,0,a);var h=this.eqxPageList.splice(e,1),d=r(h,1);a=d[0],this.eqxPageList.splice(t,0,a)}this.updatePageNum()}},{key:"getEqxPageByIndex",value:function(e){var t=this.eqxPageList[e];return t||(t=this.initEqxPage(e)),t}},{key:"isEqxPage",value:function(e){return this.eqxPageList.some(function(t){return t===e})}},{key:"getEqxPageById",value:function(e){return this.getEqxPageByKeyValue("id",e)}},{key:"getEqxPageByKeyValue",value:function(e,t){var n=this.sceneJson.list.findIndex(function(n){return n[e]===t});if(n>-1)return this.getEqxPageByIndex(n)}}]),e}();e.exports=I},function(e,t,n){"use strict";var i=n(89),o=n(349),r=n(350);e.exports={get:function(e){var t=e.properties,n=t.longPage,s=t.xb;return s?r:n?o:i}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(70).COMP_TYPE,s=n(70).FORM_COMPS,a=n(70).WX_COMPS,c=n(70).FIX_INDEX_COMPS,u=n(70).WX_CLICK_FARMER_COMPS,l=n(71),p=l.perfectComp,h=l.perfectBg,d=n(54).randomId,f=n(90),g=n(92),m=n(25).isPc,v=n(123),y=n(126),b=n(330),x=n(221),w=n(335),S=n(336),k=n(340),I=n(23).$loadParallax,P=n(341),_=n(345),E=n(346),O=n(118).getEvent,T=n(348),C=n(22),A=function(){function e(t,n){i(this,e),this.pageJson=t,this.eqxScene=n,this.eqxCompList=[],this.displayed=!1,this.hasCoverEffect=!1,this.destroyed=!1;var o=this.eqxScene.sceneJson,r=o.meta,s=r.pageMode,a=r.property.forbidHandFlip,c=this.eqxScene,u=c.width,l=c.height;this.width=u,this.height=l,this.pageMode=s,this.forbidHandFlip=a,this.bgm=this.eqxScene.bgm,this.eqxStatManager=null,this.pv=0}return o(e,[{key:"addGroupManager",value:function(){return this.groupManager=new P(this),this.groupManager}},{key:"addScreenManager",value:function(){return this.screenManager=new _(this),this.screenManager}},{key:"toPageJson",value:function(e){e=Object.assign({transformText:!0,addForms:!0},e);var t=JSON.parse(JSON.stringify(this.pageJson)),n=t.id,i=t.sceneId,o=t.forms=[],a=t.redPacket={};if(t.elements.forEach(function(e){var t=e.type+"";if("EqxRedPacket"===r[t]){var c=e.properties;a.title=c.title,a.activity=c.activity,a.amount=c.amount,a.begin=c.begin,a.end=c.end,a.count=c.count,a.chance=c.chance}if("EqxText"===r[t]&&e.content&&(e.content=e.content.replace(/(^\s*)|(\s*$)/g,"")),s.concat("i").includes(t)){var u={id:e.id,pageId:n,sceneId:i,type:t,fieldType:t,title:e.title,num:e.num};"z"===t&&e.choices&&e.choices.options&&(u.title=e.choices.options[0].label||e.title),/^[rc]/.test(t)&&(e.choices&&"string"!=typeof e.choices&&(e.choices=JSON.stringify(e.choices)),u.choices=e.choices),o.push(u)}if(e.trigger){var l=e.trigger;l.sends&&0===l.sends.length&&delete l.sends,l.receives&&0==l.receives.length&&delete l.receives,l.sends||l.receives||delete e.trigger}"EqxTelephone"!==r[t]&&"EqxLink"!==r[t]&&"EqxSubmitButton"!==r[t]||e.properties.title&&(e.properties.title=e.properties.title.replace(/ /g,"&nbsp;"))}),t.trigger){var c=t.trigger;c.sends&&0===c.sends.length&&delete c.sends,c.receives&&0===c.receives.length&&delete c.receives,c.sends||c.receives||delete t.trigger}return t}},{key:"getWxCompCount",value:function(){return this.pageJson.elements.reduce(function(e,t){return a.includes(t.type+"")&&(e+=1),e},0)}},{key:"getWxClickFarmerCompCount",value:function(){return this.pageJson.elements.reduce(function(e,t){var n=t.type+"";return u.includes(n)&&t.properties.clickFarmer&&(e+=1),e},0)}},{key:"getCompName",value:function(e){if(e.name)return e.name;var t=k.find(function(t){return t.types.includes(e.type+"")});if(!t)return _DEBUG_&&console.error("Lack Name for Type",e.type),null;var n=t.types,i=this.pageJson.elements.filter(function(e){return n.includes(e.type+"")}),o=0;return i.forEach(function(e){if(e.name){var n=new RegExp(t.name+"(\\d+)"),i=parseInt((n.exec(e.name)||[])[1]);i&&i>o&&(o=i)}}),t.name+(o+1)}},{key:"setProps",value:function(e){var t=this.pageJson.properties;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"isLongPage",value:function(){return"longPage"in this.pageJson.properties}},{key:"getPageWidth",value:function(){return 320}},{key:"getPageHeight",value:function(){var e=this.pageJson.properties;return e.longPage||486}},{key:"toString",value:function(){return"page-"+this.pageJson.id}},{key:"initStatManager",value:function(){return this.statManager=new w(this.pageJson.elements),this.statManager.iterate(),this.statManager}},{key:"show",value:function(){if(this.displayed=!0,this.triggerEventAgent&&this.triggerEventAgent.addEventListener(),this.$section.addClass("z-current"),window.scene){var e=window.scene.property.activityPageId;e&&!this.pv&&(this.pv+=1)}return this.soundAgent&&this.soundAgent.start(),this}},{key:"hide",value:function(){this.displayed=!1;var e=this.pageJson.properties.oneShot;return e&&e.isOpen&&(this.oneShotPos=0,this.updateOneShot$ul(0)),this.triggerEventAgent&&this.triggerEventAgent.removeEventListener(),this.eqxCompList.forEach(function(e){e.$li&&e.eleHide()}),this.effect&&this.effect.stopEffect&&this.effect.stopEffect(),this.$section&&this.$section.removeClass("z-current"),this.soundAgent&&this.soundAgent.pause(),this}},{key:"showElements",value:function(){var e=this;this.eqxCompList.forEach(function(t){var n=t.compJson.css.top;t.compJson.properties.anim&&t.compJson.properties.anim[0]&&30===t.compJson.properties.anim[0].type&&(n-=t.compJson.css.height),2===t.compJson.properties.initType?t.eleHide():t.compJson.properties.anim&&t.compJson.properties.anim[0]&&(2===t.compJson.properties.anim[0].type||19===t.compJson.properties.anim[0].type)?t.eleShow():n&&parseFloat(n)<=e.height?t.eleShow():n||t.eleShow()}),this.eqxBackground&&this.eqxBackground.eleShow()}},{key:"active",value:function(){function e(e){if(e.hasCoverEffect?(e.bgm&&e.bgm.hide(),e.eqxScene.progressBar&&e.eqxScene.progressBar.hide()):e.showElements(),e.effect&&e.effect.startEffect&&e.effect.startEffect(),e.$section.addClass("z-active"),"view"===e.eqxScene.config.mode){var t=e.pageJson.properties;if(t.oneShot&&t.oneShot.isOpen){var n=t.oneShot.auto;if(n===!0){var i=e.oneShotMaxTranslateZ(),o=0;!function r(){return o>i||!e.$ul?void console.log("一镜到底自动播放结束"):(requestAnimationFrame(r),void e.updateOneShot$ul(o++))}()}}}}function t(e){var t=[],n=e.eqxCompList;return n.forEach(function(e){e.anim.forEach(function(e){e.sound&&e.soundAgent&&t.push(e.soundAgent.audio)})}),t}var n=this,i=new Promise(function(i,o){var r=t(n),s=r.length;r&&r.length?r.forEach(function(t){4===t.readyState?0===--s&&(e(n),i()):(t.load(),$(t).on("canplay",function(){0===--s&&(e(n),i())}).on("error",function(){0===--s&&(e(n),i())}))}):(e(n),i())});return i}},{key:"deactive",value:function(){if(this.$section)return this.$section.removeClass("z-active"),this}},{key:"destroy",value:function(){this.hide(),this.eqxCompList.forEach(function(e){e.$li&&e.destroy()}),this.$ul&&(this.$ul.remove(),this.$ul=null),this.$editDiv&&(this.$editDiv.remove(),this.$editDiv=null),this.$pageDiv&&(this.$pageDiv.remove(),this.$pageDiv=null),this.$section&&(this.$section.remove(),this.$section=null),this.destroyed=!0,this.eqxCompList=[],this.soundAgent&&this.soundAgent.destroy()}},{key:"create$section",value:function(){var e=this,t=this.pageJson,n=t.num,i=t.id,o=t.elements,s=void 0===o?[]:o,a=t.properties,c=this.eqxScene.config,u=c.mode,l=a.pip,d=void 0===l?{}:l,g=a.oneShot,v=void 0===g?{}:g,y=!1;this.$section=$(f.section()),this.section=this.$section[0],this.$pageDiv=$(f.pageDiv(n)),this.$editDiv=$(f.editDiv(i)),this.$ul=$(f.ul(i)),this.$editDiv.append(this.$ul),this.$pageDiv.append(this.$editDiv),this.$section.append(this.$pageDiv),d.used&&"view"===u?this.initPipNode():s.map(function(t){return t.name=e.getCompName(t),t}).filter(function(e){var t=e.type;return"EqxBackground"!==r[t]&&"EqxGravity"!==r[t]}).sort(function(e,t){var n=e.css.zIndex,i=t.css.zIndex;return n-i}).map(function(e,t){return e.num=t+1,e.css.zIndex=t+1,e}).forEach(function(t){p(t,e.eqxScene.sceneJson,e.pageJson);var n=e.initEqxCompByJson(t);if(e.renderEqxComp(n),!y){var i=t.properties.GSensor,o=void 0===i?{}:i;y=!!o.isUsed}}),y&&"view"===u&&I().then(function(){e.parallax=new window.Parallax(e.$ul.get(0))}),v.isOpen&&this.addOneShot();for(var b=-1,x=0;x<s.length;x++)"EqxBackground"===r[s[x].type]&&(b=x);if(b>-1){var w=s[b];h(w),this.eqxBackground=this.initEqxBgByJson(w),this.renderBg(this.eqxBackground)}for(var S=-1,k=0;k<s.length;k++)"EqxGravity"===r[s[k].type]&&(S=k);if(S>-1){var P=s[S];this.eqxGravity=this.initEqxGravityByJson(P),this.renderGravity(this.eqxGravity)}return c.disableTrigger||(this.trigger=new E(this)),m()||(window.top===window?this.setUlTopAndLeft():this.setIframeUlTopAndLeft()),this.$section}},{key:"initPipNode",value:function(){this.initPipCanvasNode(),this.renderPipButton()}},{key:"renderPipButton",value:function(){var e=this.pageJson.elements,t=e.find(function(e){return"16"===e.type});p(t,this.eqxScene.sceneJson,this.pageJson);var n=this.pip.btn=this.initEqxCompByJson(t);this.pip.$btn=this.renderEqxComp(n)}},{key:"initPipCanvasNode",value:function(){function e(){function e(){s.direction=s.direction?0:1,1===o.mode&&s.direction?s.btn.showForwardButton():1!==o.mode||s.direction?2===o.mode&&s.direction?s.btn.showBackButton():2!==o.mode||s.direction||s.btn.showForwardButton():s.btn.showBackButton()}function t(e,t,n,i,o,r,s,a,c,u,l){e.drawImage(t,0,0,n,i,c/(o-s)*(1-l)*h,u/(r-a)*(1-l)*d,h*l,d*l)}function n(e,t,n,i,o,r,s,a,c){e.drawImage(t,s-(o/c-o)*(s/(n-o)),a-(r/c-r)*(a/(i-r)),o/c,r/c,0,0,h,d)}if(s.direction&&s.index+1<r.length){if(s.radio<r[s.index+1].area.width/r[s.index+1].thumbnail.w){if(!r[++s.index+1])return void(o.playback&&(s.index=r.length-2,s.radio=r[s.index+1].area.width/r[s.index+1].thumbnail.w,e()));s.radio=1}}else{if(s.direction||!(s.index>=0))return;if(s.radio>1){if(!r[--s.index])return void(o.playback&&(s.index=0,s.radio=1,e()));s.radio=r[s.index+1].area.width/r[s.index+1].thumbnail.w}}s.current=r[s.index],s.next=r[s.index+1],n(s.context,s.next.image,s.next.thumbnail.w,s.next.thumbnail.h,s.next.area.width,s.next.area.height,s.next.area.left,s.next.area.top,s.radio),t(s.context,s.current.image,s.current.thumbnail.w,s.current.thumbnail.h,s.next.thumbnail.w,s.next.thumbnail.h,s.next.area.width,s.next.area.height,s.next.area.left,s.next.area.top,s.radio)}function t(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}function n(){s.$btn.on("contextmenu",function(e){e.preventDefault()}).on("touchstart mousedown",function(t){function n(){var t=(new Date).getTime();if(s.index>=0&&s.index+1<r.length){if(t-i<1e3/s.fps)return void(s.timer=requestAnimationFrame(n));i=t}if(s.direction&&s.index+1<r.length)s.radio=s.scale*s.radio;else{if(s.direction||!(s.index>=0))return;s.radio=s.radio/s.scale}e(),s.timer=requestAnimationFrame(n)}t.preventDefault(),cancelAnimationFrame(s.timer);var i=(new Date).getTime();s.timer=requestAnimationFrame(n)}).on("touchend mouseup",function(e){e.preventDefault(),cancelAnimationFrame(s.timer)})}function i(){var e=r.length,t=0;return new Promise(function(n,i){for(var o=0;o<e;o++){var s=r[o].image=new Image;r[o].thumbnail?(s.src=C.FILE+r[o].thumbnail.src,s.onload=function(){++t===e&&n()}):i({})}})}var o=this.pageJson.properties.pip,r=this.pageJson.extend.screens,s=this.pip={index:0,radio:1,fps:60,scale:.985,direction:1},a=s.$pip=$('<li style="position: absolute;top: 0;left: 0;width: 100%;height: 100%;"></li>'),c=this.getPageWidth(),u=this.getPageHeight(),l=s.$canvas=$('<canvas style="width: '+c+"px;height: "+u+'px;"></canvas>');2===o.mode&&(s.index=r.length-2,s.radio=r[s.index+1].area.width/r[s.index+1].thumbnail.w,s.direction=0),s.context=l[0].getContext("2d");var p=t(s.context),h=p*c,d=p*u;return l[0].width=h,l[0].height=d,a.append(l),this.$ul.append(a),i().then(function(){e(),n()})["catch"](function(){console.log("画中画图片预加载失败")}),this}},{key:"addEventListener",value:function(){var e=this.pageJson.properties,t=e.oneShot,n=void 0===t?{}:t;this.addPageSoundAgent(),n.isOpen&&!n.auto&&this.addOneShotEvent()}},{key:"addPageSoundAgent",value:function(){this.soundAgent=new T(this,this.eqxScene.soundManager)}},{key:"renderGravity",value:function(e){e.$gravity?console.error("gravity already rendered"):this.$editDiv.prepend(e.create$gravity())}},{key:"addGravityJson",value:function(e){return this.deleteGravity(),this.addCompJson(e)}},{key:"deleteGravity",value:function(){var e=this;if(this.eqxGravity){var t=this.pageJson.elements.findIndex(function(t){return t.id===e.eqxGravity.compJson.id});t>-1&&this.pageJson.elements.splice(t,1),this.eqxGravity.delete$gravity(),this.eqxGravity=null}}},{key:"renderBg",value:function(e){e.$bg?console.error("background already rendered"):e.create$bg(this.$editDiv,this.width,this.height)}},{key:"addBgJson",value:function(e){return this.deleteBg(),this.addCompJson(e)}},{key:"deleteBg",value:function(){var e=this;if(this.eqxBackground){var t=this.pageJson.elements.findIndex(function(t){return t.id===e.eqxBackground.compJson.id});t>-1&&this.pageJson.elements.splice(t,1),this.eqxBackground.delete$bg(),this.eqxBackground=null}}},{key:"addCompJson",value:function(e,t){var n=JSON.parse(JSON.stringify(e));return this.addPageInfo(n,t),p(n,this.eqxScene.sceneJson,this.pageJson),this.pageJson.elements.push(n),n}},{key:"deleteEqxComp",value:function(e){var t=this.pageJson.elements,n=t.findIndex(function(t){return t.id===e.compJson.id});n>-1&&this.pageJson.elements.splice(n,1),n=this.eqxCompList.findIndex(function(t){return t===e}),n>-1&&(e.destroy(),this.eqxCompList.splice(n,1)),this.deleteTrigger(e)}},{key:"deleteTrigger",value:function(e){var t=e.compJson.id;this.pageJson.properties.triggerGroup&&(this.pageJson.properties.triggerGroup=this.pageJson.properties.triggerGroup.filter(function(e){return e.sourceId!=t&&e.targetId!=t}))}},{key:"reEffectJson",value:function(e){this.pageJson.properties.effect=e}},{key:"getCopyJson",value:function(){var e=JSON.parse(JSON.stringify(this.pageJson)),t=e.groups;return e.elements.forEach(function(n){if(!(""+n.id).includes("wx")){var i=d();e.properties.triggerGroup.forEach(function(e){e.sourceId==n.id&&(e.sourceId=i),e.targetId==n.id&&(e.targetId=i)}),t&&t.forEach(function(e){var t=e.settings;e.compIds.forEach(function(t,o){t==n.id&&(e.compIds[o]=i)}),t&&t.forEach(function(e){e.type.indexOf("Group")<0?e.comps.forEach(function(e){e.id==n.id&&(e.id=i)}):e.type.indexOf("editGroup")>-1&&e.comps.forEach(function(e){e.comps.forEach(function(e){e.id==n.id&&(e.id=i)})})})}),n.id=i}}),t&&(t.forEach(function(e){e.compIds.forEach(function(n,i){t.forEach(function(t){if(t.id==n){var o="group:"+d();e.compIds[i]=o,t.id=o}})})}),t.forEach(function(e){var t=e.settings;t&&t.forEach(function(t){t.type.indexOf("Group")>-1&&t.type.indexOf("editGroup")<0&&t.comps.forEach(function(t){t.id=e.id})})})),e}},{key:"addPageInfo",value:function(e,t){var n=this.pageJson,i=0;return c.indexOf(""+e.type)===-1&&(this.eqxCompList.forEach(function(e){var t=e.getCss("zIndex");t>i&&(i=t)}),void 0===e.css.zIndex&&(e.css.zIndex=i+1)),e.id||(e.id=d()),Object.assign(e,{id:e.id,pageId:n.id,sceneId:n.sceneId,num:i+1}),e.fromSource&&"psd"===e.fromSource?(delete e.fromSource,e):(t||(delete e.name,e.name=this.getCompName(e)),e)}},{key:"addPageGroup",value:function(e){this.pageJson.groups=this.pageJson.groups||[],e.type&&this.pageJson.groups.push(e)}},{key:"getPageGroups",value:function(){return this.pageJson.groups||[]}},{key:"getPageGroupSettings",value:function(){var e=this.pageJson.properties;return e.groupSettings=e.groupSettings||[],e.groupSettings}},{key:"updateOneShot$ul",value:function(e){this.$ul&&this.$ul.css({transform:"translateZ("+e+"px)"})}},{key:"addOneShotEvent",value:function(){var e=this;this.oneShotPos=0;var t=void 0,n=void 0,i=void 0,o=this.oneShotMaxTranslateZ();this.$pageDiv.on("mousedown touchstart",function(e){e.stopPropagation(),t=!0,i=0;var o=O(e);n=o.clientY}),this.$pageDiv.on("mousemove touchmove",function(r){if(r.stopPropagation(),r.preventDefault(),t){var s=O(r);if(i=e.oneShotPos+s.clientY-n,i>0)return n=s.clientY,void(e.oneShotPos=0);if(2*i<-o)return n=s.clientY,void(e.oneShotPos=-o/2);e.updateOneShot$ul(2*-i)}}),this.$pageDiv.on("mouseup touchend mouseleave",function(){t&&(t=!1,0!==i&&(e.oneShotPos=i))})}},{key:"oneShotMaxTranslateZ",value:function(){var e=this.pageJson.elements,t=[];return e.forEach(function(e){var n=e.properties.translate3dZ;!isNaN(parseFloat(n))&&t.push(n)}),Math.max.apply(null,t)}},{key:"initEqxCompById",value:function(e){var t=this.pageJson.elements.find(function(t){return t.id==e});return this.initEqxCompByJson(t)}},{key:"initEqxBgByJson",value:function(e){return this.eqxBackground=new x(e,this),this.eqxBackground}},{key:"initEqxGravityByJson",value:function(e){return this.eqxGravity=new S(e,this),this.eqxGravity}},{key:"updateEqxComp",value:function(e,t){t=JSON.parse(JSON.stringify(t)),p(t,this.eqxScene.sceneJson,this.pageJson);var n=this.pageJson.elements.find(function(t){return t.id===e});return n?(delete t.id,delete t.num,delete t.pageId,delete t.sceneId,delete t.type,Object.assign(n,t),this.getEqxCompById(e)):void console.error("invalid comp Id")}},{key:"initEqxCompByJson",value:function(e,t){if(e){var n=this.getCompJsonById(e.id);n||(e=this.addCompJson(e,t));var i=this.getEqxCompById(e.id);if(i)return void console.error("already init",e,i);var o=v[e.type];if(!(o&&o.prototype instanceof y))return void console.error("In Valid Type: "+e.type+" @Page"+this.pageJson.id,e);var r=new o(e,this);return this.eqxCompList.push(r),r}}},{key:"getEqxCompById",value:function(e){return this.eqxCompList.find(function(t){return t.compJson.id==e})}},{key:"getCompJsonById",value:function(e){return this.pageJson.elements.find(function(t){return t.id==e})}},{key:"renderEqxComp",value:function(e){if(e&&e instanceof y){var t=this.eqxScene.config,n=t.disableCompEvent,i=t.disableTrigger,o=e.$li;return o&&(e.$li.remove(),e.$li=null),o=e.create$li(),n||e.addEventListeners(),i||e.addSoundEvent(),this.$ul.append(o),o}console.error("invalid eqxComp",e)}},{key:"renderEqxCompById",value:function(e){return this.renderEqxComp(this.getEqxCompById(e))}},{key:"renderArrow",value:function(e){var t=this.eqxScene.config;e||(e=this.pageMode),this.forbidHandFlip||t.disableArrow||(this.arrow=new b(e),this.$section.append(this.arrow.$arrow))}},{key:"setUlTopAndLeft",value:function(){if(!this.eqxScene.config.disableSetUlTopAndLeft){var e,t;this.width/this.height>=320/486?e=(this.width/(this.height/486)-320)/2:t=(this.height/(this.width/320)-486)/2,e&&this.$ul.css({marginLeft:e}),t&&this.$ul.css({marginTop:t})}}},{key:"setIframeUlTopAndLeft",value:function(){var e,t=(this.width-320)/2,n=(this.height-486)/2;return e=this.width/this.height<=320/486?"scale("+this.width/320+")":"scale("+this.height/486+")",this.$ul.css({marginTop:n,marginLeft:t,transform:e}),{marginLeft:t,marginTop:n}}},{key:"addEffect",value:function(){var e=this,t=this.pageJson,n=t.num,i=t.properties.effect,o=this.eqxScene.config;return new Promise(function(t,r){if(!i||o.disablePageEffect||"gravity"===i.name)t();else{var s=e,a=function(){if(s.hasCoverEffect=!0,1===n){var e=s.eqxScene.progressBar;e.hide(),s.bgm&&(s.bgm.hide(),s.bgm.stopPlay())}},c=function(){s.hasCoverEffect=!1;var e=s.eqxScene.progressBar;e&&e.show(),s.bgm&&s.bgm.show(),1===n&&s.bgm&&s.bgm.resumePlay(),s.showElements()},u=i.name,l=e;g.load(u).then(function(e){l.effect=new e(i,l.$pageDiv,l.width,l.height,a,c),l.eqxScene.pageEffectManager.add(l.effect),l.effect.init(),t()})["catch"](function(){r()})}})}},{key:"updateCompZIndex",value:function(e,t){function n(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}var i=this,o=this.eqxCompList.map(function(e){return e}).sort(function(e,t){var n=i.getZIndex(e),o=i.getZIndex(t);return n<o?1:n===o?0:-1}),r=o.length;if(t.startsWith("-")){var s=(/-(\d+|-)/.exec(t)||[])[1];if("-"===s)o=o.filter(function(t){return t!==e}),o.push(e),this.resetZIndex(o);else{for(s=parseInt(s);s-- >0;)for(var a=0;a<r;a++)if(o[a]===e&&a!==r-1){n(o,a,a+1);break}this.resetZIndex(o)}}else if(t.startsWith("+")){var c=(/\+(\d+|\+)/.exec(t)||[])[1];if("+"===c)o=o.filter(function(t){return t!==e}),o.unshift(e),this.resetZIndex(o);else{for(c=parseInt(c);c-- >0;)for(var u=0;u<r;u++)if(o[u]===e&&0!==u){n(o,u,u-1);break}this.resetZIndex(o)}}}},{key:"getZIndex",value:function(e){return e.compJson.css.zIndex}},{key:"resetZIndex",value:function(e){for(var t=e.length,n=t-1;n>=0;n--){var i=e[n];i.compJson.css.zIndex=t-n,i.update$li({zIndex:i.compJson.css.zIndex})}}},{key:"addOneShot",value:function(e){var t=this.pageJson,n=t.properties;if(n.oneShot=n.oneShot||{},n.oneShot.isOpen=!0,n.oneShot.perspective=n.oneShot.perspective||320,isNaN(parseFloat(e))){var i=this.pageJson.properties;e=parseFloat(i.oneShot.perspective)}var o=$("<div></div>");o.css({width:"100%",height:"100%",perspective:e+"px",transformOrigin:"50% 50% 0",transformStyle:"preserve-3d"}),this.$ul.wrapAll(o),this.$ul.css({transformStyle:"preserve-3d",transform:"translateZ(0px)"}),this.updateOneShot$ul(0)}},{key:"openPIPEditor",value:function(){var e=this.pageJson,t=e.properties;t.pip=t.pip||{},t.pip.used=!0,t.pip.playback=!0,t.pip.mode=1}}]),e}();e.exports=A,function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16.7-(n-e)),o=window.setTimeout(function(){t(n+i)},i);return e=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t,n){"use strict";function i(){return'<section class="main-page"></section>'}function o(e){return'<div class="m-img" id="page'+e+'"></div>'}function r(e){return'<div class="edit_wrapper" data-scene-id="'+e+'" style="position: relative; z-index: 1"></div>'}function s(e){return'<ul id="edit_area'+e+'" class="edit_area weebly-content-area weebly-area-active"></ul>'}n(91),e.exports={section:i,pageDiv:o,editDiv:r,ul:s}},function(e,t){},function(e,t,n){"use strict";e.exports={load:function(e){return new Promise(function(t,i){switch(e){case"finger":n.e(1,function(){return t(n(93))});break;case"money":n.e(2,function(){return t(n(106))});break;case"scratch":n.e(3,function(){return t(n(110))});break;case"snowFly":n.e(4,function(){return t(n(112))});break;case"fallingObject":n.e(5,function(){return t(n(114))});break;case"fireWorks":n.e(6,function(){return t(n(115))});break;case"gradient":n.e(7,function(){return t(n(116))});break;case"glassBreak":n.e(8,function(){return t(n(119))});break;default:var o="Invalid Effect name: "+e;console.error(o),i(o)}})}}},,,function(e,t,n){"use strict";function i(e,t){return new Promise(function(n,i){var o=new Image;t&&(o.crossOrigin="Anonymous"),o.onload=function(){n(this)},o.onerror=o.onabort=function(){i(new Error("download image fail"))},o.src=e})}function o(e,t,n){if(!e)return"";if("string"!=typeof e)throw new Error("Typeof src is not string");/gif/.test(e)&&(window.location.host.indexOf("eqh5.cn")>-1||window.location.host.indexOf("adscene.eqxiu.cc")>-1)&&(t=.75*t,n=.75*n);var i=r(e);if(/^blob:/.test(e))return e;if(e.startsWith("data:image/"))return e;if(/\.(ico|svg)$/i.test(e.split("?")[0]))return encodeURI(i);if(!t)return encodeURI(/\?imageMogr2/.test(e)?i:i+"?imageMogr2/auto-orient");var o=window.devicePixelRatio||1;t=d(t),n=d(n),t&&n?(t*=o,n*=o):(t*=o,n=t);var s=9999;t>n?t>s&&(n*=1-(t-s)/t,t=s):t<n?n>s&&(t*=1-(n-s)/n,n=s):t>s&&(t=n=s);var a="imageMogr2/auto-orient/thumbnail/"+Math.round(t)+"x"+Math.round(n)+">";return i+=/\?imageMogr2/.test(e)?"|"+a:"?"+a,encodeURI(i)}function r(e){if(!e)return void console.error("add prefix invalid src");if(/^blob:/.test(e))return e;if(e.startsWith("data:image/"))return e;var t=window.location.protocol;if(e.startsWith("//")&&"file:"!==t&&(e=t+e),!e.startsWith("/")&&!e.startsWith("file://"))if(/^https?:\/\//.test(e)){for(var n,i=[h.BIND_USER_FILE,h.FREE_USER_FILE,h.VIP_USER_FILE],o=0;o<i.length;o++)if(n=i[o],e.startsWith(n)){e=e.replace(n,h.FILE);break}}else e=h.FILE+e;return e}function s(e){var t=window.location.protocol;return e?/^http.*/.test(e)||/^blob:/.test(e)||e.startsWith("data:image/")?e:e.startsWith("//")&&"file:"==t?"http:"+e:e.startsWith("//")?e:"file:"==t&&e.startsWith("file://")?e:h.FILE+e:e}function a(e){var t=window.URL||window.webkitURL;try{var n=t.createObjectURL(e)}catch(i){return Promise.reject(new TypeError("不支持URL.createObjectURL"))}return c(n)}function c(e){return i(e).then(function(e){return{width:e.width,height:e.height,ratio:e.width/e.height}})}function u(e,t){if(e.shape)return Promise.resolve(e.shape);var n=o(e.path,t||115),r=h.FILE+e.path,s=0;return i(r).then(function(e){return s=e.width/e.height,i(n)}).then(function(e){var t=window.devicePixelRatio||1,n=e.height/t;return{width:n*s,height:n,ratio:s}})}function l(e){var t=r(e);return t=t.replace(/\?.*$/,""),t+="?imageInfo",f({method:"GET",url:t})}function p(e){var t;return new Promise(function(n){g.parseMetaData(e,function(i){if(i&&i.exif&&1!==i.exif.get("Orientation")){var o={orientation:!0,canvas:!1};g(e,function(e){t=e.toDataURL(),n(t)},o)}else t=g.createObjectURL(e),n(t)},{maxMetaDataSize:262144,disableImageHead:!1})})}var h=n(22),d=Number.parseInt,f=n(21).$ajax,g=n(96);e.exports={loadImg:i,qiniuZoom:o,addPrefix:r,initEffectImgPath:s,getImgShapeByNativeFile:a,getImgShape:u,getImgShapeBySrc:c,getQiniuImgInfo:l,uploadImg:p}},function(e,t,n){"use strict";e.exports=n(97),n(98),n(99),n(100),n(101),n(102),n(103)},function(e,t,n){var i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){"use strict";function r(e,t,n){var i,o=document.createElement("img");return o.onerror=function(i){return r.onerror(o,i,e,t,n)},o.onload=function(i){return r.onload(o,i,e,t,n)},"string"==typeof e?(r.fetchBlob(e,function(t){t?(e=t,i=r.createObjectURL(e)):(i=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)),o.src=i},n),o):r.isInstanceOf("Blob",e)||r.isInstanceOf("File",e)?(i=o._objectURL=r.createObjectURL(e),i?(o.src=i,o):r.readFile(e,function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)})):void 0}function s(e,t){!e._objectURL||t&&t.noRevoke||(r.revokeObjectURL(e._objectURL),delete e._objectURL)}var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;r.fetchBlob=function(e,t,n){t()},r.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},r.transform=function(e,t,n,i,o){n(e,o)},r.onerror=function(e,t,n,i,o){s(e,o),i&&i.call(e,t)},r.onload=function(e,t,n,i,o){s(e,o),i&&r.transform(e,o,i,n,{})},r.createObjectURL=function(e){return!!a&&a.createObjectURL(e)},r.revokeObjectURL=function(e){return!!a&&a.revokeObjectURL(e)},r.readFile=function(e,t,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,n=n||"readAsDataURL",i[n])return i[n](e),i}return!1},i=function(){return r}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(window)},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=e.transform;
    e.transform=function(n,i,o,r,s){t.call(e,e.scale(n,i,s),i,o,r,s)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,i,o,r,s=t.aspectRatio;if(!s)return t;n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,o=e.naturalWidth||e.width,r=e.naturalHeight||e.height,o/r>s?(n.maxWidth=r*s,n.maxHeight=r):(n.maxWidth=o,n.maxHeight=o/s),n},e.renderImageToCanvas=function(e,t,n,i,o,r,s,a,c,u){return e.getContext("2d").drawImage(t,n,i,o,r,s,a,c,u),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,i){function o(){var e=Math.max((c||w)/w,(u||S)/S);e>1&&(w*=e,S*=e)}function r(){var e=Math.min((s||w)/w,(a||S)/S);e<1&&(w*=e,S*=e)}n=n||{};var s,a,c,u,l,p,h,d,f,g,m,v=document.createElement("canvas"),y=t.getContext||e.hasCanvasOption(n)&&v.getContext,b=t.naturalWidth||t.width,x=t.naturalHeight||t.height,w=b,S=x;if(y&&(n=e.getTransformedOptions(t,n,i),h=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(h=b-l-n.right)):l=b-h-(n.right||0),n.sourceHeight?(p=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=x-p-n.bottom)):p=x-d-(n.bottom||0),w=l,S=p),s=n.maxWidth,a=n.maxHeight,c=n.minWidth,u=n.minHeight,y&&s&&a&&n.crop?(w=s,S=a,m=l/p-s/a,m<0?(p=a*l/s,void 0===n.top&&void 0===n.bottom&&(d=(x-p)/2)):m>0&&(l=s*p/a,void 0===n.left&&void 0===n.right&&(h=(b-l)/2))):((n.contain||n.cover)&&(c=s=s||c,u=a=a||u),n.cover?(r(),o()):(o(),r())),y){if(f=n.pixelRatio,f>1&&(v.style.width=w+"px",v.style.height=S+"px",w*=f,S*=f,v.getContext("2d").scale(f,f)),g=n.downsamplingRatio,g>0&&g<1&&w<l&&S<p)for(;l*g>w;)v.width=l*g,v.height=p*g,e.renderImageToCanvas(v,t,h,d,l,p,0,0,v.width,v.height),h=0,d=0,l=v.width,p=v.height,t=document.createElement("canvas"),t.width=l,t.height=p,e.renderImageToCanvas(t,v,0,0,l,p,0,0,l,p);return v.width=w,v.height=S,e.transformCoordinates(v,n),e.renderImageToCanvas(v,t,h,d,l,p,0,0,w,S)}return t.width=w,t.height=S,t}})},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i,o){i=i||{},o=o||{};var r=this,s=i.maxMetaDataSize||262144,a=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!a&&e.readFile(e.blobSlice.call(t,0,s),function(t){if(t.target.error)return console.log(t.target.error),void n(o);var s,a,c,u,l=t.target.result,p=new DataView(l),h=2,d=p.byteLength-4,f=h;if(65496===p.getUint16(0)){for(;h<d&&(s=p.getUint16(h),s>=65504&&s<=65519||65534===s);){if(a=p.getUint16(h+2)+2,h+a>p.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(c=e.metaDataParsers.jpeg[s])for(u=0;u<c.length;u+=1)c[u].call(r,p,h,a,o,i);h+=a,f=h}!i.disableImageHead&&f>6&&(l.slice?o.imageHead=l.slice(0,f):o.imageHead=new Uint8Array(l).subarray(0,f))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(o)},"readAsArrayBuffer")||n(o)},e.hasMetaOption=function(e){return e&&e.meta};var n=e.transform;e.transform=function(t,i,o,r,s){e.hasMetaOption(i)?e.parseMetaData(r,function(s){n.call(e,t,i,o,r,s)},i,s):n.apply(e,arguments)}})},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97),n(99)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";"fetch"in window&&"Request"in window&&(e.fetchBlob=function(t,n,i){return e.hasMetaOption(i)?fetch(new Request(t,i)).then(function(e){return e.blob()}).then(n)["catch"](function(e){console.log(e),n()}):void n()})})},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97),n(99)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,o,r;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(i=[],o=0;o<n;o+=1)r=e.getUint8(t+o),i.push((r<16?"0":"")+r.toString(16));return"data:image/jpeg,%"+i.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,o,r,s){var a,c,u,l,p,h,d=e.exifTagTypes[o];if(!d)return void console.log("Invalid Exif data: Invalid tag type.");if(a=d.size*r,c=a>4?n+t.getUint32(i+8,s):i+8,c+a>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return d.getValue(t,c,s);for(u=[],l=0;l<r;l+=1)u[l]=d.getValue(t,c+l*d.size,s);if(d.ascii){for(p="",l=0;l<u.length&&(h=u[l],"\0"!==h);l+=1)p+=h;return p}return u},e.parseExifTag=function(t,n,i,o,r){var s=t.getUint16(i,o);r.exif[s]=e.getExifValue(t,n,i,t.getUint16(i+2,o),t.getUint32(i+4,o),o)},e.parseExifTags=function(e,t,n,i,o){var r,s,a;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(n,i),s=n+2+12*r,s+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(a=0;a<r;a+=1)this.parseExifTag(e,t,n+2+12*a,i,o);return e.getUint32(s,i)},e.parseExifData=function(t,n,i,o,r){if(!r.disableExif){var s,a,c,u=n+10;if(1165519206===t.getUint32(n+4)){if(u+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,s))return void console.log("Invalid Exif data: Missing TIFF marker.");a=t.getUint32(u+4,s),o.exif=new e.ExifMap,a=e.parseExifTags(t,u,u+a,s,o),a&&!r.disableExifThumbnail&&(c={exif:{}},a=e.parseExifTags(t,u,u+a,s,c),c.exif[513]&&(o.exif.Thumbnail=e.getExifThumbnail(t,u+c.exif[513],c.exif[514]))),o.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,u,u+o.exif[34665],s,o),o.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,u,u+o.exif[34853],s,o)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)})},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97),n(101)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(n[t]=this.getText(t)));return n}})},function(e,t,n){var i,o,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){"use strict";o=[n(97),n(98),n(99)],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(function(e){"use strict";var t=e.hasCanvasOption,n=e.hasMetaOption,i=e.transformCoordinates,o=e.getTransformedOptions;e.hasCanvasOption=function(n){return!!n.orientation||t.call(e,n)},e.hasMetaOption=function(t){return t&&t.orientation===!0||n.call(e,t)},e.transformCoordinates=function(t,n){i.call(e,t,n);var o=t.getContext("2d"),r=t.width,s=t.height,a=t.style.width,c=t.style.height,u=n.orientation;if(u&&!(u>8))switch(u>4&&(t.width=s,t.height=r,t.style.width=c,t.style.height=a),u){case 2:o.translate(r,0),o.scale(-1,1);break;case 3:o.translate(r,s),o.rotate(Math.PI);break;case 4:o.translate(0,s),o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI),o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI),o.translate(0,-s);break;case 7:o.rotate(.5*Math.PI),o.translate(r,-s),o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI),o.translate(-r,0)}},e.getTransformedOptions=function(t,n,i){var r,s,a=o.call(e,t,n),c=a.orientation;if(c===!0&&i&&i.exif&&(c=i.exif.get("Orientation")),!c||c>8||1===c)return a;r={};for(s in a)a.hasOwnProperty(s)&&(r[s]=a[s]);switch(r.orientation=c,c){case 2:r.left=a.right,r.right=a.left;break;case 3:r.left=a.right,r.top=a.bottom,r.right=a.left,r.bottom=a.top;break;case 4:r.top=a.bottom,r.bottom=a.top;break;case 5:r.left=a.top,r.top=a.left,r.right=a.bottom,r.bottom=a.right;break;case 6:r.left=a.top,r.top=a.right,r.right=a.bottom,r.bottom=a.left;break;case 7:r.left=a.bottom,r.top=a.right,r.right=a.top,r.bottom=a.left;break;case 8:r.left=a.bottom,r.top=a.left,r.right=a.top,r.bottom=a.right}return r.orientation>4&&(r.maxWidth=a.maxHeight,r.maxHeight=a.maxWidth,r.minWidth=a.minHeight,r.minHeight=a.minWidth,r.sourceWidth=a.sourceHeight,r.sourceHeight=a.sourceWidth),r}})},,,,,,,,,,,,,,,function(e,t){"use strict";function n(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1;return t?"Opera":e.indexOf("Firefox")>-1?"FF":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t?"IE":void 0}function i(){var e={Chrome:"-webkit-",FF:"-moz-",Opera:"-o-",Safari:"-webkit-"};return e[n()]||"-webkit-"}function o(e){return e in document.documentElement.style}function r(e){var t=e.originalEvent,n=t.touches,i=n?t.changedTouches[0]:null;return e=i?i:e}e.exports={getBrowserPrefix:i,isSupportStyle:o,getEvent:r}},,,,,function(e,t,n){"use strict";var i=n(124),o=n(134),r=n(152),s=n(156),a=n(157),c=n(159),u=n(163),l=n(169),p=n(171),h=n(179),d=n(182),f=n(186),g=n(194),m=n(208),v=n(214),y=n(218),b=n(219),x=n(221),w=n(225),S=n(229),k=n(233),I=n(261),P=n(264),_=n(265),E=n(270),$=n(272),O=n(273),T=n(275),C=n(279),A=n(282),D=n(283),j=n(284),q=n(288),M=n(289),R=n(293),L=n(296),F=n(299),J=n(302),B=n(306),U=n(308),N=n(309),W=n(311),z=n(313),G=n(319),H=n(322),X=n(324),Y=n(327);e.exports={EqxPipButton:Y,16:Y,EqxPhotoWall:k,13:k,EqxReward:w,11:w,EqxRandomContent:O,10:O,EqxRedPacket:S,9:S,EqxNewText:E,7:E,EqxHotNewText:$,1:$,EqxText:I,2:I,x:I,EqxDeepShare:P,298:P,EqxReport:_,299:_,EqxBackground:x,3:x,EqxImage:o,4:o,EqxTelephone:p,8:p,EqxComment:g,b:g,EqxShape:c,h:c,EqxCount:m,i:m,EqxLink:r,l:r,EqxChart:i,t:i,EqxVideo:u,v:u,EqxInteractiveVideo:l,o:l,EqxImageSlider:a,p:a,EqxMap:s,m:s,EqxRandom:f,n:f,EqxSound:h,s:h,EqxPv:d,d:d,EqxAdvertise:b,g:b,EqxDownTime:v,e:v,EqxUpTime:y,f:y,EqxUploadImages:L,upload:L,EqxScore:j,a:j,EqxCheckbox:q,c:q,EqxRadio:M,r:M,EqxDropDownList:T,z:T,EqxInput:C,5:C,501:C,EqxInputPhone:D,502:D,EqxInputEmail:A,503:A,504:C,EqxSubmitButton:R,6:R,601:R,12:F,EqxWxNickName:U,201:U,EqxWxProfile:N,401:N,EqxWxUploadImage:W,403:W,EqxWxSoundPlay:J,w01:J,EqxWxSoundRecord:B,w02:B,EqxTextVote:z,k:z,EqxImgVote:G,j:G,EqxDrawingBoard:H,u:H,EqxDate:X,14:X}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(125);var a=n(23).$loadChart,c=n(126),u=n(77).toGoodStr,l=n(77).isBadStr,p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),r.pieOptions={segmentShowStroke:!1,showTooltips:!1,scaleFontColor:"#000",legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx,t=this.segments;e.textAlign="start",e.textBaseline="middle";for(var n=0,i=0;i<t.length;i++)n+=parseFloat(t[i].value);e.fillText(n,e.width/2-20,e.height/2,100);for(var i=0;i<t.length;i++){var o=t[i].startAngle+(t[i].endAngle-t[i].startAngle)/2,r=(t[i].outerRadius-t[i].innerRadius)/1.5+t[i].innerRadius,s=t[i].x+Math.cos(o)*r,a=t[i].y+Math.sin(o)*r;e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.options.scaleFontColor,e.font="normal 12px Helvetica",e.fillText(t[i].value,s,a)}}},r.barOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.fillStyle=this.options.scaleFontColor,e.font="normal 12px Helvetica",e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach(function(t){t.bars.forEach(function(t){e.fillText(t.value,t.x,t.y)})})}},r.lineOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var e=this.chart.ctx;e.font=this.scale.font,e.fillStyle=this.options.scaleFontColor,e.textAlign="center",e.textBaseline="bottom",this.datasets.forEach(function(t){t.points.forEach(function(n,i){0===i?e.fillText(n.value,n.x+10,n.y-5):i===t.points.length-1?e.fillText(n.value,n.x-10,n.y-5):e.fillText(n.value,n.x,n.y-5)})})}},r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=$('<div class="create-chart" id="chart-'+e.id+'"></div>');this.perfectJson(e);var n=document.createElement("h5");n.setAttribute("class","chart-title"),t.append(n);var i=this.canvas=document.createElement("canvas");i.id=e.id,i.setAttribute("ctype",e.type),t.append(i);var o=document.createElement("div");o.id="legend-"+e.id,t.append(o);var r=this;return this.initedChart=new Promise(function(t){a().then(function(){r.initChart(o,i,n,e),t()})["catch"](function(e){return console.error(e)})}),t}},{key:"perfectJson",value:function(e){function t(e){n(e),i(e),o(e)}function n(e){e&&e.chartTitle&&(e.chartTitle=u(e.chartTitle))}function i(e){e&&e.segments&&e.segments.length&&e.segments.forEach(function(e){l(e.label)&&(e.label=u(e.label))})}function o(e){e&&e.lengends&&e.lengends.length&&e.lengends.forEach(function(t,n){l(t)&&(e.lengends[n]=u(t))})}var r=e.properties;n(r),t(r.pieChart),t(r.barChart),t(r.lineChart)}},{key:"initChart",value:function(e,t,n,i){var o,r=i.properties.chartType,s=t.getContext("2d"),a=parseFloat(i.css.width),c=parseFloat(i.css.height);$(t).css("width",a+"px"),$(t).css("height",c/2+"px"),t.width=parseInt(window.getComputedStyle(t).width),t.height=parseInt(window.getComputedStyle(t).height),"pie"===r?o=this.pieChart=this.createPieChart(s):"bar"===r?o=this.barChart=this.createBarChart(s):"line"!==r&&"curve"!==r||(o=this.lineChart=this.createLineChart(s,r)),i.properties.chartTitle&&(n.innerHTML=i.properties.chartTitle),"pie"===r&&i.properties.pieChart&&(o=this.pieChart=this.setPieChartView(i,s,o),$(t).data("pieChart",o)),"bar"===r&&i.properties.barChart&&(o=this.barChart=this.setBarChartView(i,s,o),$(t).data("barChart",o)),"line"!==r&&"curve"!==r||!i.properties.lineChart||(o=this.lineChart=this.setLineChartView(i,s,o),$(t).data("lineChart",o)),e.innerHTML=o.generateLegend();var u=i.properties.legPosition;"position-align"===u?$(e).addClass("position-align"):"position-right"===u?$(e).addClass("position-right"):"position-none"===u&&$(e).addClass("position-none")}},{key:"getChartValue",value:function(e){for(var t,n=[],i=[],o=[],r=[],s="",a="",c="",u="",l=0;l<e.segments.length;l++)t=e.segments[l],s=isNaN(t.value)||t.value<0?"":t.value,a=isNaN(t.value1)||t.value1<0?"":t.value1,c=isNaN(t.value2)||t.value2<0?"":t.value2,u=isNaN(t.value3)||t.value3<0?"":t.value3,(t.label||s||a||c||u)&&(r.push(t.label),a=s||a,n.push(a),i.push(c),o.push(u));return{data1:n,data2:i,data3:o,xLabels:r}}},{key:"setLineChartView",value:function(e,t,n){var i=e.properties.lineChart,o=this.getChartValue(i),r=[],s=[];n.datasets.forEach(function(e){r.push(e.strokeColor),s.push(e.fillColor)});var a={labels:o.xLabels,datasets:[{label:i.lengends[0],fillColor:s[0],strokeColor:r[0],pointColor:r[0],pointStrokeColor:"#fff",data:o.data1},{label:i.lengends[1],fillColor:s[1],strokeColor:r[1],pointColor:r[1],pointStrokeColor:"#fff",data:o.data2},{label:i.lengends[2],fillColor:s[2],strokeColor:r[2],pointColor:r[2],pointStrokeColor:"#fff",data:o.data3}]},c=n.options;return i.options&&i.options.scaleFontColor&&(c.scaleFontColor=i.options.scaleFontColor),n.destroy(),n=new Chart(t).Line(a,c),n.datasets.forEach(function(e){var t=!0;e.points.forEach(function(e){e.value&&(t=!1)}),t?e.points.length=0:e.points.forEach(function(e){e.value||(e.value=0)})}),n.update(),n}},{key:"setBarChartView",value:function(e,t,n){var i=n.options,o=e.properties.barChart,r=this.getChartValue(o),s={labels:r.xLabels,datasets:[{fillColor:o.fillColors[0],strokeColor:"rgba(0,0,0,0)",data:r.data1,label:o.lengends[0]},{fillColor:o.fillColors[1],strokeColor:"rgba(0,0,0,0)",data:r.data2,label:o.lengends[1]},{fillColor:o.fillColors[2],strokeColor:"rgba(0,0,0,0)",data:r.data3,label:o.lengends[2]}]};return o.options&&o.options.scaleFontColor&&(i.scaleFontColor=o.options.scaleFontColor),n.destroy(),new Chart(t).Bar(s,i)}},{key:"setPieChartView",value:function(e,t,n){var i=n.options,o="#000",r=e.properties.pieChart;r.options&&r.options.scaleFontColor&&(o=r.options.scaleFontColor),i.scaleFontColor=o;var s=this.getChartValue(r),a=s.data1.map(function(e,t){return{value:e,color:r.fillColors[t],label:s.xLabels[t]}});return n.destroy(),new Chart(t).Pie(a,i)}},{key:"getPixelRatio",value:function(e){var t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}},{key:"createPieChart",value:function(e){var t=[{value:300,color:"#57c7d4",label:"1月"},{value:150,color:"#3aa99e",label:"2月"},{value:100,color:"#f2a654",label:"3月"},{value:140,color:"#f96868",label:"4月"},{value:120,color:"#926dde",label:"5月"}],n=new Chart(e).Pie(t,this.pieOptions);return n}},{key:"createBarChart",value:function(e){var t={labels:["1月","2月","3月","4月","5月"],datasets:[{fillColor:"#62a8ea",strokeColor:"rgba(0,0,0,0)",data:[60,70,80,56,40],label:"图例1"},{fillColor:"#926dde",strokeColor:"rgba(0,0,0,0)",data:[80,56,40,93,112],label:"图例2"},{fillColor:"#f2a654",strokeColor:"rgba(0,0,0,0)",data:[160,86,140,123,23],label:"图例3"}]},n=new Chart(e).Bar(t,this.barOptions);return n}},{key:"createLineChart",value:function(e,t){var n=["rgba(146,109,222,1)","rgba(87,199,212,1)","rgba(242,166,84,1)"],i=n.map(function(e){return e.replace(/[^,]+(?=\))/,"0")});this.lineOptions.bezierCurve=!1,"curve"===t&&(i=i.map(function(e){return e.replace(/[^,]+(?=\))/,"0.2")}),this.lineOptions.bezierCurve=!0);var o={labels:["1月","2月","3月","4月","5月"],datasets:[{label:"图例1",fillColor:i[0],strokeColor:n[0],pointColor:n[0],pointStrokeColor:"#fff",data:[28,24,40,19,27]},{label:"图例2",fillColor:i[1],strokeColor:n[1],pointColor:n[1],pointStrokeColor:"#fff",data:[123,132,146,118,189]},{label:"图例3",fillColor:i[2],strokeColor:n[2],pointColor:n[2],pointStrokeColor:"#fff",data:[201,232,256,215,278]}]},r=new Chart(e).Line(o,this.lineOptions);return r}},{key:"updateSize",value:function(e,t){var n=parseFloat(t.width),i=parseFloat(t.height),o=this.canvas,r=o.getContext("2d"),s=this.compJson,a=s.properties.chartType,c=null;$(o).css("width",n+"px"),$(o).css("height",i/2+"px"),o.width=parseInt(window.getComputedStyle(o).width),o.height=parseInt(window.getComputedStyle(o).height),"pie"===a?c=this.pieChart=this.createPieChart(r):"bar"===a?c=this.barChart=this.createBarChart(r):"line"!==a&&"curve"!==a||(c=this.lineChart=this.createLineChart(r,a)),"pie"===a&&s.properties.pieChart&&(c=this.pieChart=this.setPieChartView(s,r,c),$(o).data("pieChart",c)),"bar"===a&&s.properties.barChart&&(c=this.barChart=this.setBarChartView(s,r,c),$(o).data("barChart",c)),"line"!==a&&"curve"!==a||!s.properties.lineChart||(c=this.lineChart=this.setLineChartView(s,r,c),$(o).data("lineChart",c))}}]),t}(c);e.exports=p},function(e,t){},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(127);var s=n(128),a=n(73),c=n(44).parse,u=n(95).qiniuZoom,l=n(129),p=n(130),h=n(132),d=n(133),f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),this.$ability={style:{self:!0,compFont:{self:!1,fontFamily:!1,fontSize:!1,fontColor:!1,baseStyle:!1,lineHeight:!1,letterSpacing:!1},compStyle:{self:!0},commonStyle:{self:!0,title:!0,display:!1,status:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0,zIndex:!0},advanceStyle:{self:!0,paddingTop:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0,lock:!0,variable:!1}},anim:!0,trigger:{self:!0,click:!0,shake:!0,taphold:!0,slide:!0,mediaCanplay:!0,mediaEnded:!0,mediaPlaying:!0,animStart:!0,animIteration:!0,animEnd:!0},sound:!0,link:!0,flexLine:"n,ne,e,se,s,sw,w,nw,r"},this.compJson=t,this.type=this.compJson.type,this.displayed=!1,"string"==typeof this.compJson.properties&&(this.compJson.properties={}),this.compJson.properties.initType=this.compJson.properties.initType||0,this.anim=this.compJson.properties.anim||[],this.eqxPage=n,this.eqxScene=n.eqxScene}return r(e,[{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this.compJson))}},{key:"isEditLock",value:function(){return this.getProp("editLock")}},{key:"updateDisplayStatus",value:function(){}},{key:"getImgSrc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.eqxScene.config.disableQiniuZoom,i=t.width,o=t.height;return n?u(e):u(e,i,o)}},{key:"getName",value:function(){var e=this.compJson.name;return e||_DEBUG_&&console.error("comp has no name",this),e}},{key:"getCss",value:function(e){var t=this.compJson.css;return e?t[e]:t}},{key:"toString",value:function(){var e=this.compJson,t=e.pageId,n=e.id,i=e.num;return"page-"+t+"-comp-"+n+"-num-"+i}},{key:"getProp",value:function(e){return this.compJson.properties[e]}},{key:"setProps",value:function(e){var t=this,n=this.compJson.properties;Object.keys(e).forEach(function(i){var o=e[i];"sound"===i?t.compJson.sound=o:null===o||void 0===o||""===o?delete n[i]:n[i]=o})}},{key:"setProp",value:function(e,t){this.setProps(i({},e,t))}},{key:"update$li",value:function(e){this.updateCss(e),this.$li&&this.$li.css(e)}},{key:"update$boxDiv",value:function(e){var t=this;this.updateCss(e),this.$boxDiv.css(e),Object.keys(e).forEach(function(n){"fontSize"===n&&t.$boxDiv.css({"font-size":e[n]+"px"}).find("#"+t.compJson.id).css({"font-size":e[n]+"px"})})}},{key:"updateCss",value:function(e){var t=this.compJson.css;Object.keys(e).forEach(function(n){t[n]=e[n]})}},{key:"updatePos",value:function(e,t){var n=this.compJson.css;isNaN(n.width)&&(n.width=parseInt(this.$li.css("width"))),
    isNaN(n.height)&&(n.height=parseInt(this.$li.css("height"))),isNaN(n.top)&&(n.top=parseInt(this.$li.css("top"))),isNaN(n.left)&&(n.left=parseInt(this.$li.css("left"))),this.update$li({left:e+n.left,top:t+n.top})}},{key:"updateTranslated3dZ",value:function(e){this.$li&&this.$li.css(e)}},{key:"updatePos2",value:function(e,t){this.update$li({left:e,top:t})}},{key:"updateSize",value:function(e,t){}},{key:"resetStyle",value:function(){var e={opacity:1,transform:"rotateZ(0deg)"};this.update$li(e);var t={fontSize:"24px",color:"#676767",backgroundColor:"",fontWeight:"normal",fontStyle:"normal",textAlign:"left",textDecoration:"none",letterSpacing:0,borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0,transform:"none",opacity:1};this.update$boxDiv(t)}},{key:"create$li",value:function(){var e=this.compJson,t=e.id,n=e.num,i=e.type,o=e.css,r=e.properties.lock,a=o.width,u=o.height,l=o.left,p=o.top,h=o.zIndex,d=o.bottom,f=o.transform,g=o.display,m=o.opacity;if(f&&f.length>1){var v=/rotateZ\((-?\d*\.?\d*)(deg|)\)/.exec(f),y=/translate3d\((.*?)\)/.exec(f);if(v&&v.length){f=v[0];var b=this.eqxPage.pageJson,x=b.properties,w=x.oneShot,S=void 0===w?{}:w,k=x.pip,I=void 0===k?{}:k;S.isOpen&&"view"===this.eqxScene.config.mode&&(y&&y.length?(this.compJson.properties.translate3dZ&&(y[0]=/translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),/.exec(y[0])[0]+this.compJson.properties.translate3dZ+"px)"),f=y[0]+""+f):(y=this.compJson.properties.translate3dZ?"translate3d(0px, 0px, -"+this.compJson.properties.translate3dZ+"px)":"translate3d(0px, 0px, 0px)",f=y+" "+f)),I.used&&(y&&y.length?(this.compJson.properties.translate3dZ&&(y[0]=/translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),/.exec(y[0])[0]+this.compJson.properties.translate3dZ+"px)"),f=y[0]+""+f):(y=this.compJson.properties.translate3dZ?"translate3d(0px, 0px, -"+this.compJson.properties.translate3dZ+"px)":"translate3d(0px, 0px, 0px)",f=y+" "+f))}}var P=$(c(s,{id:t,num:n,type:i}));r&&P.addClass("alock"),P.css({width:a,height:u,left:l,top:p,zIndex:h,bottom:d,transform:f,display:g,opacity:m}),this.$li=P,this.addClassToLi(this.$li);var _=Object.assign({},o,{width:"100%",height:"100%",transform:"none",fontFamily:"",opacity:"",marginTop:"0px",marginBottom:"0px"});this.$boxDiv=this.$li.find(".element-box").css(_);var E={};if(o.turnOver?E.transform=o.turnOver:o.transform&&o.transform.indexOf&&(o.transform.indexOf("rotateX(180deg)")>-1||o.transform.indexOf("rotateY(180deg)")>-1)&&(o.transform.indexOf("rotateX(180deg)")>-1&&(o.turnOver="rotateX(180deg)"),o.turnOver&&o.transform.indexOf("rotateY(180deg)")>-1?o.turnOver=o.turnOver+" rotateY(180deg)":o.transform.indexOf("rotateY(180deg)")>-1&&(o.turnOver="rotateY(180deg)"),o.turnOver&&(E.transform=o.turnOver)),this.$boxContentDiv=this.$boxDiv.find(".element-box-contents").css(E),this.compJson.sound&&this.compJson.sound.id&&"edit"===this.eqxScene.config.mode&&this.addSoundIcon(),this.$contentsDiv=this.$boxDiv.find(".element-box-contents"),this.$context=this.create$context(),this.$contentsDiv.append(this.$context),["501","502","503","504"].indexOf(this.compJson.type.toString())!==-1)this.eqxScene.inputComps=this.eqxScene.inputComps||[],this.eqxScene.inputComps.push(this);else if("7"===this.compJson.type.toString()){var O=this.compJson.properties["var"];this.eqxScene.newTextComps=this.eqxScene.newTextComps||[],O&&O.isUsed&&this.eqxScene.newTextComps.push(this)}else if("upload"===this.compJson.type)this.eqxScene.uploadComps=this.eqxScene.uploadComps||[],this.eqxScene.uploadComps.push(this);else if("4"===this.compJson.type.toString()){var T=this.compJson.properties["var"];this.eqxScene.imageComps=this.eqxScene.imageComps||[],T&&T.isUsed&&this.eqxScene.imageComps.push(this)}var C=this.compJson.properties.GSensor;if(C&&C.isUsed&&"edit"!==this.eqxScene.config.mode){var A="positive"===C.direction?C.distance:-C.distance;this.$li.addClass("layer"),this.$li.attr("data-depth",A)}return this.$li}},{key:"removeSoundIcon",value:function(){this.$soundIcon&&(this.$soundIcon.remove(),this.$soundIcon=null)}},{key:"addSoundIcon",value:function(){this.removeSoundIcon(),this.$soundIcon=$('<div class="comp-icon eqf-bell-f"></div>'),this.$boxDiv.after(this.$soundIcon)}},{key:"destroy",value:function(){this.eleHide(),this.$li.remove(),this.$li=null}},{key:"create$context",value:function(){return $()}},{key:"addClassToLi",value:function(e){}},{key:"addEventListeners",value:function(){this.bindAfterRenderEvent(this.$li,this.compJson),this.addAnimSoundEvent(),this.addInteractiveVideoEvent()}},{key:"eleHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$li&&("view"===this.eqxScene.config.mode||e)&&this.$li.css({display:"none"}),this.$li&&"edit"===this.eqxScene.config.mode&&(this.$hideIcon=$('<div class="comp-icon"><em style="font-size: 14px" class="eqf-hidden-f"></em></div>'),this.$li.append(this.$hideIcon)),this.soundAgent&&this.soundAgent.update(new l("hide")),this.anim&&this.anim.length&&this.anim.forEach(function(e){e.sound&&e.soundAgent&&e.soundAgent.update(new l("stop"))}),this.stopAnimation(),this.flux&&this.flux.playing&&this.flux.stop()}},{key:"stopAnimation",value:function(){a.stopAnimation(this)}},{key:"startAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.index,n=e.maxCount;if(e.reset)var i=this,o=function(){i.stopAnimation()};a.startAnimation(this,{animIndex:t,maxCount:n,callback:o})}},{key:"eleShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.eqxScene.config.disableCompAnim){var t=this.compJson.properties.anim;t[0]&&"typer"===t[0].type&&this.$context.css({opacity:1})}else this.startAnimation();this.$li&&("view"===this.eqxScene.config.mode||e)&&this.$li.css({display:"block"}),this.$li&&"edit"===this.eqxScene.config.mode&&this.$hideIcon&&(this.$hideIcon.remove(),delete this.$hideIcon),this.flux&&this.compJson.properties.autoPlay&&(this.flux.stop(),this.flux.start())}},{key:"addInteractiveVideoEvent",value:function(){"o"===this.compJson.type&&this.compJson.src&&(this.interactiveVideoAgent=new d(this,this.eqxScene.soundManager))}},{key:"addSoundEvent",value:function(){this.compJson.sound&&(this.soundAgent=new p(this,this.eqxScene.soundManager))}},{key:"addAnimSoundEvent",value:function(){var e=this,t=this.anim;t&&t.length&&t.forEach(function(t){t.sound&&(t.soundAgent=new h(e,t,e.eqxScene.soundManager))})}},{key:"autoAdjustSize",value:function(){return{}}},{key:"bindAfterRenderEvent",value:function(e,t){}}]),e}();e.exports=f},function(e,t){},function(e,t){e.exports='<li id="inside_#{id}" num="#{num}" ctype="#{type}"><div class="element-box" style="width: 100%; height: 100%"><div class="element-box-contents" style="width: 100%; height: 100%"></div></div></li>'},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,o),this.type=e,this.data=t};e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(24).resolveUrl,c=n(22),u=n(131),l=n(25).mobilecheck,p=n(25).isWeixin,h=n(83).getWxJSSDK,d=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.manager=n,r.soundJson=r.master.compJson.sound,r.type=1,r.init(),r.register(),p()&&(r.wxJssdk=h()),r}return r(t,e),s(t,[{key:"init",value:function(){this.audio=new window.Audio,this.audio.src=a(c.FILE,this.soundJson.src)}},{key:"update",value:function(e){switch(e.type){case"stop":case"hide":this.stopPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1;break;case"reset":this.audio.currentTime=0}}},{key:"addEventListeners",value:function(){var e=this,t=l()?"touchend":"click";this.master.$li.on(t,function(){return e.audio.paused?e.startPlay():e.stopPlay()}),$(this.audio).on("ended",function(){return e.manager.onEnd(e)})}},{key:"startPlay",value:function(){if(this.audio.paused){var e=this;p()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e.audio.play()}})}):this.audio.play(),this.manager.onPlay(this)}}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.manager.onEnd(this))}}]),t}(u);e.exports=d},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i){n(this,e),this.master=t,this.manager=i}return i(e,[{key:"register",value:function(){this.manager.add(this)}},{key:"deregister",value:function(){this.manager.remove(this)}},{key:"update",value:function(e){}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(131),c=n(24).resolveUrl,u=n(22),l=function(e){function t(e,n,r){i(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return s.manager=r,s.soundJson=n.sound,s.type=2,s.init(),s.addEventListeners(),s.register(),s}return r(t,e),s(t,[{key:"init",value:function(){this.audio=new Audio,this.audio.src=c(u.FILE,this.soundJson.path),this.audio.loop=!0}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.audio.currentTime=0,this.manager.onEnd(this))}},{key:"addEventListeners",value:function(){var e=this;$(e.audio).on("AnimSound.start",function(t,n){e.startPlay()}).on("AnimSound.end",function(t,n){e.stopPlay()})}},{key:"update",value:function(e){switch(e.type){case"stop":this.stopPlay();break;case"play":this.startPlay();break;case"down":this.audio.volume=.1;break;case"restore":this.audio.volume=1}}}]),t}(a);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(131),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.manager=n,r.compJson=r.master.compJson,r.type=5,r.addEventListeners(),r.register(),r}return r(t,e),s(t,[{key:"addEventListeners",value:function(){var e=this;this.master.$context.on("ended",function(){e.end()})}},{key:"play",value:function(){this.master.$context[0].play(),this.manager.onPlay(this)}},{key:"end",value:function(){this.master.$context[0].pause(),this.manager.onEnd(this)}}]),t}(a);e.exports=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function b(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:b(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(135),u=n(126),l=n(118).isSupportStyle,p=n(138),h=n(149),d=n(95).initEffectImgPath,f=n(22),g=n(95).loadImg,m=n(151).stackBlurImage,v=n(118).getEvent,y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0}}}),r}return r(t,e),s(t,[{key:"getImgSrc",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.eqxScene.config.mobileEdit&&(n.width&&(n.width*=2),n.height&&(n.height*=2)),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getImgSrc",this).call(this,e,n)}},{key:"updateSize",value:function(e,n){if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$width&&this.$height){var i=this.$width/this.$height;this.updateImageSize(i,e,n)}}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}},{key:"pinchEnd",value:function(){var e=this.compJson,t=e.properties,n=e.css,i=t.imgStyle,o=this.$context[0],r=h.parseTransformInFloat(o.style.transform),s=r.scale.x,a=r.scale.y,c=i.width,u=i.height,l=i.marginTop,p=i.marginLeft,d=c*s,f=u*a,g=Math.max(n.height/f,n.width/d,1);f*=g,d*=g;var m=p-(d-c)/2,v=l-(f-u)/2,y=this.validateImgStyle({width:d,height:f,marginTop:v,marginLeft:m},n);this.$context.css("transform","").css(y),t.imgStyle=y}},{key:"validateImgStyle",value:function(e,t){var n=e.width,i=e.height,o=e.marginTop,r=e.marginLeft;return o<0?o+i<t.height&&(o=t.height-i):o=0,r<0?r+n<t.width&&(r=t.width-n):r=0,{width:n,height:i,marginTop:o,marginLeft:r}}},{key:"moveEnd",value:function(){var e=this.compJson,t=e.properties,n=e.css,i=t.imgStyle,o=parseInt(this.$context.css("marginLeft")),r=parseInt(this.$context.css("marginTop")),s=this.validateImgStyle({width:i.width,height:i.height,marginLeft:o,marginTop:r},n);this.$context.css(s),t.imgStyle=s}},{key:"updateImageSize",value:function(e,t,n){e||(this.$width&&this.$height?e=this.$width/this.$height:console.error("no imageRatio!")),t||(t=this.compJson.css),n||(n=this.compJson.css),void 0===n.height&&(n.height=t.height),void 0===n.width&&(n.width=t.width),void 0===n.borderWidth&&(n.borderWidth=parseInt(t.borderWidth||this.compJson.css.borderWidth||0));var i=this.compJson,o=i.properties,r=(n.width-2*n.borderWidth)/(n.height-2*n.borderWidth),s=o.imgStyle;if(r>e){var a=n.width-2*n.borderWidth,c=a/e,u=-(c+2*n.borderWidth-n.height)/2,l=0;s={width:a,height:c,marginTop:u,marginLeft:l}}else{var p=n.height-2*n.borderWidth,h=e*p,d=-(h+2*n.borderWidth-n.width)/2,f=0;s={width:h,height:p,marginLeft:d,marginTop:f}}this.$context.css(s),this.canvas&&$(this.canvas).css(s),o.imgStyle=s}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.scratch,r=i.src,s=i.imgStyle,a=i.maskSrc,u=i.filter;u=void 0===u?{}:u;var p=u.type;if(r=d(r),s&&(r=this.getImgSrc(r,{width:s.width,height:s.height})),Number.isInteger(p)&&p>0)var h=$(c.filterImg({id:t,type:n,src:r,filterType:p}));else h=$(c.img({id:t,type:n,src:r}));return l("WebkitMaskBoxImage")&&a&&this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image":"url("+a+")"}),s&&h.css(s),o&&this.addScratch(),h}},{key:"eleShow",value:function(){var e=this,n=this.compJson.properties.src;n&&/.gif/.test(n)&&setTimeout(function(){var t=e.$context.prop("src");e.$context.show().each(function(){void this.offsetHeight}).prop("src",t)},1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this)}},{key:"updateImgSrc",value:function(){this.$context=this.create$context(),this.$contentsDiv.empty(),this.$contentsDiv.append(this.$context)}},{key:"updateImageSrc",value:function(e,t,n){e=this.getImgSrc(f.FILE+e,{width:t,height:n}),this.$context.attr("src",e)}},{key:"addScratch",value:function(){var e=this;this.$contentsDiv[0].style.position="relative",this.canvas=this.createCanvas(),this.ctx=this.canvas.getContext("2d"),this.$contentsDiv.prepend(this.canvas),this.drawCanvas().then(function(){"view"===e.eqxScene.config.mode&&e.addCanvasEvent()})}},{key:"createCanvas",value:function(){var e=document.createElement("canvas");return e.style.position="absolute",$(e).css(this.compJson.properties.imgStyle),e}},{key:"drawCanvas",value:function(){var e=this,t=this.compJson.properties,n=t.src,i=t.imgStyle;return n=this.getImgSrc(n,{width:i.width,height:i.height}),g(n,!0).then(function(t){e.ctx.globalCompositeOperation="source-over",e.canvas.width=t.width,e.canvas.height=t.height,e.ctx.drawImage(t,0,0),e.ctx.globalCompositeOperation="destination-out",m(e.canvas,30,!0)})}},{key:"addCanvasEvent",value:function(){function e(e){s++,t(),e.preventDefault(),e.stopPropagation();var c=v(e);o=c.pageX-$(a.canvas).offset().left,r=c.pageY-$(a.canvas).offset().top,a.ctx.moveTo(n,i),a.ctx.lineTo(o,r),a.ctx.stroke(),n=o,i=r}function t(){setTimeout(function(){s>=45&&!c&&(c=!0,$(a.canvas).fadeOut(500,function(){setTimeout(function(){a.deleScratch()},500)}))},200)}this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.lineWidth=40;var n,i,o,r,s=0,a=this,c=!1;$(this.canvas).on("mousedown touchstart",function(t){t.preventDefault(),t.stopPropagation();var o=v(t);n=o.pageX-$(a.canvas).offset().left,i=o.pageY-$(a.canvas).offset().top,$(a.canvas).on("mousemove touchmove",e),$(a.canvas).on("mouseup touchend mouseleave",function(){$(a.canvas).off("mousemove touchmove",e)})})}},{key:"deleScratch",value:function(){$(this.canvas).off(),$(this.canvas).remove(),delete this.canvas}}],[{key:"getImageStyles",value:function(){return p}}]),t}(u);e.exports=y},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.src,o=e.filterType,c=void 0===o?a[0].value:o,u="filter-"+t,l=a.find(function(e){return e.value===c})||c[0],p=l.path;return s(r,{id:t,type:n,filterId:u,src:i,path:p})}function o(e){var t=e.id,n=e.type,i=e.src;return'<img id="'+t+'" ctype="'+n+'" class="element comp_image editable-image" style="display:block;" draggable="false" src="'+i+'">'}n(136);var r=n(137),s=n(44).parse;e.exports={img:o,filterImg:i};var a=[{value:1,path:"1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"},{value:2,path:"2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"},{value:3,path:"1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"},{value:4,path:"1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"},{value:5,path:"1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"},{value:6,path:"0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"},{value:7,path:"0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"},{value:8,path:"0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"},{value:9,path:"0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"},{value:10,path:"0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"},{value:11,path:"4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]},function(e,t){},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_image editable-image"><svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{src}" filter="url(##{filterId})" draggable="false"></image><defs><filter id="#{filterId}"><feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix" values="#{path}"></feColorMatrix></filter></defs></g></svg></div>'},function(e,t,n){"use strict";var i=[{name:"圆形",path:n(139)},{name:"菱形",path:n(140)},{name:"心形",path:n(141)},{name:"矩形2",path:n(142)},{name:"矩形3",path:n(143)},{name:"矩形4",path:n(144)},{name:"星形1",path:n(145)},{name:"星形2",path:n(146)},{name:"星形3",path:n(147)},{name:"三角形",path:n(148)}];e.exports=i},function(e,t,n){e.exports=n.p+"images/circle-6daa4d.svg"},function(e,t,n){e.exports=n.p+"images/diamond-a61c24.svg"},function(e,t,n){e.exports=n.p+"images/heart-d692b9.svg"},function(e,t,n){e.exports=n.p+"images/rect2-007f3e.svg"},function(e,t,n){e.exports=n.p+"images/rect3-896f69.svg"},function(e,t,n){e.exports=n.p+"images/rect4-fb3aef.svg"},function(e,t,n){e.exports=n.p+"images/star1-42a9b6.svg"},function(e,t,n){e.exports=n.p+"images/star2-b75251.svg"},function(e,t,n){e.exports=n.p+"images/star3-343bf6.svg"},function(e,t,n){e.exports=n.p+"images/triangle-170329.svg"},function(e,t,n){"use strict";function i(e){return r(e,y)}function o(e){return r(e,parseFloat)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];e+="";var n={rotate:0,rotateY:0,rotateX:0,scale:{x:1,y:1},translate3d:{x:0,y:0,z:0}};return e=e.replace(d,function(e,i){n.rotate=t(i)}),e=e.replace(g,function(e,i){n.rotateY=t(i)}),e=e.replace(f,function(e,i){n.rotateX=t(i)}),e=e.replace(m,function(e,i,o){n.scale={x:t(i),y:t(o)}}),e.replace(v,function(e,i,o,r){n.translate3d={x:t(i),y:t(o),z:t(r)}}),n}function s(e){return void 0!==e.rotate?"rotateZ("+e.rotate+"deg)":""}function a(e){if(e){var t=e.x,n=void 0===t?1:t,i=e.y,o=void 0===i?1:i;return"scale("+n+", "+o+")"}return""}function c(e){if(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,r=e.z,s=void 0===r?0:r;return"translate3d("+n+"px, "+o+"px, "+s+"px)"}return""}function u(e){if(e){var t=e.match(/translate3d\((.*?)\)/),n=t&&t[1].split(","),i=t&&parseInt(n[2]);return i}return""}function l(e){var t=[],n=e.translate3d;return!n||0===n.x&&0===n.y&&0===n.z||t.push(c(e.translate3d)),null!==e.rotate&&void 0!==e.rotate&&t.push(s(e)),n=e.scale,!n||1===n.x&&1===n.y||t.push(a(e.scale)),p(t.join(" "))}function p(e){return e.trim().replace(/\s{2,}/," ")}function h(e,t){var n=i(e),o=Object.assign({},n,t);return l(o)}var d=/rotateZ\((-?\d*\.?\d*)(deg|)\)/,f=/rotateX\((-?\d*\.?\d*)(deg|)\)/,g=/rotateY\((-?\d*\.?\d*)(deg|)\)/,m=/scale\((-?\d+(?:\.\d+)?),\s?(\d+(?:\.\d+)?)\)/,v=/translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/,y=n(150).toInt;e.exports={scaleReg:m,translate3dReg:v,parseTransform:i,getRotateStr:s,getScaleStr:a,getTranslate3dStr:c,getTransformStr:l,trimTransformStr:p,updateTransformStr:h,parseTransformInFloat:o,getTranslateZStr:u}},function(e,t){"use strict";function n(e,t){return"number"!=typeof e&&(e=parseFloat(e)),parseFloat(e.toFixed(t))}function i(e){return n(e,0)}function o(e){return n(e,1)}function r(e){return n(e,2)}function s(e){return e.toFixed(2)}function a(e){return(!e||e<0)&&(e=0),e<1024?e+" KB":(e/=1024,e<1024?s(e)+" MB":(e/=1024,e<1024?s(e)+" GB":(e/=1024,s(e)+" TB")))}e.exports={toFixed:n,toFixed1:o,toFixed2:r,toInt:i,size:a}},function(e,t){"use strict";function n(e,t,n){var r=e.width,s=e.height;isNaN(t)||t<1||(n?i(e,0,0,r,s,t):o(e,0,0,r,s,t))}function i(e,t,n,i,o,c){if(!(isNaN(c)||c<1)){c|=0;var u,l=e.getContext("2d");try{try{u=l.getImageData(t,n,i,o)}catch(p){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),u=l.getImageData(t,n,i,o)}catch(p){throw new Error("unable to access local image data: "+p)}}}catch(p){throw new Error("unable to access image data: "+p)}var h,d,f,g,m,v,y,b,x,w,S,k,I,P,_,E,$,O,T,C,A,D,j,q,M=u.data,R=c+c+1,L=i-1,F=o-1,J=c+1,B=J*(J+1)/2,U=new r,N=U;for(f=1;f<R;f++)if(N=N.next=new r,f==J)var W=N;N.next=U;var z=null,G=null;y=v=0;var H=s[c],X=a[c];for(d=0;d<o;d++){for(E=$=O=T=b=x=w=S=0,k=J*(C=M[v]),I=J*(A=M[v+1]),P=J*(D=M[v+2]),_=J*(j=M[v+3]),b+=B*C,x+=B*A,w+=B*D,S+=B*j,N=U,f=0;f<J;f++)N.r=C,N.g=A,N.b=D,N.a=j,N=N.next;for(f=1;f<J;f++)g=v+((L<f?L:f)<<2),b+=(N.r=C=M[g])*(q=J-f),x+=(N.g=A=M[g+1])*q,w+=(N.b=D=M[g+2])*q,S+=(N.a=j=M[g+3])*q,E+=C,$+=A,O+=D,T+=j,N=N.next;for(z=U,G=W,h=0;h<i;h++)M[v+3]=j=S*H>>X,0!=j?(j=255/j,M[v]=(b*H>>X)*j,M[v+1]=(x*H>>X)*j,M[v+2]=(w*H>>X)*j):M[v]=M[v+1]=M[v+2]=0,b-=k,x-=I,w-=P,S-=_,k-=z.r,I-=z.g,P-=z.b,_-=z.a,g=y+((g=h+c+1)<L?g:L)<<2,E+=z.r=M[g],$+=z.g=M[g+1],O+=z.b=M[g+2],T+=z.a=M[g+3],b+=E,x+=$,w+=O,S+=T,z=z.next,k+=C=G.r,I+=A=G.g,P+=D=G.b,_+=j=G.a,E-=C,$-=A,O-=D,T-=j,G=G.next,v+=4;y+=i}for(h=0;h<i;h++){for($=O=T=E=x=w=S=b=0,v=h<<2,k=J*(C=M[v]),I=J*(A=M[v+1]),P=J*(D=M[v+2]),_=J*(j=M[v+3]),b+=B*C,x+=B*A,w+=B*D,S+=B*j,N=U,f=0;f<J;f++)N.r=C,N.g=A,N.b=D,N.a=j,N=N.next;for(m=i,f=1;f<=c;f++)v=m+h<<2,b+=(N.r=C=M[v])*(q=J-f),x+=(N.g=A=M[v+1])*q,w+=(N.b=D=M[v+2])*q,S+=(N.a=j=M[v+3])*q,E+=C,$+=A,O+=D,T+=j,N=N.next,f<F&&(m+=i);for(v=h,z=U,G=W,d=0;d<o;d++)g=v<<2,M[g+3]=j=S*H>>X,j>0?(j=255/j,M[g]=(b*H>>X)*j,M[g+1]=(x*H>>X)*j,M[g+2]=(w*H>>X)*j):M[g]=M[g+1]=M[g+2]=0,b-=k,x-=I,w-=P,S-=_,k-=z.r,I-=z.g,P-=z.b,_-=z.a,g=h+((g=d+J)<F?g:F)*i<<2,b+=E+=z.r=M[g],x+=$+=z.g=M[g+1],w+=O+=z.b=M[g+2],S+=T+=z.a=M[g+3],z=z.next,k+=C=G.r,I+=A=G.g,P+=D=G.b,_+=j=G.a,E-=C,$-=A,O-=D,T-=j,G=G.next,v+=i}l.putImageData(u,t,n)}}function o(e,t,n,i,o,c){if(!(isNaN(c)||c<1)){c|=0;var u,l=e.getContext("2d");try{try{u=l.getImageData(t,n,i,o)}catch(p){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),u=l.getImageData(t,n,i,o)}catch(p){throw alert("Cannot access local image"),new Error("unable to access local image data: "+p)}}}catch(p){throw alert("Cannot access image"),new Error("unable to access image data: "+p)}var h,d,f,g,m,v,y,b,x,w,S,k,I,P,_,E,$,O,T,C,A=u.data,D=c+c+1,j=i-1,q=o-1,M=c+1,R=M*(M+1)/2,L=new r,F=L;for(f=1;f<D;f++)if(F=F.next=new r,f==M)var J=F;F.next=L;var B=null,U=null;y=v=0;var N=s[c],W=a[c];for(d=0;d<o;d++){for(P=_=E=b=x=w=0,S=M*($=A[v]),k=M*(O=A[v+1]),I=M*(T=A[v+2]),b+=R*$,x+=R*O,w+=R*T,F=L,f=0;f<M;f++)F.r=$,F.g=O,F.b=T,F=F.next;for(f=1;f<M;f++)g=v+((j<f?j:f)<<2),b+=(F.r=$=A[g])*(C=M-f),x+=(F.g=O=A[g+1])*C,w+=(F.b=T=A[g+2])*C,P+=$,_+=O,E+=T,F=F.next;for(B=L,U=J,h=0;h<i;h++)A[v]=b*N>>W,A[v+1]=x*N>>W,A[v+2]=w*N>>W,b-=S,x-=k,w-=I,S-=B.r,k-=B.g,I-=B.b,g=y+((g=h+c+1)<j?g:j)<<2,P+=B.r=A[g],_+=B.g=A[g+1],E+=B.b=A[g+2],b+=P,x+=_,w+=E,B=B.next,S+=$=U.r,k+=O=U.g,I+=T=U.b,P-=$,_-=O,E-=T,U=U.next,v+=4;y+=i}for(h=0;h<i;h++){for(_=E=P=x=w=b=0,v=h<<2,S=M*($=A[v]),k=M*(O=A[v+1]),I=M*(T=A[v+2]),b+=R*$,x+=R*O,w+=R*T,F=L,f=0;f<M;f++)F.r=$,F.g=O,F.b=T,F=F.next;for(m=i,f=1;f<=c;f++)v=m+h<<2,b+=(F.r=$=A[v])*(C=M-f),x+=(F.g=O=A[v+1])*C,w+=(F.b=T=A[v+2])*C,P+=$,_+=O,E+=T,F=F.next,f<q&&(m+=i);for(v=h,B=L,U=J,d=0;d<o;d++)g=v<<2,A[g]=b*N>>W,A[g+1]=x*N>>W,A[g+2]=w*N>>W,b-=S,x-=k,w-=I,S-=B.r,k-=B.g,I-=B.b,g=h+((g=d+M)<q?g:q)*i<<2,b+=P+=B.r=A[g],x+=_+=B.g=A[g+1],w+=E+=B.b=A[g+2],B=B.next,S+=$=U.r,k+=O=U.g,I+=T=U.b,P-=$,_-=O,E-=T,U=U.next,v+=i}l.putImageData(u,t,n)}}function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],a=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.exports={stackBlurImage:n}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.title,o=void 0===i?"":i,r=e.imgSrc,s=void 0===r?"":r,a=e.width,u=void 0===a?0:a,h=e.height,d=void 0===h?0:h,f=e.padding;u=c(u),d=c(d);var g=o.replace(/ /g,"&nbsp;"),m=s?'<img style="width: 100%; height: 100%;" src="'+s+'">':g;return p(l,{id:t,type:n,width:u,height:d,content:m,padding:f})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(153);var c=n(154).addSuffixPx,u=n(126),l=n(155),p=n(44).parse,h=(n(24).openUrl,function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{
    style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),a(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.imgSrc,r=i.title,a=e.css,c=a.width,u=a.height;if(o){o=this.getImgSrc(o,{width:c,height:u});var l="0"}else l="0 8px";return this.$context=$(s({id:t,type:n,imgSrc:o,title:r,width:c,height:u,padding:l})),this.$context}},{key:"bindAfterRenderEvent",value:function(e,t){}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}]),t}(u));e.exports=h},function(e,t){},function(e,t){"use strict";function n(e){var t=document.getElementsByTagName("style")[0];if(!t){t=document.createElement("style");var n=document.head||document.getElementsByTagName("head")[0];t.type="text/css",n.appendChild(t)}var i=document.createTextNode(e);t.appendChild(i)}function i(e){return e=""+e,e.indexOf("px")===-1&&(e+="px"),e}e.exports={addGlobalStyle:n,addSuffixPx:i}},function(e,t){e.exports='<span id="#{id}" ctype="#{type}" class="element eqx-link editable-text" style="cursor: default; width: 100%; height: 100%; display: flex;\n   justify-content: center; align-items:center; padding: #{padding}" data-event="1120601">#{content}</span>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(23).$loadQQMap,c=n(126),u=n(44).parse,l=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{advanceStyle:{paddingTop:!1,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,i=t.type,o=t.content,r=t.properties,s=r.lat,c=void 0===s?39.916527:s,l=r.lng,p=void 0===l?116.397128:l,h=r.zoom,d=void 0===h?11:h,f='<div id="#{id}" ctype="#{type}" class="element"></div>',g=$(u(f,{id:n,type:i})).css({width:"100%",height:"100%"}).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend",function(e){e.stopPropagation()});return a().then(function(){e.initQQMap({$context:g,content:o,lat:c,lng:p,zoom:d})}),g}},{key:"initQQMap",value:function(e){var t=e.$context,n=e.content,i=e.lat,o=e.lng,r=e.zoom,s=new qq.maps.LatLng(i,o),a={disableDefaultUI:!0,center:s,zoom:parseFloat(r)},c=this.map=new qq.maps.Map(t[0],a);n&&(this.label=new qq.maps.Label({position:s,map:c,content:n}));var u=new qq.maps.Marker({map:c,position:s});t.data("marker",u)}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l[0].value;return l.find(function(t){var n=t.value;return n===e})}function a(e){var t=e.imgW,n=e.imgH,i=e.containerW,o=e.containerH,r={},s=t/n,a=i/o;return s>a?(r.width=i,r.height=i/s):(r.height=o,r.width=o*s),r.margin=(o-n)/2+"px "+(i-t)/2+"px",r}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(158);var u=n(126),l=[{value:1,desc:"轮播",name:"slide"},{value:2,desc:"下落",name:"bars"},{value:3,desc:"百页窗",name:"blinds"},{value:4,desc:"消隐",name:"blocks"},{value:5,desc:"渐变",name:"blocks2"},{value:9,desc:"梳理",name:"zip"},{value:11,desc:"翻转",name:"bars3d"},{value:13,desc:"立方体",name:"cube"},{value:14,desc:"棋盘",name:"tiles3d"},{value:16,desc:"飞出",name:"explode"}],p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.intervalObj={},$.extend(!0,r.$ability,{style:{self:!0,compStyle:{backgroundColor:!0}},anim:!0,trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),c(t,[{key:"updateSize",value:function(e,t){t.width&&t.height&&(this.flux.width=t.width,this.flux.height=t.height,this.$context.find(".fluxslider, .images, .image1, .image2").css({width:t.width,height:t.height}))}},{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,i=t.type,o=t.properties;o=void 0===o?{}:o;var r=o.children,s=void 0===r?[]:r,c=o.bgColor,u=t.css,l=u.width,p=u.height,h=$('<div id="'+n+'" class="imageSlider element" ctype="'+i+'"></div>').css("background-color",c);if(s.length){var d=s.map(function(t){var n=t.width,i=t.height,o=t.src,r=a({imgW:n,imgH:i,containerW:l,containerH:p});return o=e.getImgSrc(o,{width:l,height:p}),$('<img src="'+o+'">').css(r)});h.append(d),this.deleteInterval(n),this.initFlux(h)}return h}},{key:"initFlux",value:function(e){var t=this,n=this.compJson,i=n.id,o=n.properties,r=o.autoPlay,a=void 0!==r&&r,c=o.interval,u=o.picStyle,l=n.css,p=l.width,h=l.height,d=l.bgColor,f=flux.slider;this.flux=new f(e,{autoplay:a,delay:c,pagination:!1,transitions:[s(u).name],width:p,height:h,bgColor:d,onStartEnd:function(e){return t.addInterval(i,e)}})}},{key:"bindAfterRenderEvent",value:function(){return!1}},{key:"addInterval",value:function(e,t){this.intervalObj[e]=t}},{key:"deleteInterval",value:function(e){this.intervalObj[e]&&(clearInterval(this.intervalObj[e]),delete this.intervalObj[e])}},{key:"clearInterval",value:function(){for(var e in this.intervalObj)this.deleteInterval(e)}}]),t}(u);e.exports=p},function(e,t){"use strict";window.flux={version:"1.4.4"},function(e){flux.slider=function(t,n){flux.browser.init(),flux.browser.supportsTransitions||window.console&&window.console.error&&console.error("Flux Slider requires a browser that supports CSS3 transitions");var i=this;this.element=e(t),this.transitions=[];for(var o in flux.transitions)this.transitions.push(o);this.options=e.extend({autoplay:!0,transitions:this.transitions,delay:4e3,pagination:!0,controls:!1,captions:!1,width:null,height:null,onTransitionEnd:null,onStartEnd:null,bgColor:""},n),this.height=this.options.height?this.options.height:null,this.width=this.options.width?this.options.width:null;var r=[];e(this.options.transitions).each(function(e,t){var n=new flux.transitions[t](this),i=!0;n.options.requires3d&&!flux.browser.supports3d&&(i=!1),n.options.compatibilityCheck&&(i=n.options.compatibilityCheck()),i&&r.push(t)}),this.options.transitions=r,this.images=[],this.imageLoadedCount=0,this.currentImageIndex=0,this.nextImageIndex=1,this.playing=!1,this.container=e('<div class="fluxslider"></div>').appendTo(this.element),this.surface=e('<div class="surface" style="position: relative"></div>').appendTo(this.container),this.container.bind("click",function(t){e(t.target).hasClass("hasLink")&&(window.location=e(t.target).data("href"))}),this.imageContainer=e('<div class="images loading1"></div>').css({position:"relative",overflow:"hidden"}).appendTo(this.surface),this.width&&this.height&&this.imageContainer.css({width:this.width+"px",height:this.height+"px"}),this.image1=e('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),this.image2=e('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),e(this.image1).add(this.image2).css({position:"absolute",top:"0px",left:"0px"}),this.element.find("img, a img").each(function(t,n){var o=n.cloneNode(!1),r=e(n).parent();r.is("a")&&e(o).data("href",r.attr("href")),i.images.push(o),e(n).remove()});for(var s=0;s<this.images.length;s++){var a=new Image;a.onload=function(){i.imageLoadedCount++,i.width=i.width?i.width:this.width,i.height=i.height?i.height:this.height,i.imageLoadedCount>=i.images.length&&(i.finishedLoading(),i.setupImages())},a.src=this.images[s].src}this.element.bind("fluxTransitionEnd",function(e,t){i.options.onTransitionEnd&&(e.preventDefault(),i.options.onTransitionEnd(t))}),this.transitionEndLock=!1;var c={},u={},l=20;this.element.bind("mousedown touchstart",function(e){"touchstart"===e.type?c.left=e.originalEvent.touches[0].pageX:"mousedown"===e.type&&(c.left=e.pageX)}).bind("mouseup touchend",function(e){"touchend"===e.type?u.left=e.originalEvent.changedTouches[0].pageX:"mouseup"===e.type&&(u.left=e.pageX),u.left-c.left>l?i.prev(null,{direction:"right"}):c.left-u.left>l&&i.next(null,{direction:"left"}),i.options.autoplay&&(i.stop(),i.start())})},flux.slider.prototype={constructor:flux.slider,playing:!1,start:function(){var e=this;this.playing=!0,this.transitionEndLock=!1,this.interval=setInterval(function(){!e.transitionEndLock&&e.transition()},this.options.delay),"function"==typeof this.options.onStartEnd&&this.options.onStartEnd(this.interval)},stop:function(){this.playing=!1,clearInterval(this.interval),this.interval=null},isPlaying:function(){return this.playing},next:function(e,t){t=t||{},t.direction="left",this.showImage(this.currentImageIndex+1,e,t)},prev:function(e,t){t=t||{},t.direction="right",this.showImage(this.currentImageIndex-1,e,t)},showImage:function(e,t,n){this.setNextIndex(e),this.setupImages(),this.transition(t,n)},finishedLoading:function(){var t=this;if(this.container.css({width:this.width+"px",height:this.height+"px"}),this.imageContainer.removeClass("loading1"),this.options.pagination&&(this.pagination=e('<ul class="pagination"></ul>').css({margin:"0px",padding:"0px","text-align":"center"}),this.pagination.bind("click",function(n){n.preventDefault(),t.showImage(e(n.target).data("index"))}),e(this.images).each(function(n,i){var o=e('<li data-index="'+n+'">'+(n+1)+"</li>").css({display:"inline-block","margin-left":"0.5em",cursor:"pointer"}).appendTo(t.pagination);0==n&&o.css("margin-left",0).addClass("current")}),this.container.append(this.pagination)),e(this.imageContainer).css({width:this.width+"px",height:this.height+"px"}),e(this.image1).css({width:this.width+"px",height:this.height+"px"}),e(this.image2).css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+(this.options.pagination?this.pagination.height():0)+"px"}),this.options.controls){var n={padding:"4px 10px 10px","font-size":"60px","font-family":"arial, sans-serif","line-height":"1em","font-weight":"bold",color:"#FFF","text-decoration":"none",background:"rgba(0,0,0,0.5)",position:"absolute","z-index":2e3};this.nextButton=e('<a href="#">»</a>').css(n).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",function(e){e.preventDefault(),t.next()}),this.prevButton=e('<a href="#">«</a>').css(n).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",function(e){e.preventDefault(),t.prev()});var i=(this.height-this.nextButton.height())/2;this.nextButton.css({top:i+"px",right:"10px"}),this.prevButton.css({top:i+"px",left:"10px"})}this.options.captions&&(this.captionBar=e('<div class="caption"></div>').css({background:"rgba(0,0,0,0.6)",color:"#FFF","font-size":"16px","font-family":"helvetica, arial, sans-serif","text-decoration":"none","font-weight":"bold",padding:"1.5em 1em",opacity:0,position:"absolute","z-index":110,width:"100%",bottom:0}).css3({"transition-property":"opacity","transition-duration":"800ms","box-sizing":"border-box"}).prependTo(this.surface)),this.updateCaption()},setupImages:function(){var t=this.getImage(this.currentImageIndex),n={background:'url("'+t.src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:101,cursor:"auto"};e(t).data("href")?(n.cursor="pointer",this.image1.addClass("hasLink"),this.image1.data("href",e(t).data("href"))):(this.image1.removeClass("hasLink"),this.image1.data("href",null)),this.image1.css(n).children().remove(),this.image2.css({background:'url("'+this.getImage(this.nextImageIndex).src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:100,display:"none"}),this.options.pagination&&this.pagination&&(this.pagination.find("li.current").removeClass("current"),e(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))},transition:function(t,n){if(void 0==t||!flux.transitions[t]){var i=Math.floor(Math.random()*this.options.transitions.length);t=this.options.transitions[i]}var o=null;try{o=new flux.transitions[t](this,e.extend(this.options[t]?this.options[t]:{},n))}catch(r){var s=flux.transition;o=new s(this,{fallback:!0})}o.run(),this.currentImageIndex=this.nextImageIndex,this.setNextIndex(this.currentImageIndex+1),this.updateCaption()},updateCaption:function(){var t=e(this.getImage(this.currentImageIndex)).attr("title");this.options.captions&&this.captionBar&&(""!==t&&this.captionBar.html(t),this.captionBar.css("opacity",""===t?0:1))},getImage:function(e){return e%=this.images.length,this.images[e]},setNextIndex:function(e){void 0==e&&(e=this.currentImageIndex+1),this.nextImageIndex=e,this.nextImageIndex>this.images.length-1&&(this.nextImageIndex=0),this.nextImageIndex<0&&(this.nextImageIndex=this.images.length-1)},increment:function(){this.currentImageIndex++,this.currentImageIndex>this.images.length-1&&(this.currentImageIndex=0)}}}(window.jQuery||window.Zepto),function(e){flux.browser={init:function(){if(void 0===flux.browser.supportsTransitions){var t=["-webkit","-moz","-o","-ms"];if(window.Modernizr&&void 0!==window.Modernizr.csstransitions?flux.browser.supportsTransitions=window.Modernizr.csstransitions:flux.browser.supportsTransitions=this.supportsCSSProperty("Transition"),window.Modernizr&&void 0!==window.Modernizr.csstransforms3d)flux.browser.supports3d=window.Modernizr.csstransforms3d;else if(flux.browser.supports3d=this.supportsCSSProperty("Perspective"),flux.browser.supports3d&&"webkitPerspective"in e("body").get(0).style){var n=e('<div id="csstransform3d"></div>'),i=e('<style media="(transform-3d), ('+t.join("-transform-3d),(")+'-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');e("body").append(n),e("head").append(i),flux.browser.supports3d=9==n.get(0).offsetLeft,n.remove(),i.remove()}}},supportsCSSProperty:function(e){for(var t=document.createElement("div"),n=["Webkit","Moz","O","Ms"],i=!1,o=0;o<n.length;o++)n[o]+e in t.style&&(i=i||!0);return i},translate:function(e,t,n){return e=void 0!=e?e:0,t=void 0!=t?t:0,n=void 0!=n?n:0,"translate"+(flux.browser.supports3d?"3d(":"(")+e+"px,"+t+(flux.browser.supports3d?"px,"+n+"px)":"px)")},rotateX:function(e){return flux.browser.rotate("x",e)},rotateY:function(e){return flux.browser.rotate("y",e)},rotateZ:function(e){return flux.browser.rotate("z",e)},rotate:function(e,t){return e in{x:"",y:"",z:""}||(e="z"),t=void 0!=t?t:0,flux.browser.supports3d?"rotate3d("+("x"==e?"1":"0")+", "+("y"==e?"1":"0")+", "+("z"==e?"1":"0")+", "+t+"deg)":"z"==e?"rotate("+t+"deg)":""}},e(function(){flux.browser.init()})}(window.jQuery||window.Zepto),function(e){e.fn.css3=function(e){var t={},n=["webkit","moz","ms","o"];for(var i in e){for(var o=0;o<n.length;o++)t["-"+n[o]+"-"+i]=e[i];t[i]=e[i]}return this.css(t),this},e.fn.transitionEnd=function(t){for(var n=["webkitTransitionEnd","transitionend","oTransitionEnd"],i=0;i<n.length;i++)this.bind(n[i],function(i){for(var o=0;o<n.length;o++)e(this).unbind(n[o]);t&&t.call(this,i)});return this},flux.transition=function(t,n){if(this.options=e.extend({requires3d:!1,after:function(){}},n),this.slider=t,this.options.requires3d&&!flux.browser.supports3d||!flux.browser.supportsTransitions||this.options.fallback===!0){var i=this;this.options.after=void 0,this.options.setup=function(){i.fallbackSetup()},this.options.execute=function(){i.fallbackExecute()}}},flux.transition.prototype={constructor:flux.transition,hasFinished:!1,run:function(){var e=this;void 0!==this.options.setup&&this.options.setup.call(this),this.slider.image1.css({"background-image":"none"}),this.slider.imageContainer.css("overflow",this.options.requires3d?"visible":"hidden"),setTimeout(function(){void 0!==e.options.execute&&e.slider.image1.css("background-color",""),e.options.execute.call(e),e.slider.options.autoplay&&(e.slider.transitionEndLock=!0)},5)},finished:function(){this.hasFinished||(this.hasFinished=!0,this.options.after&&this.options.after.call(this),this.slider.imageContainer.css("overflow","hidden"),this.slider.setupImages(),this.slider.element.trigger("fluxTransitionEnd",{currentImage:this.slider.getImage(this.slider.currentImageIndex)}),this.slider.options.autoplay&&(this.slider.transitionEndLock=!1))},fallbackSetup:function(){},fallbackExecute:function(){this.finished()}},flux.transitions={},flux.transition_grid=function(t,n){var i=flux.transition;return new i(t,e.extend({columns:10,rows:10,forceSquare:!1,setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height(),i=Math.floor(t/this.options.columns),o=Math.floor(n/this.options.rows);this.options.forceSquare&&(o=i,this.options.rows=Math.floor(n/o));for(var r=t-this.options.columns*i,s=Math.ceil(r/this.options.columns),a=n-this.options.rows*o,c=Math.ceil(a/this.options.rows),u=0,l=0,p=document.createDocumentFragment(),h=0;h<this.options.columns;h++){var d=i;if(l=0,r>0){var f=r>=s?s:r;d+=f,r-=f}for(var g=0;g<this.options.rows;g++){var m=o,v=a;v>0&&(f=v>=c?c:v,m+=f,v-=f);var y=e('<div class="tile tile-'+h+"-"+g+'"></div>').css({width:d+"px",height:m+"px",position:"absolute",top:l+"px",left:u+"px",overflow:"hidden"}).append("<div></div>");this.options.renderTile.call(this,y,h,g,d,m,u,l),p.appendChild(y.get(0)),l+=m}u+=d}this.slider.image1.get(0).appendChild(p)},execute:function(){var e=this,t=this.slider.image1.height(),n=this.slider.image1.find("div.barcontainer");this.slider.image2.hide(),n.last().transitionEnd(function(t){e.slider.image2.show(),e.finished()}),n.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,t/2,t/2)})},renderTile:function(e,t,n,i,o,r,s){}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.bars=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({columns:10,rows:1,delayBetweenBars:40,renderTile:function(t,n,i,o,r,s,a){e(t).children().css({position:"absolute",top:-a+"px",left:-s+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"400ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":n*this.options.delayBetweenBars+"ms"})},execute:function(){var t=this,n=this.slider.image1.height(),i=this.slider.image1.find("div.tile");e(i[i.length-1]).transitionEnd(function(){t.finished()}),setTimeout(function(){i.css({opacity:"0.5"}).css3({transform:flux.browser.translate(0,n)})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.bars3d=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({requires3d:!0,columns:7,rows:1,delayBetweenBars:150,perspective:1e3,renderTile:function(t,n,i,o,r,s,a){var c=e('<div class="bar-'+n+'"></div>').css({width:o+"px",height:"100%",position:"absolute",top:"0px",left:"0px","z-index":200,overflow:"hidden"}).css3({"backface-visibility":"hidden"}),u=e("<div></div>").css({position:"absolute",top:-a+"px",left:-s+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).appendTo(c),l=e(c.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-r/2,r/2)});e(u.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).appendTo(l);var p=e('<div class="side bar-'+n+'"></div>').css({width:r+"px",height:r+"px",position:"absolute",top:"0px",left:"0px",background:"#222","z-index":190}).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(r/2,0,-r/2)+" "+flux.browser.rotateY(180),"backface-visibility":"hidden"}),h=e(p.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(r/2,0,o-r/2)});e(t).empty().css({overflow:"visible",width:o+"px",height:"100%",position:"absolute",top:"0px",left:s+"px","z-index":n>this.options.columns/2?1e3-n:1e3}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transition-delay":n*this.options.delayBetweenBars+"ms","transform-style":"preserve-3d"}).append(c).append(l).append(p).append(h)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var e=this,t=this.slider.image1.height(),n=this.slider.image1.find("div.tile");this.slider.image2.hide(),n.last().transitionEnd(function(t){e.slider.image1.css3({"transform-style":"flat"}),e.slider.image2.show(),e.finished()}),setTimeout(function(){n.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,t/2,t/2)})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blinds=function(t,n){var i=flux.transitions.bars;return new i(t,e.extend({execute:function(){var t=this,n=this.slider.image1.find("div.tile");e(n[n.length-1]).transitionEnd(function(){t.finished()}),setTimeout(function(){n.css({opacity:"0.5"}).css3({transform:"scalex(0.0001)"})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.zip=function(t,n){var i=flux.transitions.bars;return new i(t,e.extend({execute:function(){var t=this,n=this.slider.image1.height(),i=this.slider.image1.find("div.tile");e(i[i.length-1]).transitionEnd(function(){t.finished()}),setTimeout(function(){i.each(function(t,i){e(i).css({opacity:"0.3"}).css3({transform:flux.browser.translate(0,t%2?"-"+2*n:n)})})},20)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blocks=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({forceSquare:!0,delayBetweenBars:100,renderTile:function(t,n,i,o,r,s,a){var c=Math.floor(10*Math.random()*this.options.delayBetweenBars);e(t).children().css({position:"absolute",top:-a+"px",left:-s+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":c+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),c>this.maxDelay&&(this.maxDelay=c,this.maxDelayTile=t)},execute:function(){var t=this,n=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd(function(){t.finished()}),setTimeout(function(){n.each(function(t,n){e(n).css({opacity:"0"}).css3({transform:"scale(0.8)"})})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.blocks2=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({cols:12,forceSquare:!0,delayBetweenDiagnols:150,renderTile:function(t,n,i,o,r,s,a){e(t).children().css({position:"absolute",top:-a+"px",left:-s+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":(n+i)*this.options.delayBetweenDiagnols+"ms","backface-visibility":"hidden"})},execute:function(){var t=this,n=this.slider.image1.find("div.tile");n.last().transitionEnd(function(){t.finished()}),setTimeout(function(){n.each(function(t,n){e(n).css({opacity:"0"}).css3({transform:"scale(0.8)"})})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.cube=function(t,n){var i=flux.transition;return new i(t,e.extend({requires3d:!0,barWidth:100,direction:"left",perspective:1e3,setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height();this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}),this.cubeContainer=e('<div class="cube"></div>').css({width:t+"px",height:n+"px",position:"relative"}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transform-style":"preserve-3d"});var i={height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px"},o=e('<div class="face current"></div>').css(e.extend(i,{background:this.slider.image1.css("background")})).css3({"backface-visibility":"hidden"});this.cubeContainer.append(o);var r=e('<div class="face next"></div>').css(e.extend(i,{backgroundImage:this.slider.image2.css("background-image")})).css3({transform:this.options.transitionStrings.call(this,this.options.direction,"nextFace"),"backface-visibility":"hidden"});this.cubeContainer.append(r),this.slider.image1.append(this.cubeContainer)},execute:function(){var e=this;this.slider.image2.hide(),this.cubeContainer.transitionEnd(function(){e.slider.image2.show(),e.finished()}),setTimeout(function(){e.cubeContainer.css3({transform:e.options.transitionStrings.call(e,e.options.direction,"container")})},50)},transitionStrings:function(e,t){var n=this.slider.image1.width(),i=this.slider.image1.height(),o={up:{nextFace:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,i/2,i/2),container:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-i/2,i/2)},down:{nextFace:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-i/2,i/2),container:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,i/2,i/2)},left:{nextFace:flux.browser.rotateY(90)+" "+flux.browser.translate(n/2,0,n/2),container:flux.browser.rotateY(-90)+" "+flux.browser.translate(-n/2,0,n/2)},right:{nextFace:flux.browser.rotateY(-90)+" "+flux.browser.translate(-n/2,0,n/2),container:flux.browser.rotateY(90)+" "+flux.browser.translate(n/2,0,n/2)}};return!(!o[e]||!o[e][t])&&o[e][t]}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.tiles3d=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({requires3d:!0,forceSquare:!0,columns:5,perspective:600,delayBetweenBarsX:200,delayBetweenBarsY:150,renderTile:function(t,n,i,o,r,s,a){var c=e("<div></div>").css({width:o+"px",height:r+"px",position:"absolute",top:"0px",left:"0px",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":"-"+s+"px -"+a+"px","background-repeat":"no-repeat","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),u=e(c.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});e(t).empty().css({overflow:"visible","z-index":(n>this.options.columns/2?500-n:500)+(i>this.options.rows/2?500-i:500)}).css3({"transition-duration":"800ms","transition-timing-function":"ease-out","transition-property":"all","transition-delay":n*this.options.delayBetweenBarsX+i*this.options.delayBetweenBarsY+"ms","transform-style":"preserve-3d"}).append(c).append(u)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"});var e=this,t=this.slider.image1.find("div.tile");this.slider.image2.hide(),t.last().transitionEnd(function(t){e.slider.image2.show(),e.finished()}),setTimeout(function(){t.css3({transform:flux.browser.rotateY(180)})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.turn=function(t,n){var i=flux.transition;return new i(t,e.extend({requires3d:!0,perspective:1300,direction:"left",setup:function(){var t=e('<div class="tab"></div>').css({width:"50%",height:"100%",position:"absolute",top:"0px",left:"left"===this.options.direction?"50%":"0%","z-index":101}).css3({"transform-style":"preserve-3d","transition-duration":"1000ms","transition-timing-function":"ease-out","transition-property":"all","transform-origin":"left"==this.options.direction?"left center":"right center"});e("<div></div>").appendTo(t).css({background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"==this.options.direction?"-"+this.slider.image1.width()/2:0)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),e("<div></div>").appendTo(t).css({background:this.slider.image2.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});var n=e("<div></div>").css({position:"absolute",top:"0",left:"left"===this.options.direction?"0":"50%",width:"50%",height:"100%",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0","z-index":100}),i=e('<div class="overlay"></div>').css({position:"absolute",top:"0",left:"left"===this.options.direction?"50%":"0",width:"50%",height:"100%",background:"#000",opacity:1}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"opacity"}),o=e("<div></div>").css3({width:"100%",height:"100%"}).css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).append(t).append(n).append(i);this.slider.image1.append(o)},execute:function(){var e=this;this.slider.image1.find("div.tab").first().transitionEnd(function(){e.finished()}),setTimeout(function(){e.slider.image1.find("div.tab").css3({transform:flux.browser.rotateY("left"==e.options.direction?-179:179)}),e.slider.image1.find("div.overlay").css({opacity:0})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.slide=function(t,n){var i=flux.transition;return new i(t,e.extend({direction:"left",setup:function(){var t=this.slider.image1.width(),n=this.slider.image1.height(),i=e('<div class="current"></div>').css({height:n+"px",width:t+"px",position:"absolute",top:"0px",left:"0px",background:this.slider["left"===this.options.direction?"image1":"image2"].css("background")}).css3({"backface-visibility":"hidden"}),o=e('<div class="next"></div>').css({height:n+"px",width:t+"px",position:"absolute",top:"0px",left:t+"px",background:this.slider["left"===this.options.direction?"image2":"image1"].css("background")}).css3({"backface-visibility":"hidden"});this.slideContainer=e('<div class="slide"></div>').css({width:2*t+"px",height:n+"px",position:"relative",left:"left"===this.options.direction?"0px":-t+"px","z-index":101}).css3({"transition-duration":"600ms","transition-timing-function":"ease-in","transition-property":"all"}),this.slideContainer.append(i).append(o),this.slider.image1.append(this.slideContainer)},execute:function(){var e=this,t=this.slider.image1.width();"left"===this.options.direction&&(t=-t),this.slideContainer.transitionEnd(function(){e.finished()}),setTimeout(function(){e.slideContainer.css3({
        transform:flux.browser.translate(t)})},50)}},n))}}(window.jQuery||window.Zepto),function(e){flux.transitions.explode=function(t,n){var i=flux.transition_grid;return new i(t,e.extend({columns:10,forceSquare:!0,delayBetweenBars:30,perspective:800,requires3d:!0,renderTile:function(t,n,i,o,r,s,a){var c=Math.floor(10*Math.random()*this.options.delayBetweenBars);e(t).children().css({position:"absolute",top:-a+"px",left:-s+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"500ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":c+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),c>this.maxDelay&&(this.maxDelay=c,this.maxDelayTile=t)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var t=this,n=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd(function(){t.slider.image1.css3({"transform-style":"flat"}),t.finished()}),setTimeout(function(){n.each(function(t,n){e(n).css({opacity:"0"}).css3({transform:flux.browser.translate(0,0,700)+" rotate3d("+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", 90deg) "})})},50)}},n))}}(window.jQuery||window.Zepto)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return new Promise(function(t,i){n.e(9,function(){var o=n(162),r=o[e];/^<path.*>$/.test(r)?t(r):i(e+" does not match <path />")})})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(41).$getSvg,u=n(160),l=n(161),p=n(126),h="http://www.w3.org/2000/svg",d=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0}}}),r}return r(t,e),a(t,[{key:"create$context",value:function(){var e=this.compJson,t=this;this.$contentsDiv.css({position:"relative"});var n=e.id,i=e.properties,o=i.viewBox,r=void 0===o?"0 0 64 64":o,a=i.type,p=void 0===a?"":a,d=i.src,f=i.items,g=e.css.color,m=void 0===g?"#555":g;if(d){var v=document.createElementNS(h,"svg");return v.setAttribute("class","element svg-element"),c(d).then(function(i){var o=i.getElementsByTagName("svg"),r=o[0].viewBox.baseVal,s=parseFloat($(o).attr("width"))||r.width,a=parseFloat($(o).attr("height"))||r.height,c=$(o).find("[fill], [style*='fill']")||[];if(f)if(c.length==f.length)for(var u=0;u<f.length;u++)c.eq(u).css({fill:f[u].fill});else $.each(c,function(e,t){for(var n=0;n<f.length;n++)for(var i=f[n].elements||[],o=0;o<i.length;o++)e==i[o]&&(""!=f[n].fill?c.eq(e).css({fill:f[n].fill}):c.eq(e).css({fill:"none"}))});else{var l=[],p={};$.each(c,function(e,t){var n=$(t).attr("style");if(n){for(var i=n.split(";")||[],o=0,r=i.length;o<r;o++)if(i[o].includes("fill:")){l.push(i[o].split(":")[1]);break}}else l.push($(t).attr("fill"))});for(var h=0;h<l.length;h++)p[l[h]]||(p[l[h]]=1,"none"!=l[h]?f.push({fill:l[h],svgFill:l[h]}):f.push({fill:"",svgFill:"none"}));for(var d=0;d<f.length;d++){var g=[];$.each(c,function(e,t){var n,i=$(t).attr("style");if(i){for(var o=i.split(";"),r=0,s=o.length;r<s;r++)if(o[r].includes("fill:")){n=o[r].split(":")[1];break}}else n=$(t).attr("fill");n==f[d].svgFill&&g.push(e)}),f[d].elements=g}e.properties.items=f}var m="0 0 "+s+" "+a,y=t.$contentsDiv;y.empty();var b=t.$contentsDiv[0];v=o[0],b.appendChild(v),v.getAttribute("viewBox")||v.setAttribute("viewBox",m),v.setAttribute("preserveAspectRatio","none"),v.setAttribute("width","100%"),v.setAttribute("height","100%"),v.id=n,v.setAttribute("class","element svg-element"),t.$context=$(v)})["catch"](function(){var e;(e=console).error.apply(e,arguments)}),$(v)}var y=r.split(" "),b=y[2]||64,x=y[3]||64;if(p.includes("symbols")){var w=$(l.svg({id:n,viewBox:r}))[0];return s(p.replace(/^symbols-/,"")).then(function(e){w.innerHTML=l.g({id:n,color:m,path:e})})["catch"](function(){var e;(e=console).error.apply(e,arguments)}),$(w)}var S=p.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});if(u[S]){var k=$(u[S](b,x)).attr("fill",m);return $(l.svg({id:n,viewBox:r,content:k[0].outerHTML}))}console.error("shape#"+n+" does not match any!")}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}}]),t}(p);e.exports=d},function(e,t){"use strict";function n(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function i(e){for(var t=[];e.length>=2;)t.push(e.shift()+","+e.shift());return t.join(" ")}function o(e,t){var i=n("rect");return i.setAttribute("width",e),i.setAttribute("height",t),i}function r(e,t){var i=n("ellipse");return i.setAttribute("rx",e/2),i.setAttribute("ry",t/2),i.setAttribute("cx",e/2),i.setAttribute("cy",t/2),i}function s(e,t){var o=n("polygon");return o.setAttribute("points",i([e/2,0,e,t,0,t])),o}function a(e,t){var o=n("polygon");return o.setAttribute("points",i([0,0,e,0,e/2,t])),o}function c(e,t){var o=n("polygon");return o.setAttribute("points",i([0,t/2,e,0,e,t])),o}function u(e,t){var o=n("polygon");return o.setAttribute("points",i([e,t/2,0,t,0,0])),o}function l(e,t){var o=n("polygon");return o.setAttribute("points",i([.5*e,0,e,.5*t,.7*e,.5*t,.7*e,t,.3*e,t,.3*e,.5*t,0,.5*t,.5*e,0])),o}function p(e,t){var o=n("polygon");return o.setAttribute("points",i([.5*e,t,e,.5*t,.7*e,.5*t,.7*e,0,.3*e,0,.3*e,.5*t,0,.5*t,.5*e,t])),o}function h(e,t){var o=n("polygon");return o.setAttribute("points",i([e,.3*t,.5*e,.3*t,.5*e,0,0,.5*t,.5*e,t,.5*e,.7*t,e,.7*t,e,.3*t])),o}function d(e,t){var o=n("polygon");return o.setAttribute("points",i([0,.3*t,.5*e,.3*t,.5*e,0,e,.5*t,.5*e,t,.5*e,.7*t,0,.7*t])),o}function f(e,t,o){var r=n("polygon"),s=[];if(3===o)s=[e/2,0,e,t,0,t];else if(o>3)for(var a=e/2,c=t/2,u=0;o>u;u++){var l=a+a*Math.cos(2*Math.PI*u/o),p=c+c*Math.sin(2*Math.PI*u/o);l=Math.round(10*l)/10,p=Math.round(10*p)/10,s.push(l),s.push(p)}return r.setAttribute("points",i(s)),r}function g(e,t){return f(e,t,4)}function m(e,t){return f(e,t,8)}e.exports={rect:o,ellipse:r,circle:r,triangleUp:s,triangleDown:a,triangleLeft:c,triangleRight:u,arrowUp:l,arrowDown:p,arrowLeft:h,arrowRight:d,diamond:g,octagon:m};var v=n("rect");v.attr=v.setAttribute},function(e,t){"use strict";function n(e){var t=e.color,n=e.id,i=e.path;return'<g fill="'+t+'" id="path_'+n+'">'+i+"</g>"}function i(e){var t=e.id,n=e.viewBox,i=e.content,r=void 0===i?"":i;return'\n<svg id="'+t+'" class="element svg-element" xmlns="'+o+'" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="'+n+'">\n    '+r+"\n</svg>"}var o="http://www.w3.org/2000/svg";e.exports={g:n,svg:i}},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(164),u=n(126),l=n(166),p=n(168),h=n(44).parse,d=n(25).mobilecheck,f={POP:0,INLINE:1},g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bgm=r.eqxScene.bgm,r.$close=null,r.$video=null,$.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r,ne,se,sw,nw"}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties.cover,o=e.css,r=o.width,s=o.height;if(i){i=this.getImgSrc(i,{width:r,height:s});var a=$(h(l,{id:t,type:n,cover:i}))}else a=$(h(p,{id:t,type:n}));return a.css({height:s,width:r}),a}},{key:"addClassToLi",value:function(e){e.addClass("wsite-video")}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.hide()}},{key:"update",value:function(e){switch(e.type){case"hide":this.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.properties.style;return e.click(function(){switch(n._isPlayingVideo=!0,n.bgm&&n.bgm.hide&&n.bgm.hide(),n.eqxScene.soundManager.stopAll(),i){case f.INLINE:n.initInlineVideo();break;case f.POP:default:n.initPopVideo()}}),!0}},{key:"initInlineVideo",value:function(){var e=this.compJson,t=e.properties.src,n=e.css;t=t.replace(/('|")?allowfullscreen\1(=('|")?\3)?/,"");var i=this.$iframe=$(t).css({width:n.width,height:n.height,zIndex:3,position:"fixed",top:0});d()||i.css("position","absolute"),$(this.context).find("img").css("display","none"),this.$li.find(".inline-video").append(i)}},{key:"initPopVideo",value:function(){var e=this,t=this.compJson,n=t.id,i=t.properties.src,o=this.$li;o.hide();var r=o.parent().css("transform").match(/-?[\d.]+/g)||o.parents(".edit_wrapper").css("transform").match(/-?[\d.]+/g),s=0;r&&(s=-parseInt(r[5]));var a=this.$video=$(c.videoDiv(n));d()||a.css("position","absolute");var u=this.$close=$(c.close(n)),l=$(i).css({position:"absolute",top:"20%",width:"100%",minHeight:"45%",maxHeight:"100%"}).removeAttr("height");a.append(l),o.parent().append(a,u),a.css({top:s}),u.css({top:s+15}),u.bind("click",function(){e.hide()})}},{key:"hide",value:function(){if(this._isPlayingVideo){this._isPlayingVideo=!1,this.bgm&&this.bgm.show&&this.bgm.show(),this.eqxScene.soundManager.restoreAll();var e=this.compJson.properties.style,t=void 0===e?0:e;switch(t){case f.INLINE:this.$iframe&&(this.$iframe.remove(),this.$iframe=null);break;case f.POP:this.$close&&(this.$li.show(),this.$close.unbind("click"),this.$video.remove(),this.$close.remove(),this.$video=null,this.$close=null)}}}}]),t}(u);g.STYLE=f,e.exports=g},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type;return'<a class="element video_area" id="'+t+'" ctype="'+n+'" style="width:100%;height:100%;"></a>'}function o(e){return'<div class="video_mask page_effect lock" id="mask_'+e+'"></div>'}function r(e){return'<a class="close_mask eqf-no" id="close_'+e+'"></a>'}n(165),e.exports={compDiv:i,videoDiv:o,close:r}},function(e,t){},function(e,t,n){e.exports='<div class="inline-video" id="#{id}" ctype="#{type}"><img class="cover" alt="video-cover" src="#{cover}"> <img class="center play" src="'+n(167)+'" alt="video-play-button"></div>'},function(e,t,n){e.exports=n.p+"images/play-a830cb.svg"},function(e,t){e.exports='<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%"></a>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function g(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(126),u=n(170),l=n(83).getWxJSSDK,p=n(25).isWeixin,h=n(78).RAW_EVENT,d=n(78).EQX_EVENT,f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{commonStyle:{self:!1},advanceStyle:{self:!1}},anim:!1,trigger:{mediaCanplay:!0,mediaEnded:!0,mediaPlaying:!0},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height})}},{key:"create$context",value:function(){var e=this.compJson,t=e.css,n=t.width,i=t.height,o=e.properties.loop;this.$source=$('<source type="video/mp4">');var r=$('<video x5-video-player-fullscreen="false" playsinline="true" width="'+n+'" height="'+i+'" poster="'+u+'" audoplay></video>');return o&&r.attr("loop","loop"),r.append(this.$source),r}},{key:"eleShow",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),"1"===this.compJson.autoplay.toString()&&(this.$context.attr("autoplay","autoplay"),this.playVideo())}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.$context[0].pause(),this.interactiveVideoAgent&&this.interactiveVideoAgent.end()}},{key:"playVideo",value:function(){var e=this.interactiveVideoAgent;if(this.compJson.src&&this.$source.attr("src"))try{this.$li.show();var t=this.$context[0];t.currentTime=0,p()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){t.paused?e.play():e.end()}})}):t.paused?e.play():e.end()}catch(n){this.$li.hide()}}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;t.src&&this.$source.attr("src",t.src);var i=this.eqxPage.pageJson.properties.triggerGroup.some(function(e){return e.sourceId===t.id&&e.targetId===t.id&&e.eventType===h.click&&e.targetState==d.play});return"1"!==this.compJson.autoplay.toString()||i||this.$li.on("click",function(){n.playVideo()}),this.wxJssdk=l(),this.$boxDiv.css({borderWidth:0}),this.$li.hide(),!0}}]),t}(c);e.exports=f},function(e,t,n){e.exports=n.p+"images/play-32e9c9.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(172);var a=(n(173).$postDialRecord,n(174)),c=(n(178).isPhoneNumber,n(126)),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.css,o=i.width,r=i.height,s=e.properties,c=s.title,u=s.imgSrc;if(u){u=this.getImgSrc(u,{width:o,height:r});var l="0"}return this.$context=$(a.compDiv({id:t,title:c,type:n,imgSrc:u,padding:l})),this.$context}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}},{key:"bindAfterRenderEvent",value:function(){}}]),t}(c);e.exports=u},function(e,t){},function(e,t,n){"use strict";function i(e){return o({type:"POST",url:r.SERVER_1+"eqs/dial",data:e})}var o=n(21).ajax,r=n(22);e.exports={$postDialRecord:i}},function(e,t,n){"use strict";function i(e){return e.imgSrc?r(e):o(e)}function o(e){var t=e.id,n=e.title,i=e.type;return n=n?n.replace(/ /g,"&nbsp;"):"",c(s,{id:t,title:n,type:i})}function r(e){var t=e.id,n=e.imgSrc,i=e.type,o=e.padding;return c(a,{id:t,src:n,type:i,padding:o})}n(175);var s=n(176),a=n(177),c=n(44).parse;e.exports={compDiv:i}},function(e,t){},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="display: flex; justify-content: center; align-items: center" data-event="1120602" style="cursor: default; width: 100%">#{title}</a>'},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" style="cursor: default; width: 100%;height: 100%;padding: #{padding}"><img style="width: 100%; height: 100%" src="#{src}"></a>'},function(e,t){"use strict";function n(e){var t=/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/;return t.test(e)}function i(e){var t=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}e.exports={isPhoneNumber:n,isEmail:i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(180);var a=n(181),c=n(126),u=n(44).parse,l=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.imgSrc,r=i.title,s=e.css,c=s.height,l=s.width;if(o){o=this.getImgSrc(o,{width:l,height:c});var p="0",h='<img style="width: 100%; height: 100%;" src="'+o+'">'}return r&&(h=r.replace(/ /g,"&nbsp;"),p="0 8px",o=""),o||r||(h=""),$(u(a,{id:t,type:n,content:h,padding:p}))}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.imgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}]),t}(c);e.exports=l},function(e,t){},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-sound editable-text" data-event="1120604" style="cursor: default; width: 100%;height: 100%; padding: #{padding};\ndisplay: flex; justify-content: center; align-items: center">#{content}</a>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.layout,o=e.size,r=e.icon,s=e.color,a=$(d(h,{layout:i,size:o,id:t,type:n,icon:r}));return a.find("i, span").css("color",s),a}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function g(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(183);var u=n(84).$getPvCount,l=n(184).fixedNum,p=n(126),h=n(185),d=n(44).parse,f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),a(t,[{key:"eleShow",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),this.getPvCount()}},{key:"create$context",value:function(){var e=this.compJson;e.properties.color&&(e.css.color=e.properties.color,delete e.properties.color);var t=e.id,n=e.type,i=e.properties,o=i.layout,r=i.size,a=i.icon,c=e.css,u=c.lineHeight,l=c.width,p=c.height,h=c.color,d=s({id:t,type:n,layout:o,size:r,icon:a,css:{width:l,height:p,lineHeight:u,color:h}});return d}},{key:"getPvCount",value:function(){var e=this;if("view"==this.eqxScene.config.mode&&!this.eqxScene.config.disablePv)return u(this.compJson.sceneId).then(function(e){return l(e)||0}).then(function(t){e.$li.find(".counter-number").text(t)})}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}}]),t}(p);e.exports=f},function(e,t){},function(e,t){"use strict";function n(e){var t;return e<1e4?t=e:e>=1e4&&e<1e8?t=(e/1e4).toFixed(2)+"万":e>=1e8&&(t=(e/1e8).toFixed(2)+"亿"),t}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*e)%e+t}e.exports={fixedNum:n,random:i}},function(e,t){e.exports='<div class="element comp_counter editable-text #{layout} #{size}" id="#{id}" ctype="#{type}"><div class="counter-container"><i class="counter-elem counter-icon #{icon}"></i><span class="counter-elem counter-number">0</span></div></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.pics,o=i.map(function(e){return a(e.path)}).join("");return $('\n<div id="'+t+'" class="random-event element comp_image editable-image" ctype="'+n+'"\n     style="width: 100%; height: 100%;">\n     '+o+"\n</div>")}function a(e){return'<img src="'+(l.FILE+e)+'" style="width: 100%; height: 100%; display: none;">'}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(187);var u=n(126),l=n(22),p=n(188),h=n(191),d=n(184).random,f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.randomIndex=-1,r.busy=!1,$.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),c(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties.pics;return this.randomMax=i.length,s({id:t,type:n,pics:i})}},{key:"addTriggerEvent",value:function(){var e=this.compJson.trigger,t=this.eqxScene.eventManager;e&&(e.sends&&(this.triggerEventAgent=new p(this,e,t)),e.receives&&(this.receiveEventAgent=new h(this,e,t)))}},{key:"showRandomImg",value:function(){var e=this.$context.find("img");e.css("display","none");var t=this.randomIndex;if(1!=this.randomMax){do t=d(this.randomMax);while(t==this.randomIndex)}else t=0;$(e[t]).css("display","block"),this.randomIndex=t}}]),t}(u);e.exports=f},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(189),u=n(78).RAW_EVENT,l=n(78).INIT_EVENT,p=function(e){function t(e,n,r){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return r(t,e),s(t,[{key:"addEventListener",value:function(){var e=this,n=this.triggerJson.sends,i=this.master.compJson.id;this.master.$li.attr("data-event","1120603"),n&&"[object Array]"==toString.apply(n)&&n.forEach(function(n){n.type===u.click?e.master.$li.on("click",function(){e.publish(i,n)}):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListener",e).call(e)})}},{key:"preHandle",value:function(){var e=this.master.compJson.properties.initType;e==l.show?this.master.$li.show():e==l.hide&&this.master.$li.hide()}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(190).getHash,s=function(){function e(t,n,o){i(this,e),this.triggerJson=n,this.master=t,this.manager=o,this.addEventListener()}return o(e,[{key:"addEventListener",value:function(){}},{key:"preHandle",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"publish",value:function(e,t){var n=this;t.handles.forEach(function(i){var o=r(e,i.type);n.manager.publish(o,{sender:n.master,delay:1e3*t.delay})})}}]),e}();e.exports=s},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some(function(e){return e.type===r.shake})}function o(e,t){return"sender-"+e+"-type-"+t+"-"+s[t]}var r=n(78).RAW_EVENT,s=n(78).EQX_EVENT;e.exports={hasShakeEvent:i,getHash:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(192),u=n(78).EQX_EVENT,l=n(27).noop,p=function(e){function t(e,n,r){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return r(t,e),s(t,[{key:"getHandler",value:function(e){return e===u.random?function(e,t){var i=n(186);if(!(e instanceof i)){if(_DEBUG_)throw new Error("Expect EqxRandom, Invalid element type: "+e);return l}e.busy||(e.busy=!0,setTimeout(function(){e.showRandomImg(),e.busy=!1},t.delay))}:a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getHandler",this).call(this,e)}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(193),u=n(78).EQX_EVENT,l=n(78).INIT_EVENT,p=function(e){function t(e,n,r){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return r(t,e),s(t,[{key:"getPreHandler",value:function(e,n){if(n!=l["default"])return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPreHandler",this).call(this,e,n);switch(e){case u.show:return function(e){e.$li.hide()};case u.hide:return function(e){e.$li.show()};default:return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPreHandler",this).call(this,e,n);
    }}},{key:"getHandler",value:function(e){switch(e){case u.show:return function(e,t){setTimeout(function(){return e.$li.show()},t.delay)};case u.hide:return function(e,t){setTimeout(function(){return e.$li.hide()},t.delay)};case u.play:return function(e,t){setTimeout(function(){return e.playVideo()},t.delay)};default:return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getHandler",this).call(this,e)}}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(27).noop,s=n(190).getHash,a=function(){function e(t,n,o){i(this,e),this.master=t,this.triggerJson=n,this.manager=o,this.events=[],this.subscribe(),this.preHandle()}return o(e,[{key:"subscribe",value:function(){var e=this;this.triggerJson.receives.forEach(function(t){(t.ids||[]).forEach(function(n){var i=s(n,t.type);e.manager.subscribe(i,e);var o=e.events.findIndex(function(e){return e.hash===i});o>-1&&e.events.splice(o,1);var r={hash:i,preHandler:e.getPreHandler(t.type,e.master.compJson.properties.initType),handler:e.getHandler(t.type)};e.events.push(r)})})}},{key:"update",value:function(e){var t=e.type,n=e.data,i=this.events.find(function(e){return e.hash===t});i&&i.handler.call(this,this.master,n)}},{key:"preHandle",value:function(){var e=this;this.events.forEach(function(t){return t.preHandler.call(e,e.master)})}},{key:"getHandler",value:function(e){return r}},{key:"getPreHandler",value:function(e){return r}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function x(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},u=n(195),l=n(126),p=n(83).getWeChatUser,h=n(25).isWeixin,d=n(82).$getUserWxInfo,f=n(83).setWeChatUser,g=n(83).hrefToWxAuth,m=n(85).popUpModal,v=n(24).setUrlHistory,y=n(205),b=function(e){function t(e,n){o(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),a=s.compJson.properties.style;"barrage"===a&&(s.Barrage=new y,s.isBarragePlaying=!1,s.barrageComments=[]);var c=new Promise(function(){});if(s.commentManager=s.eqxScene.commentManager,s.commentManager){s.commentManager.register(s);var u=s.commentManager.getComments();c=u.length?Promise.resolve():s.commentManager.loadInitComments(50),c.then(function(){if("barrage"===a){var e;(e=s.barrageComments).push.apply(e,i(u)),s.eleShow()}})}return $.extend(!0,s.$ability,{style:{advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:{self:!1},sound:!1,link:!1}),s}return s(t,e),a(t,[{key:"setProps",value:function(e){e.style&&this.getProp("style")!=e.style&&this.updateStyle(e.style),"meslabel"in e&&this.getProp("mesLabel")!=e.meslabel&&this.updateMesLabel(e.meslabel),"morelabel"in e&&this.getProp("morelabel")!=e.morelabel&&this.updateMoreLabel(e.morelabel),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setProps",this).call(this,e)}},{key:"getStyles",value:function(){return n(207)}},{key:"updateStyle",value:function(e){this.$boards&&"barrage"===e?this.compJson.css.backgroundColor="transparent":this.$boards&&this.$boards.removeClass().addClass("boards-"+e)}},{key:"updateMesLabel",value:function(e){this.$context.find("a.replay").html(e||"")}},{key:"updateMoreLabel",value:function(e){this.$context.find("a.more").html(e||"")}},{key:"eleShow",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this);var e=this.compJson.properties,n=e.style,i=e.auto;if(this.$panel.parent().length||(this.$panel.hide(),this.$panel.insertBefore(this.$li.parent().parent())),"barrage"!==n){var o=this.commentManager?this.commentManager.getComments().slice(0,5).map(function(e){return u.record(e)}):[];o.length?(this.$boards.find(".empty-boards").length&&this.$boards.find(".empty-boards").remove(),this.$boards.find(".record").remove(),this.$boards.prepend(o)):this.$boards.append(u.emptyBoards(n))}else i&&this.playBarrageScroll()}},{key:"eleHide",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this);var e=this.compJson.properties.style;"barrage"!==e?(this.$boards.find(".record").remove(),this.$boards.find(".empty-boards").remove(),this.$panel.hide()):this.stopBarrageScroll()}},{key:"addClassToLi",value:function(e){e.addClass("wsite-boards"),e.attr("min-h",60).attr("min-w",230)}},{key:"updateComments",value:function(){var e=this.compJson.properties.style;"barrage"!==e&&this.$boards&&this.$panel&&this.eleShow()}},{key:"create$context",value:function(){var e=this.compJson.properties.style;return this.$ele="barrage"===e?this.initBarrageDiv():this.initCommentStyleDiv(),this.$ele}},{key:"playBarrageScroll",value:function(){var e=this;if(!this.isBarragePlaying&&this.barrageComments.length){this.isBarragePlaying=!0;var t=this.$boards.find("a.barrage-play");t.removeClass("off").addClass("on");var n=this.compJson,i=n.css,o=i.width,r=i.height,s=n.properties.mode,a=this.$boards.find(".barrage-comments").get(0),c=devicePixelRatio||1;a.width=o*c,a.height=r*c,setTimeout(function(){e.Barrage.render(a,e.barrageComments,"0"===s.toString())})}}},{key:"stopBarrageScroll",value:function(){if(this.isBarragePlaying){this.isBarragePlaying=!1;var e=this.$boards.find("a.barrage-play");e.removeClass("on").addClass("off"),this.Barrage&&this.Barrage.stop()}}},{key:"initBarrageDiv",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.style,r=i.auto,s=i.editable,a=$(u.compDiv({id:t,type:n,style:o})),c=this.$boards=a.find(".boards-"+o);return c.append(u.barrageComments()),c.append(u.barrageTools(r,s)),this.$panel=$(u.panel({style:"default"})),this.$panelList=this.$panel.find(".list"),this.$contentText=this.$panel.find(".content-text"),this.$contentTip=this.$panel.find(".content-tip"),this.$submit=this.$panel.find(".record-btn"),this.$more=this.$panel.find(".more-mes"),this.$close=this.$panel.find(".eqf-no"),this.maxLength=this.$contentText.attr("maxLength"),a}},{key:"initCommentStyleDiv",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.meslabel,r=i.morelabel,s=i.style,a=$(u.compDiv({id:t,type:n,style:s})),c=this.$boards=a.find(".boards-"+s);c.append(u.tool({meslabel:o||"",morelabel:r||""})),this.$trigger=c.find(".tool a");var l=this.$panel=$(u.panel({style:s}));if(this.$close=l.find(".eqf-no"),this.$contentText=l.find(".content-text"),this.$contentTip=l.find(".content-tip"),this.$submit=l.find(".record-btn"),this.$more=l.find(".more-mes"),this.$panelList=l.find(".list"),this.maxLength=this.$contentText.attr("maxLength"),this.eqxScene.config.disableCommentManager){var p=(new Date).getTime(),h=[1,2,3].map(function(e){return u.record({content:"赞一个！好多新功能哦~",name:"匿名用户",createTime:p+1e4*e,isEditor:!0})});c.append(h)}return a}},{key:"bindAfterRenderEvent",value:function(e,t){function n(){w.commentManager&&w.commentManager.loadMoreComments().then(function(e){w.$more.before(e.map(function(e){return u.record(e)}))})["catch"](function(){w.$more.html("没有更多"),w.$more.unbind("click")})}function i(){var e=w.compJson.properties.style,t=w.commentManager.getComments().map(function(e){return u.record(e)});w.$panelList.find(".record").remove(),w.$panelList.prepend(t),w.$panel.show(),"barrage"===e&&w.stopBarrageScroll(),n()}var o=this,r=t.sceneId,s=t.pageId,a=t.properties,c=a.style,l=void 0===c?"default":c,y=a.editable,b=(a.auto,p()),x=d,w=this;this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove",function(e){e.stopPropagation()}),this.$contentText.on("input",function(e){var t=e.target.value,n=t.length+t.split("\n").length-1;o.$contentTip.html(n+"/"+o.maxLength)});var S=!1;if(this.$submit.on("click",function(){if(!S){S=!0,o.$submit.addClass("submit-disabled");var e=$.trim(o.$contentText.val())||o.$contentText.attr("placeholder"),t=e.length+e.split("\n").length-1;t>o.maxLength&&(e=e.slice(0,o.maxLength));var n={sceneId:r,content:e,url:b.headimgurl||"",name:b.nickname||"匿名用户"};o.commentManager.postComment(n).then(function(e){var t=u.record(e);m(""+("barrage"===l?"发送弹幕成功，谢谢参与！":"留言成功，谢谢参与！")),o.$contentText.val(""),o.$panelList.parent().scrollTop(0),o.$panelList.prepend(t),o.$contentTip.html("0/"+o.maxLength),"barrage"===l&&o.barrageComments.unshift(e)})["catch"](function(){m("file:"===window.location.protocol?"请发布后再提交！":"提交失败，请重新提交")})["finally"](function(){var e=10,t=function n(){e?(o.$submit.text("提交留言("+e--+"秒)"),setTimeout(function(){n()},1e3)):(o.$submit.text("提交留言"),o.$submit.removeClass("submit-disabled"),S=!1)};t()})}}),this.$close.on("click",function(){o.$panel.hide(),o.eleShow()}),this.$more.on("click",function(){n()}),"barrage"===l){var k=this.$boards.find("a.barrage-submit"),I=this.$boards.find("a.barrage-play");k.click(function(){y&&(h()&&!b.nickname?x().then(function(e){e.obj?(f(e.obj),i()):(v(s),g())})["catch"](function(){i()}):i())}),I.click(function(){o.isBarragePlaying?o.stopBarrageScroll():o.playBarrageScroll()})}else this.$trigger.on("click",function(){h()&&!b.nickname?x().then(function(e){e.obj?(f(e.obj),i()):(v(s),g())})["catch"](function(){i()}):i()});return!0}}]),t}(l);e.exports=b},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.style,o=void 0===i?"default":i;return g(f,{id:t,type:n,style:o})}function o(){return'<canvas class="barrage-comments"></canvas>'}function r(e,t){return'<div class="barrage-tools">\n                '+(t?'<a class="barrage-submit eqf-pen-f"></a>':"")+'\n                <a class="barrage-play '+(e?"on":"off")+'">弹<i class="eqf-slash-l"></i></a>\n            </div>'}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=n(199)("./"+e+"_boards.png");return'<div class="empty-boards"><img style="margin-top:-20px;" src="'+t+'" /></div>'}function a(e){var t=e.meslabel,n=e.morelabel;return'<div class="tool"><a class="replay">'+t+'</a><a class="more">'+n+"</a></div>"}function c(e){return'<div class="headimg" style="background-image:url('+e+')"></div>'}function u(){return'<div class="headimg headimg-bg"><em class="eqf-eqxiulogo"></em></div>'}function l(e){var t=e.url,n=e.name,i=e.content,o=e.createTime,r=t?c(t):u();if((new Date).getTime()-o<6e4)var s="刚刚";else s=h(new Date(o),"MM月dd日 hh:mm");return'<div class="record">\n                '+r+'\n                <div class="name ellipsis">'+n+'</div>\n                <div class="mes">'+i+'</div>\n                <div class="time">'+s+"</div>\n            </div>"}function p(e){var t=e.style,n=void 0===t?"default":t;return g(d,{style:n})}n(196);var h=n(43).dateFormat,d=n(197),f=n(198),g=n(44).parse;n(22);e.exports={compDiv:i,emptyBoards:s,tool:a,headImgUser:c,headImgEqxView:u,record:l,panel:p,barrageTools:r,barrageComments:o}},function(e,t){},function(e,t){e.exports='<div class="boards-panel boards-#{style}"><div class="boards-top"><div class="head">留言板<em class="eqf-no"></em></div><div class="boards-form"><textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea><span class="content-tip">0/140</span> <a class="record-btn" data-event="11207">提交留言</a></div><div class="spline-con"><span>更多留言</span> <span class="spline"></span></div></div><div class="boards-con ios-boards-con"><div class="list"><div class="more-mes">查看更多</div></div></div></div>'},function(e,t){e.exports='<div class="element-box-contents eqx-comp-comment" style="width: 100%; height: 100%"><div id="#{id}" class="element boards-#{style}" ctype="#{type}"></div></div>'},function(e,t,n){function i(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./black_boards.png":200,"./blue_boards.png":201,"./default_boards.png":202,"./pink_boards.png":203,"./yellow_boards.png":204};i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=199},function(e,t,n){e.exports=n.p+"images/black_boards-ba4922.png"},function(e,t,n){e.exports=n.p+"images/blue_boards-f58067.png"},function(e,t,n){e.exports=n.p+"images/default_boards-f58067.png"},function(e,t,n){e.exports=n.p+"images/pink_boards-a2ae42.png"},function(e,t,n){e.exports=n.p+"images/yellow_boards-f58067.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){this.realCav=e,this.realCtx=this.realCav.getContext("2d"),this.cavWidth=this.cav.width=this.realCav.width,this.cavHeight=this.cav.height=this.realCav.height,this.limitTextWidth=this.cavWidth-x-2*k-I-w,this.ctx.font=w+"px Arial"}function r(e){var t=this;this.barrageArr=[],e.forEach(function(e){t.barrageArr.push({logo:e.url||n(206),text:e.content})})}function s(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e],n=this.ctx.measureText(t.text).width,i=new Image;i.src=t.logo,t.image=i,t.rectWidth=x+I+n+2*k,t.rectHeight=x+2*k,a.call(this,t)}}function a(e){var t=x+2*k+S,n=Math.floor(this.cav.height/t);e.left=this.cavWidth,e.top=d(0,n<=0?0:n-1)*(e.rectHeight+S),e.speed=d(50,100)/100*b}function c(e){for(var t=0;t<this.barrageArr.length;t++){var n=this.barrageArr[t-1],i=this.barrageArr[t],o=new Image;o.src=i.logo,e||(i.left=0,i.speed=b,i.image=o,i.textRows=f(this.barrageArr[t].text,this.limitTextWidth,this.ctx),i.oneLineTextHeight=1.2*w,i.oneLineTextWidth=this.ctx.measureText(i.textRows[0]).width,i.mutilLineTextHeight=i.oneLineTextHeight*i.textRows.length,i.rectWidth=x+I+i.oneLineTextWidth+2*k,i.mutilLineTextHeight>x?i.rectHeight=i.mutilLineTextHeight+2*k-.2*w:i.rectHeight=x+2*k),i.top=n?n.top+n.rectHeight+S:this.cavHeight}}function u(){h.call(this),this.isH?l.call(this):p.call(this),this.realCtx.drawImage(this.cav,0,0,this.cavWidth,this.cavHeight),this.animationId=requestAnimationFrame(u.bind(this))}function l(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e];this.barrageArr[e].left+t.rectWidth<=0&&a.call(this,t);var n=this.barrageArr[e].left-=this.barrageArr[e].speed,i=n,o=n+k,r=o+x+I,s=this.barrageArr[e].top,c=s,u=s+k,l=u+3*b;m(i,c,t.rectWidth,t.rectHeight,this.ctx),v(t.image,o,u,x,this.ctx),g(this.barrageArr[e].text,r,l,this.ctx)}}function p(){for(var e=0;e<this.barrageArr.length;e++){var t=this.barrageArr[e],n=this.barrageArr[this.barrageArr.length-1];n.top+n.rectHeight<=0&&c.call(this,!0);var i=t.left,o=i+k,r=o+x+I,s=t.top-=t.speed,a=s,u=s+k,l=t.textRows.length>1?u:u+3*b;m(i,a,t.rectWidth,t.rectHeight,this.ctx),v(t.image,o,u,x,this.ctx);for(var p=0;p<t.textRows.length;p++)g(t.textRows[p],r,l+t.oneLineTextHeight*p,this.ctx)}}function h(){this.realCtx&&(this.ctx.clearRect(0,0,this.cavWidth,this.cavHeight),this.realCtx.clearRect(0,0,this.cavWidth,this.cavHeight))}function d(e,t){var n=t-e+1;return Math.floor(Math.random()*n+e)}function f(e,t,n){for(var i=e.split(""),o="",r=[],s=0;s<i.length;s++)n.measureText(o).width>=t&&(r.push(o),o=""),o+=i[s];return r.push(o),r}function g(e,t,n,i){i.fillStyle="#fff",i.textBaseline="top",i.fillText(e,t,n)}function m(e,t,n,i,o){var r=3*b;n<2*r&&(r=n/2),i<2*r&&(r=i/2),o.fillStyle="rgba(0,0,0,.3)",o.beginPath(),o.moveTo(e+r,t),o.arcTo(e+n,t,e+n,t+i,r),o.arcTo(e+n,t+i,e,t+i,r),o.arcTo(e,t+i,e,t,r),o.arcTo(e,t,e+n,t,r),o.fill()}function v(e,t,n,i,o){o.beginPath(),o.arc(t+i/2,n+i/2,i/2,0,2*Math.PI,!0),o.closePath(),o.save(),o.clip(),o.drawImage(e,t,n,i,i),o.restore()}var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),b=devicePixelRatio||1,x=20*b,w=12*b,S=5*b,k=5*b,I=5*b,P=function(){function e(){i(this,e),this.cav=document.createElement("canvas"),this.ctx=this.cav.getContext("2d"),this.realCav=null,this.realCtx=null,this.cavWidth=0,this.cavHeight=0,this.barrageArr=[],this.isH=!0,this.animationId=null,this.limitTextWidth=0}return y(e,[{key:"render",value:function(e,t,n){cancelAnimationFrame(this.animationId),this.stop(),this.isH=n,o.call(this,e),r.call(this,t),this.isH?s.call(this):c.call(this,!1),this.animationId=requestAnimationFrame(u.bind(this))}},{key:"stop",value:function(){cancelAnimationFrame(this.animationId),h.call(this)}}]),e}();e.exports=P},function(e,t,n){e.exports=n.p+"images/head-38c163.png"},function(e,t){"use strict";e.exports=[{name:"默认",value:"default"},{name:"简约黑",value:"black"},{name:"少女粉",value:"pink"},{name:"邮票风",value:"blue"},{name:"便签风",value:"yellow"},{name:"弹幕风",value:"barrage"}]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(183);var c=n(209).$postCount,u=n(184).fixedNum,l=n(210),p=n(126),h=n(25).isWeixin,d=n(212),f=n(85).popUpModal,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"updateSize",value:function(e,n){n.height&&(n.lineHeight=n.height+"px",this.$context.css({lineHeight:n.lineHeight})),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n)}},{key:"bindAfterRenderEvent",value:function(e){var t=this,n=this.compJson,i=n.id,o=n.sceneId,r=n.pageId,s=this.$context;this.eqxScene.statManager.getCounterValues().then(function(e){var t=e[i]||0;s.find(".counter-number").attr("data-counter-number",t).html(u(t))});var a=this.$li.find(".comp_counter"),l=a.find(".counter-number"),p="rating-l";return a.click(function(){t.compJson.properties&&t.compJson.properties.clickFarmer?h()?c({sceneId:o,elementId:i,pageId:r}).then(function(){a.unbind("click").removeClass("not-voted");var e=Number.parseInt(l.attr("data-counter-number"))||0,t=e+1;l.attr("data-counter-number",t).text(u(t))})["catch"](function(t){120504===t.code?d.modal(e,p,!1,null,"请到微信中打开使用"):120505===t.code||120603===t.code?d.modal(e,p,!1,null,"请不要重复提交"):f("服务器异常!")}):d.modal(e,p,!1,null,"请到微信中打开使用"):c({sceneId:o,elementId:i,pageId:r}).then(function(){a.unbind("click").removeClass("not-voted");var e=Number.parseInt(l.attr("data-counter-number"))||0,t=e+1;l.attr("data-counter-number",t).text(u(t))})["catch"](function(t){120603===t.code?d.modal(e,p,!1,null,"请不要重复提交"):f("服务器异常!")})}),!0}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.layout,r=i.imgSrc,s=i.color,a=i.icon,c=i.size,u=e.css.textAlign,p=l.$compDiv({id:t,layout:o,size:c,type:n,icon:a,color:s,imgSrc:r});return"center"===u&&p.find("img").css("margin","0 auto"),p}},{key:"update$img",value:function(e){this.$context.find("img").attr("src",e)}},{key:"iconToImg",value:function(e){this.$context.find("i").remove().prepend(l.img(e))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"update$iconColor",value:function(e){this.$context.find(".counter-container").css({color:e})}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||this.$context.find("img").remove()}}]),t}(p);e.exports=g},function(e,t,n){"use strict";function i(e){var t=window.scene||{},n=t.code,i=s.SERVER_1+"eqs/scene/count";return n&&(i=i+"?code="+n),r({type:"POST",url:i,data:e})}function o(e){return r({type:"GET",url:s.SERVER_1+"eqs/scene/counter/values",data:e})}var r=n(21).ajax,s=n(22);e.exports={$postCount:i,$getCountValues:o}},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.layout,i=e.size,a=e.type,l=e.icon,p=e.color,h=e.imgSrc,d=h?r(h):o(l),f=h?1120609:s(l),g=$(u(c,{layout:n,size:i,id:t,type:a,i:d,dataEvent:f}));return g.find(".counter-container").css({color:p}),g}function o(e){return'<i class="counter-elem counter-icon '+e+'" ></i>'}function r(e){var t=a.FILE+e;return'<img class="counter-elem counter-icon"\n             style="width: 115px; height: 115px;" src="'+t+'">'}function s(e){var t={"eqf-heart-f":1120605,"eqf-zan-f":1120606,"eqf-flower2":1120607,"eqf-vote":1120608};return t[e]}var a=n(22),c=n(211),u=n(44).parse;e.exports={$compDiv:i}},function(e,t){e.exports='<div class="element comp_counter not-voted editable-text #{layout} #{size}" id="#{id}" ctype="#{type}" name="eq[f_#{id}]"><div class="counter-container" data-event="#{dataEvent}" style="white-space: nowrap">#{i} <span class="counter-elem counter-number" data-counter-number="0">0</span></div></div>'},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.src,o=(e.css,e.padding),r='<button style="display: block;width: 100%;height: 100%; padding: '+o+';" data-event="11201"\n                        id="'+t+'" ctype="'+n+'" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="'+i+'">\n                </button>';return $(r)}function o(e){var t=e.id,n=e.type,i=e.title,o=(e.css,i.replace(/ /g,"&nbsp;")),r='<button style="display: block;width: 100%;height: 100%;" \n                        id="'+t+'" ctype="'+n+'" data-event="11201"\n                        class="element comp_button editable-text" >'+o+"</button>";return $(r)}function r(e){var t=e.layout,n=e.hasLink,i=e.src,o=e.text,r=e.link,s=$('<div class="feedback-content"><span>'+o+"</span></div>"),a=$('<div class="feedback-btn"></div>');return i&&("rating-m"===t?s.prepend('<img class="up" src="'+i+'"/>'):"rating-s"===t?s.append('<img class="down" src="'+i+'"/>'):"rating-l"===t&&s.prepend('<img class="up ico" src="'+i+'"/>')),n?a.append('<a class="feedback-close left">关闭</a><a class="right" href="'+r+'">查看详情</a>').addClass("line"):a.append('<a class="feedback-close">关闭</a>'),$('<div class="feedback-box">').append($('<div class="feedback-form">').append(s,a))}function s(e,t,n,i,o,s){var a=r({layout:t,hasLink:n,src:i,text:o,link:s}).insertBefore($(e).parent().parent()),c=a.find(".feedback-form"),u=a.find(".feedback-close"),l=-Number.parseInt(c.height()+80)/2;c.css({marginTop:l+"px"}),u.on("click",function(){a.animate({opacity:0},{duration:300,complete:function(e){return a.remove()}})})}n(213),e.exports={$img:i,$btn:o,modal:s}},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(215),c=n(216).formatTime,u=n(217).getServiceTime,l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"renderTime",value:function(e,n,i,o){var r=this,s=(new Date).getTime(),a=this.compJson.properties,l=a.endTime,p=a.arriveTips,h=a.arriveTipsContent;u().then(function(e){return s=e.obj},function(){return s=(new Date).getTime()}).then(function(s){var a=setInterval(function(){s+=1e3,r.$li||clearInterval(a),s>=l?(p?e.html(h||t.defaultArriveTipsContent):e.html(c(s,s,n,i,o)),clearInterval(a)):e.html(c(l,s,n,i,o))},1e3)})}}]),t}(a);l.defaultArriveTipsContent="开始啦!",e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(126),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontFamily:!1,fontSize:!0,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=document.createElement("div");e.id=this.compJson.id,e.setAttribute("ctype",this.compJson.type),e.setAttribute("class","element comp_paragraph editable-text");var t=this.compJson.css.fontSize,n=this.compJson.css.fontFamily;return t&&(e.style.fontSize=t),n&&(e.style.fontFamily=n),this.renderTime($(e),this.compJson.properties.order,this.compJson.properties.split,this.compJson.properties.mode),$(e)}},{key:"renderTime",value:function(e,t){return null}}]),t}(a);e.exports=c},function(e,t){"use strict";function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cn",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1,1,1],a=e-t,c=Math.floor(a/864e5),u=a%864e5,l=Math.floor(u/36e5),p=u%36e5,h=Math.floor(p/6e4),d=p%6e4,f=Math.round(d/1e3),g=o(s,4),m=g[0],v=g[1],y=g[2],b=g[3];switch(m||v||y||b||(m=1,v=1,y=1,b=1),!m||v||y||b?m||!v||y||b?m&&!v&&y&&!b&&(h=h||1):l=l||1:c=c||1,l=m?l:l+24*c,h=v?h:h+60*l,f=y?f:f+60*h,r){case"cn":return n?(m?i(c)+"天":"")+(v?i(l)+"小时":"")+(y?i(h)+"分钟":"")+(b?i(f)+"秒":""):(b?i(f)+"秒":"")+(y?i(h)+"分钟":"")+(v?i(l)+"小时":"")+(m?i(c)+"天":"");case"en":return n?(m?i(c)+" days, ":"")+(v?i(l)+" hours, ":"")+(y?i(h)+" minutes, ":"")+(b?i(f)+" seconds":""):(b?i(f)+" seconds, ":"")+(y?i(h)+" minutes, ":"")+(v?i(l)+" hours, ":"")+(m?i(c)+" days":"");case"char":return n?(m?i(c)+"天 ":"")+(v?i(l):"")+(v&&y?":":"")+(y?i(h):"")+((v||y)&&b?":":"")+(b?i(f):""):(b?i(f):"")+(b&&y?":":"")+(y?i(h):"")+((b||y)&&v?":":"")+(v?i(l):"")+(m?" "+i(c)+"天":"")}}function i(e){return e=e.toString(),e.length<2?"0"+e:e}var o=function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(c){o=!0,r=c}finally{try{!i&&a["return"]&&a["return"]()}finally{if(o)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports={formatTime:n}},function(e,t,n){"use strict";function i(){var e=new Date,t="eqs/serviceTime/get?time"+e.getTime();return o({type:"GET",url:r.SERVER_1+t})}var o=n(21).ajax,r=n(22);e.exports={getServiceTime:i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(215),c=n(216).formatTime,u=n(217).getServiceTime,l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"renderTime",value:function(e,n,i,o){var r=this,s=(new Date).getTime(),a=this.compJson.properties,l=a.startTime,p=a.arriveTips,h=a.arriveTipsContent;u().then(function(e){return s=e.obj},function(){return s=(new Date).getTime()}).then(function(s){var a=setInterval(function(){s+=1e3,r.$li||clearInterval(a),s<=l?p?e.html(h||t.defaultArriveTipsContent):e.html(c(s,s,n,i,o)):e.html(c(s,l,n,i,o))},1e3)})}}]),t}(a);l.defaultArriveTipsContent="还没开始!",e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(126),u=n(220),l=n(22),p=n(24).url2https,h=p(l.YQC),d=function(e){
    function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.iframePromise=null,r.iframe=null,$.extend(!0,r.$ability,{style:{compStyle:{self:!0},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},anim:!1,trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"eleShow",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this);var n=this.eqxPage,i=this.eqxPage.eqxScene,o=i.meta.id,r=n.pageJson.num;this.iframePromise.then(function(){e.iframe&&e.iframe.contentWindow.postMessage({sceneId:o,pageNum:r,eventType:"pageShow"},h)})}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,o=e.css,r=o.width,s=o.height,a=this.eqxPage,c=this.eqxPage.eqxScene,l=c.meta.id,p=a.pageJson.num,d=$(u.compDiv({id:t,type:n})),f=$(u.iframeDiv({sceneId:l,pageNum:p,content:i,width:r,height:s})),g=this.iframe=f.get(0);return this.iframePromise=new Promise(function(e){g.onload=function(){i&&g.contentWindow.postMessage({sceneId:l,pageNum:p,eventType:"adCode",content:i},h),e()}}),d.append(f),this.$li.css("zIndex",999),d}}]),t}(c);e.exports=d},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type;return'<div style="width: 100%; height: 100%" class="element" id="'+t+'" ctype="'+n+'"></div>'}function o(e){var t=e.sceneId,n=e.pageNum,i=e.content,o=e.width,a=e.height,c="";return c="tpl"===i?"tpl":"true",'<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="'+s(r.YQC)+"yqc/gg/gg.html?sceneId="+t+"&pageNum="+n+"&content="+c+"&width="+o+"&height="+a+'"></iframe>'}var r=n(22),s=n(24).url2https;e.exports={compDiv:i,iframeDiv:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(72).BG_CROP_TYPE,s=n(25).mobilecheck,a=n(222),c=n(223),u=n(224),l=n(44).parse,p=n(95).qiniuZoom,h=n(95).loadImg,d=n(75).ANIMATION_TYPE;n(76);var f=function(){function e(t,n){i(this,e),this.compJson=t,this.eqxPage=n,this.eqxScene=n.eqxScene}return o(e,[{key:"updateBgHeight",value:function(e){this.$bgEle.css({height:e})}},{key:"updateBgOpacity",value:function(e){this.$bgEle&&this.$bgEle.css({opacity:e})}},{key:"updateBgFilter",value:function(e){this.$bgEle&&this.$bgEle.css({filter:e})}},{key:"create$bg",value:function(e,t,n){var i=this;this.$container=e;var o=this.compJson,d=o.id,f=o.css,g=f.opacity,m=f.filter,v=o.properties,y=v.bgColor,b=v.croptype,x=v.imgSrc,w=v.pageLength,S="100%";if(y||x||(y="rgba(0,0,0,0)"),y){w&&(S=(w<10?486*w:w)-486+(s()?$(document).height():486)+"px");var k=$(l(c,{id:d,bgColor:y,height:S}));this.$bgEle=k,this.$context=k.find(".eqx-bg-img"),this.animate(),this.updateBgOpacity(g),this.$container.prepend(k),!s()&&this.updateBgHeight(this.eqxPage.getPageHeight())}if(x){var I=x;if(b===r["全屏背景模式"]?(S=(w<10?486*w:w)-486+(s()?$(document).height():486)+"px",I=p(I,320,S)):(S=s()?"100%":"486px",I=p(I,320,486)),/\.gif/.test(x))var P=h(I).then(function(e){var o,a={};if(t=s()?document.documentElement.clientWidth||document.body.clientWidth:t||i.eqxPage.getPageWidth(),n=s()?document.documentElement.clientHeight||document.body.clientHeight:n||i.eqxPage.getPageHeight(),b===r["全屏背景模式"]){var c=parseInt(S);e.width/e.height>=t/c?(a.width=e.width*(c/e.height),a.height=c,a.marginLeft=-(a.width-t)/2):(a.width=t,a.height=e.height*(t/e.width),a.marginTop=-(a.height-c)/2)}else e.width/e.height>=t/n?(a.width=e.width*(n/e.height),a.height=n,a.marginLeft=-(a.width-t)/2):(a.width=t,a.height=e.height*(t/e.width),a.marginTop=-(a.height-n)/2);return o=$(l(u,{id:d,src:I,height:S})),o.css(a),o});else P=Promise.resolve($(l(a,{id:d,src:I,height:S})));P.then(function(e){i.$bgEle&&i.$bgEle.remove(),i.$bgEle=e,i.animate(),i.updateBgOpacity(g),m&&i.updateBgFilter(m),i.$container.prepend(i.$bgEle),!/\.gif/.test(x)&&!s()&&i.updateBgHeight(i.eqxPage.getPageHeight())})}}},{key:"eleShow",value:function(){var e=this.compJson.properties.imgSrc;if(e&&/.gif/.test(e)&&this.$bgEle){var t=this.$bgEle.find("img")[0];if(t){var n=t.src;setTimeout(function(){t.src=n},200)}}}},{key:"animate",value:function(){var e=this.compJson.effect;e=void 0===e?{}:e;var t=e.type;if(this.$bgEle&&(t||0==t)&&t!=-1){var n=this.$bgEle.find(".eqx-bg");n.css({animation:"none"}),setTimeout(function(){if("scaleUp"===t)n.css({animation:"scaleUp 7s ease 1s","animation-fill-mode":"both"});else if("scaleDown"===t)n.css({animation:"scaleDown 7s ease 1s","animation-fill-mode":"both"});else{var e=d[t];n.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),n.css({"animation-name":e[0],"animation-duration":"1s","animation-timing-function":"liner","animation-delay":"1s","animation-iteration-count":1,"animation-direction":"both","animation-fill-mode":"both","animation-play-state":"initial"})}},0)}}},{key:"delete$bg",value:function(){this.$bgEle&&this.$bgEle.remove()}},{key:"update$bg",value:function(){}}]),e}();e.exports=f},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg eqx-bg-img" style="width: 100%; height: #{height};\n         background-image: url(\'#{src}\');\n         background-size: cover; background-position: 50% 50%;\n         background-origin: content-box"></div></div>'},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden;position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg" style="width: 100%; height: #{height}; background-color: #{bgColor}"></div></div>'},function(e,t){e.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><img id="wrapper-background#{id}" src="#{src}" style="z-index: -1; width: 100%; position: absolute"></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(126),c=n(226),u=n(44).parse,l=n(227),p=n(25).isWeixin,h=(n(82).$getUserWxInfo,n(83).hrefToWxAuth,n(83).setWeChatUser,n(228).$unifiedOrder),d=n(20).wxPay,f=n(83).getWeChatUser,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.title,r=void 0===o?"打赏":o,s=i.amount,a=void 0===s?"2":s;return $(u(c,{id:t,type:n,title:r,amount:a}))}},{key:"updateCompTitle",value:function(){var e=this.compJson.properties;this.$context.html(e.title+e.amount+"元")}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.click(function(){var t=Math.round(100*parseFloat(e.compJson.properties.amount));if(!p())return void l.modal("该组件仅能在微信中使用。",e.$li);var n=f();return h(t,n.openid,e.compJson.sceneId).then(function(e){return e.obj&&d(e.obj)})["catch"](function(t){t.msg&&l.modal(t.msg,e.$li)})})}}]),t}(a);e.exports=g},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element comp-reward" style="cursor: pointer;width: 100%;height: 100%;display: block">#{title}#{amount}元</a>'},function(e,t){"use strict";function n(e,t){var n=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'+e+'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),i=n.find(".feedback-form");i.css("margin-top",-Number.parseInt(i.height()+80)/2),n.insertBefore(t.parent().parent()),n.find(".feedback-close").on("click",function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})})}e.exports={modal:n}},function(e,t,n){"use strict";function i(e,t,n){return s({type:"POST",url:r.SERVER_1+"eqs/wx/unifiedorder",data:{money:e,openid:t,sceneId:n}})}function o(e){return s({type:"POST",url:r.SERVER_1+"eqs/wx/get-jsapiconfig",data:{prepayId:e}})}var r=n(22),s=n(21).ajax;e.exports={$unifiedOrder:i,$getJsApiConfig:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(126),c=n(230),u=n(44).parse,l=n(25).isWeixin,p=n(231),h=n(232).$robRedPacket,d=(n(82).$getUserWxInfo,n(83).hrefToWxAuth,n(83).getWeChatUser),f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties.title;return this.$context=$(u(c,{id:t,type:n,title:i})),this.$context}},{key:"bindAfterRenderEvent",value:function(){var e=this;this.$li.click(function(){if(!l())return void p.modal("该组件仅能在微信中使用。",e.$li);var t=d();h(e.eqxScene.meta.id,e.compJson.id,t.openid).then(function(t){200===t.code&&p.modal("恭喜您成功抢到一个红包，请去服务通知下领取红包！",e.$li)})["catch"](function(t){t.msg&&p.modal(t.msg,e.$li)})})}}]),t}(a);e.exports=f},function(e,t){e.exports='<a id="#{id}" ctype="#{type}" class="element eqx-red-packet" style="cursor: default;width: 100%;height: 100%">#{title}</a>'},function(e,t){"use strict";function n(e,t){var n=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'+e+'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),i=n.find(".feedback-form");i.css("margin-top",-Number.parseInt(i.height()+80)/2),n.insertBefore(t.parent().parent()),n.find(".feedback-close").on("click",function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})})}e.exports={modal:n}},function(e,t,n){"use strict";function i(e,t,n){return r({type:"GET",url:o.SERVER_1+"eqs/wx/robRedPacket",data:{sceneId:e,componentId:t,openid:n}})}var o=n(22),r=n(21).ajax;e.exports={$robRedPacket:i}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n="",i=h.getWeChatUser();if(i.headimgurl)o=p(t,8*e,i.headimgurl).then(function(e){return e.list.forEach(function(e,t){t<24&&(d[t]=e)}),d});else var o=Promise.resolve(d);return o.then(function(){for(var t=0;t<8*e;t++){var i='<img src="'+d[t]+'">',o='<img src="'+d[t]+'" style="margin-right:0;">';n+=(t+1)%8==0?o:i}return n})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(234);var c=n(126),u=n(235),l=n(44).parse,p=n(236).$getPhotoWallPhotos,h=n(83),d=[n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260)],f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!1,baseStyle:!1,lineHeight:!1,letterSpacing:!1}},trigger:{self:!0},sound:!1,link:!1}),r}return r(t,e),a(t,[{key:"create$context",value:function(){var e=this,t=this.compJson,n=t.id,i=t.type;return this.$context=$(l(u,{id:n,type:i})),s(parseInt(t.properties.line),t.sceneId).then(function(n){var i=$(n);e.$context.append(i),e.$context.find("img").css({borderWidth:t.properties.ownerCss.borderWidth,borderStyle:t.properties.ownerCss.borderStyle,borderColor:t.properties.ownerCss.borderColor,boxShadow:t.properties.ownerCss.boxShadow,boxShadowDirection:t.properties.ownerCss.boxShadowDirection,boxShadowSize:t.properties.ownerCss.boxShadowSize})}),this.$context}},{key:"changePhotoWallLine",value:function(){this.$context.remove(),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"changeBorderStyle",value:function(e){this.$context.find("img").css({borderStyle:e})}},{key:"changeBorderColor",value:function(e){this.$context.find("img").css({borderColor:e})}},{key:"changeBorderWidth",value:function(e){this.$context.find("img").css({borderWidth:e})}},{key:"changeBoxshadowColor",value:function(e){this.$context.find("img").css({boxShadow:e})}}]),t}(c);e.exports=f},function(e,t){},function(e,t){e.exports='<div class="photowall" id="#{id}" ctype="#{type}"></div>'},function(e,t,n){"use strict";function i(e,t,n){return o({type:"GET",url:r.SERVER_1+"eqs/s/wx/photo/list",data:$.param({sceneId:e,photoNum:t,photoPath:n})})}var o=n(21).ajax,r=n(22);e.exports={$getPhotoWallPhotos:i}},function(e,t,n){e.exports=n.p+"images/photoWall-1-2cbac2.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-2-746422.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-3-3d665c.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-4-3c7ce3.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-5-26a180.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-6-91bb95.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-7-98a3a6.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-8-a97166.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-9-0b3d68.png"},function(e,t,n){e.exports=n.p+"images/photoWall-10-68faf7.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-11-487873.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-12-382a38.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-13-3bc7ad.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-14-686474.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-15-38d83b.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-16-27e1e0.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-17-7762e5.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-18-a06b05.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-19-016ef7.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-20-bc9344.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-21-d6c339.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-22-b04a01.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-23-e7744a.jpg"},function(e,t,n){e.exports=n.p+"images/photoWall-24-7cd4a4.jpg"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n,i,o){return"url('"+l.FONT+"fonts/"+e+"_"+t+"/"+n+"."+i+"') format('"+o+"')"}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.publishTime;if(t&&!y[t]){var o=[s(n,i,t,"woff","woff"),s(n,i,t,"ttf","truetype")].join(", "),r="@font-face{font-family: '"+t+"'; src: "+o+";}";h(r),y[t]=!0}}function c(e){var t=e.id,n=e.type,i=e.css,o=e.content,r=void 0===o?"":o;return i.cursor="default",i.fontSize&&(i.fontSize=d(i.fontSize)),i.minHeight="inherit",$(m(f,{id:t,type:n,content:r})).css(i)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(262);var l=n(22),p=n(154),h=p.addGlobalStyle,d=p.addSuffixPx,f=n(263),g=n(126),m=n(44).parse,v=n(24).openUrl,y={defaultFont:!0,moren:!0,"null":!0,undefined:!0},b=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0,color:!0}},link:!1}),r}return r(t,e),u(t,[{key:"updateContent",value:function(e){this.compJson.content=e;var t=this.create$context();this.$context.replaceWith(t),this.$context=t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,o=e.sceneId,r=e.publishTime,s=e.css,u=s.fontSize,l=s.width,p=s.height,h=s.writingMode,d=e.properties.anim,f=void 0===d?[]:d,g={fontSize:u,width:l,height:p};h&&(g["-webkit-writing-mode"]=h,g.writingMode=h,"vertical-rl"===h&&(g.textRendering="optimizeLegibility"));var m=c({id:t,type:n,content:i,css:g});return"view"==this.eqxScene.config.mode&&m.find("*").toArray().map(function(e){return $(e).css("font-family")}).forEach(function(e){return a({fontFamily:e,sceneId:o,publishTime:r})}),f[0]&&"typer"==f[0].type&&m.css({opacity:0}),m}},{key:"updateSize",value:function(e,t){this.$context.css(t)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=t.pageId;return"x"==t.type&&t.properties.url?$(e).click(function(){var e=t.properties.url;Number.isInteger(+e)?n.eqxScene.pageScroll.goToPageById(e):v(e,i)}):$(e).find("a[href]").toArray().forEach(function(e){var t=$(e).attr("href");$(e).removeAttr("href").css("cursor","pointer").click(function(){Number.isInteger(+t)?n.eqxScene.pageScroll.goToPageById(t):v(t,i)})}),!0}},{key:"addClassToLi",value:function(e){e.addClass("wsite-text")}},{key:"clearRichText",value:function(){this.compJson.content=this.$context.text(),this.compJson.css.writingMode="horizontal-tb",this.$context.html(this.compJson.content),this.$context.css("writingMode","horizontal-tb")}},{key:"settingGroupStyle",value:function(e){Object.assign(this.compJson.css,e),this.update$boxDiv(e)}},{key:"adjustHeight",value:function(){this.$li.css({height:"",width:""}),this.$context.css({height:"",width:""});var e=this.$boxDiv.height(),t=this.$boxDiv.width();this.update$li({height:e,width:t}),this.$context.css({height:e,width:t})}}]),t}(g);e.exports=b},function(e,t){},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element comp_paragraph editable-text" style="cursor: default">#{content}</div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function p(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(23).$loadMLink,u=n(261),l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"create$context",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create$context",this).call(this),n=window.scene,i=n.isTemplate,o=n.sourceId,r=n.id,s={sceneId:r};return i&&(s.isTemplate=i),o&&(s.sourceId=o),c().then(function(){var t={mlink:"https://ax8bgc.mlinks.cc/AK00",button:e.find("a.deepShareHref")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:s};console.log("mlink",t),new Mlink(t)}),e}}]),t}(u);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.imgSrc,n=e.reasonList,i=n.map(function(e,t){var n=e.id,i=e.name,o=(e.value,0==t?'class="active"':"");return'<li value="'+n+'" '+o+"><span>"+i+"</span></li>"}).join("");return $(d(p,{imgSrc:t,reasons:i}))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function y(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:y(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(266);var u=n(267).$getReportOptions,l=n(267).$postReport,p=n(268),h=n(261),d=n(44).parse,f=n(85).popUpModal,g=[],m=[{id:14258,name:"内容涉及违规",value:1},{id:14259,name:"诱导浏览者分享",value:2},{id:14260,name:"场景内容侵权",value:3},{id:14302,name:"内容夸大宣传",value:4},{id:14303,name:"违背易企秀用户协议",value:5},{id:14304,name:"其它原因",value:6}],v=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.show=!r.eqxPage.eqxScene.config.disableReport,r.$report=null,r}return r(t,e),a(t,[{key:"eleHide",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.hide()}},{key:"eleShow",value:function(){return this.show?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this):this}},{key:"hide",value:function(){this.$report&&this.$report.hide()}},{key:"addClassToLi",value:function(e){this.show||this.$li.css("display","none")}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;$(e).on("click",function(e){e.stopPropagation(),n.openReportModal()})}},{key:"openReportModal",value:function(){var e=this;if(this.$report)return this.$report.show();var t=this.compJson.sceneId;this.getSelectOption().then(function(i){var o=s({imgSrc:n(269),reasonList:i});e.$report=o;var r=e.$li.parent();o.appendTo(r),o.find("li").click(function(e){e.stopPropagation(),$(this).siblings().removeClass("active"),$(this).addClass("active")}),$("#reportSubmit").click(function(n){n.stopPropagation();var i=o.find("li.active").val();l({sceneId:t,type:i}).then(function(){return f("举报成功！")})["finally"](function(){return e.hide()})}),r.on("click",function(t){var n=o.find(t.target).length>0;n||e.hide()})})}},{key:"getSelectOption",value:function(){return new Promise(function(e,t){return g.length?e(g):u().then(function(n){g=n.list,g.length?e(g):t()})["catch"](function(){return g=m,e(g)})})}}]),t}(h);e.exports=v},function(e,t){},function(e,t,n){"use strict";function i(){var e=s.SERVER_1+"eqs/class/expose_types";return r({type:"GET",url:e})}function o(e){var t=e.sceneId,n=e.type;return r({type:"POST",url:s.SERVER_0+"eqs/expose",data:{sceneId:t,type:n}})}var r=n(21).ajax,s=n(22);e.exports={$getReportOptions:i,$postReport:o}},function(e,t,n){e.exports='<div id="report0"><div id="report1"><div id="report2"><p><img src="'+n(269)+'" width="50px;"></p><h1>请选择举报原因</h1></div><div id="report3"><ul id="reportList">#{reasons}</ul></div><div id="report4"><a id="reportSubmit" data-event="11203">提交举报</a></div></div></div>'},function(e,t,n){e.exports=n.p+"images/jubao_03-db9a15.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.marginTop,o=e.marginBottom,r=e.css,s=e.content,a=void 0===s?"":s;return r.cursor="default",r.minHeight="inherit",r.fontSize&&(r.fontSize=h(r.fontSize)),$(f(d,{id:t,type:n,content:a,marginTop:i,marginBottom:o})).css(r)}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.mode;if("view"===i&&window.scene&&t&&!m[t]){var o="@font-face{font-family:'"+t+"';src: url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".woff') format('woff'),url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".ttf') format('truetype');}";p(o),m[t]=!0}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(126),l=n(154),p=l.addGlobalStyle,h=l.addSuffixPx,d=n(271),f=n(44).parse,g=n(22),m={},v=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0}},link:!0,flexLine:"w,e,r"}),r}return r(t,e),c(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,o=e.sceneId,r=e.css,c=r.fontFamily,u=r.fontSize,l=r.writingMode,p=r.marginTop,h=void 0===p?"0px":p,d=r.marginBottom,f=void 0===d?"0px":d,g=e.properties.anim,m=void 0===g?[]:g;e.properties.isReplace=e.properties.isReplace||!1,i=i.replace(/\s/g,function(){var e=0;return function(t){return e+=1,e%2?"&nbsp;":t}}()),i=i||"请输入文本";var v=s({id:t,type:n,content:i,marginTop:h,marginBottom:f,css:{fontFamily:c,fontSize:u,writingMode:l}});return a({mode:this.eqxScene.config.mode,fontFamily:c,sceneId:o}),11==(e.id+"").length&&this.$li.attr("_tracker_data_",JSON.stringify({id:e.id})),m[0]&&"typer"===m[0].type&&v.css({opacity:0}),v}},{key:"updateContent",value:function(e){var t=this.$context.children();e=e.replace(/\s/g,function(){var e=0;return function(t){return e+=1,e%2?"&nbsp;":t}}()),t.text(e||this.compJson.content||"请输入文本"),t.html(t.text())}},{key:"autoAdjustSize",value:function(){function e(e){var t=e.$context,n=e.$context.children(),i=parseInt(t.css("padding")),o=n.height(),r={height:o+2*i};return e.update$li(r),{height:parseInt(e.$li.css("height")),width:parseInt(e.$li.css("width"))}}function t(t,n){if(void 0!==n&&null!==n){var r=320,s=t.$context,a=t.$context.children(),c=o(a);if(c<s.width()){var u={width:c+2*parseInt(s.css("padding"))};t.update$li(u),t.update$boxDiv(u),s.css(u)}else if(c>=s.width())for(var l=a.height(),p=s.height(),h=s.width();l>p&&h<r;)i(t),l=a.height(),p=s.height(),h=s.width();return e(t)}}function n(t,n){if(void 0!==n&&null!==n){var i=t.$context,o=t.$context.children();if(1===n){for(;r(i,o,n)&&s(i)>u;)a(t);if(r(i,o,n)&&s(i)<=u)return e(t)}else{if(0!==n)return e(t);for(;r(i,o,n)&&s(i)<l;)c(t);r(i,o,n)||a(t)}return{height:parseInt(t.$li.css("height")),width:parseInt(t.$li.css("width"))}}}function i(e){var t=e.$context,n=parseFloat(t.css("width"))+1,i={width:n+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}function o(e){var t=e.css("display","inline").width();return e.css("display","block"),t}function r(e,t,n){return n?t.height()>e.height():t.height()<e.height()}function s(e){return parseInt(e.css("font-size"))}function a(e){var t=e.$context,n=s(t);if(n>u){var i={fontSize:n-1+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}}function c(e){var t=e.$context,n=s(t);if(n<l){var i={fontSize:n+1+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}}var u=12,l=96,p=this.compJson.properties,h=p.adjustWHMode,d=p.adjustFSMode,f=arguments.length?arguments[0]:null;return h?n(this,f):d?t(this,f):e(this)}}]),t}(u);e.exports=v},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(270),a=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0
        }},link:!0,flexLine:"w,e,r"}),r}return r(t,e),t}(s);e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.marginTop,o=e.marginBottom,r=e.css,s=e.content,a=void 0===s?"":s;return r.cursor="default",r.minHeight="inherit",r.fontSize&&(r.fontSize=d(r.fontSize)),$(g(f,{id:t,type:n,content:a,marginTop:i,marginBottom:o})).css(r)}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.mode;"view"===i&&window.scene&&t&&!v[t]&&(h("@font-face{\n                font-family:'"+t+"';\n                src: url('"+m.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".woff') format('woff'),\n                url('"+m.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".ttf') format('truetype');"),v[t]=!0)}function c(e){return Math.floor(Math.random()*e)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(126),p=n(154),h=p.addGlobalStyle,d=p.addSuffixPx,f=n(274),g=n(44).parse,m=n(22),v={},y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=e.properties.contentType;return"t"===s?$.extend(!0,r.$ability,{style:{compFont:{self:!0,fontFamily:!0},compStyle:{backgroundColor:!0}},link:!0,flexLine:"w,e,r"}):"i"===s&&$.extend(!0,r.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!0},imageStyle:!0}}),r}return r(t,e),u(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.properties.contentType;if("t"===t){var n=e.id,i=e.type,o=e.sceneId,r=e.css,u=r.fontFamily,l=r.fontSize,p=r.writingMode,h=r.marginTop,d=void 0===h?"0px":h,f=r.marginBottom,g=void 0===f?"0px":f,m=e.properties,v=m.anim,y=void 0===v?[]:v,b=m.texts,x=void 0===b?[]:b,w="view"===this.eqxScene.config.mode?c(x.length):0,S=x[w]||"请输入文本",k=s({id:n,type:i,content:S,marginTop:d,marginBottom:g,css:{fontFamily:u,fontSize:l,writingMode:p}});return a({mode:this.eqxScene.config.mode,fontFamily:u,sceneId:o}),y[0]&&"typer"===y[0].type&&k.css({opacity:0}),k}if("i"===t){var I=e.id,P=e.type,_=e.properties;_=void 0===_?{}:_;var E=_.imgs,O=void 0===E?[]:E,T=_.bgColor,C=e.css,A=C.width,D=C.height,j="view"===this.eqxScene.config.mode?c(O.length):0,q=this.getImgSrc(O[j].src,{width:A,height:D}),M=$('<div id="'+I+'" \n                                   class="random-content element" \n                                   ctype="'+P+'"\n                                   style="width: 100%;height: 100%;"></div>').css("background-color",T),R=this.$img=$('<div class="random-content-image"\n                                           style="width: 100%;height: 100%;">').css({backgroundImage:"url('"+q+"')",backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"});return M.append(R),M}}},{key:"updateContent",value:function(e){this.$context.children().html(e)}},{key:"updateImg",value:function(e){var t=this.compJson.css,n=t.width,i=t.height,o=this.getImgSrc(e,{width:n,height:i});this.$img.css("background-image","url('"+o+"')")}},{key:"updateSize",value:function(e,t){}},{key:"updateTurnOver",value:function(e){this.$boxContentDiv.css("transform",e)}},{key:"autoAdjustSize",value:function(){var e=this.$context,t=this.$context.children(),n=parseInt(e.css("padding")),i=t.height(),o={height:i+2*n};return this.update$li(o),{height:parseInt(this.$li.css("height")),width:parseInt(this.$li.css("width"))}}}]),t}(l);e.exports=y},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;\n                 margin-top: #{marginTop};\n                 margin-bottom: #{marginBottom};\n                 color: inherit;\n                 word-break: break-all">#{content}</span></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(276),c=n(126),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{self:!0,backgroundColor:!0},commonStyle:{self:!0},advanceStyle:{self:!0},compFont:{fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"check",value:function(){var e=this.$select.find("option:selected").text(),t=Number(this.$select.val()),n={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!t&&(n.success=!1,n.message="下拉框 '"+e+"' 为必选项"),n}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.required,r=e.css,s=r.borderWidth,c=r.backgroundColor;s||(e.css.borderWidth=1,e.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","1px"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),c||(e.css.backgroundColor="#ffffff",this.$boxDiv.css("backgroundColor","#ffffff"));var u=e.choices||{},l=u.options||[];this.name="eq[f_"+t+"]",this.required=o,this.pageId=n;var p=a.$compDiv({id:t,type:i,required:o}),h=this.$select=p.find("select"),d=l.map(function(e){return a.$option({selected:e.selected,value:e.value,label:e.label})});return h.append(d),p}},{key:"changeOption",value:function(){var e=this.compJson.choices.options||[],t=e.map(function(e){return a.$option({selected:e.selected,value:e.value,label:e.label})});this.$select.empty(),this.$select.append(t)}},{key:"bindAfterRenderEvent",value:function(){return this.$li.bind("touchstart mousedown",function(e){e.stopPropagation()}),!0}}]),t}(c);e.exports=u},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.required,o=void 0===i?null:i,a=$(s(r,{id:t,type:n}));return a.find("#"+t).attr("required",o),a}function o(e){var t=e.selected,n=void 0===t?null:t,i=e.value,o=e.label,r=$('<option  class="comp_select_option" value="'+i+'">'+o+"</option>").attr("selected",n);return r}var r=n(277);n(278);var s=n(44).parse;e.exports={$compDiv:i,$option:o}},function(e,t){e.exports='<div class="comp_drop_down" style="width:100%;height:100%" id="#{id}" ctype="#{type}"><select style="width:100%;height:100%" name="eq[f_#{id}]" class="comp_drop_down_select" ctype="#{type}"></select></div>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(25).mobilecheck,c=n(25).isAndroidPhone,u=n(126),l=n(280),p=n(44).parse;n(281);var h=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{fontColor:!0}},trigger:{self:!1},link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"check",value:function(){var e=this.$li.find("#"+this.id).val(),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message=this.placeholder+" 为必填项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.properties,r=o.required,s=void 0===r?null:r,a=o.placeholder,c=void 0===a?null:a;return this.required=s,this.name="eq[f_"+t+"]",this.pageId=n,this.placeholder=c,this.id=t,$(p(l,{id:t,type:i})).attr({required:s,placeholder:c})}},{key:"setInputTitle",value:function(e){this.$context.attr("placeholder",e)}},{key:"bindAfterRenderEvent",value:function(e,n){var i=a();return t.touchStartMouseDownStopPropagation($(e).find("textarea")),this.onFocusBlurWhenFlip($(e).find("textarea")),this.onChangeTriggerVar($(e).find("textarea")),i&&parseFloat(n.css.top)>=200&&c()&&$(e).find("textarea").focus(function(e){setTimeout(function(){e.target.scrollIntoViewIfNeeded()},500)}).blur(function(){var e=$(this).parents(".m-img");e.css("position","fixed"),setTimeout(function(){e.css("position","")},100)}),!0}},{key:"onFocusBlurWhenFlip",value:function(e){var t=this;e.focus(function(){t.eqxScene.pageScroll.pauseAutoFlip()}).blur(function(){t.eqxScene.pageScroll.canAutoFlip&&t.eqxScene.pageScroll.startAutoFlip()})}},{key:"onChangeTriggerVar",value:function(e){var t=this;e.on("change input",function(){var n=t.variables;n&&n.length&&n.forEach(function(t){"7"===t.type.toString()&&t.updateContent(e.val())})})}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}}],[{key:"touchStartMouseDownStopPropagation",value:function(e){$(e).bind("touchstart mousedown",function(e){e.stopPropagation()})}}]),t}(u);e.exports=h},function(e,t){e.exports='<textarea id="#{id}" ctype="#{type}" class="element comp_input editable-text" maxlength="300" name="eq[f_#{id}]" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none">\n</textarea>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function p(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(279),u=n(178).isEmail,l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"check",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"check",this).call(this);return e.success?(e.value&&!u(e.value)&&(e.success=!1,e.message=this.placeholder+" 格式不对"),e):e}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function p(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(279),u=n(178).isPhoneNumber,l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"check",value:function(){var e=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"check",this).call(this);return e.success?(e.value&&!u(e.value)&&(e.success=!1,e.message=this.placeholder+" 格式不对"),e):e}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(285),c=n(126),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"check",value:function(){var e=this.$score.val(),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message="评分项: "+this.title+" 为必填项"),t}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.title,r=e.properties,s=r.required,c=r.icon,u=r.size,l=r.color,p=a.$compDiv({id:t,type:i,required:s,title:o});this.required=s,this.title=o,this.name="eq[f_"+t+"]",this.pageId=n;var h=[1,2,3,4,5].map(function(){return a.icon({icon:c,size:u})});return p.find(".rating-icons").append(h).css({color:l}),this.$score=p.find('input[type="hidden"]'),this.$titleDiv=p.find(".rating-title"),p}},{key:"update$iconColor",value:function(e){this.$context.find(".rating-icons").css({color:e})}},{key:"update$titleDiv",value:function(e){this.$titleDiv.text(e)}},{key:"updateAttrRequire",value:function(e){this.$context.attr("required",e)}},{key:"update$icon",value:function(e,t){this.$context.find("i").removeClass().addClass(e+" "+t)}},{key:"bindAfterRenderEvent",value:function(e,t){function n(e){o.each(function(t,n){$(n).removeClass(a+"-f").addClass(a+"-l"),t<=e&&$(n).removeClass(a+"-l").addClass(a+"-f")})}var i=$(e),o=i.find("i"),r=i.find("input"),s=t.properties.icon.split("-"),a=s[0]+"-"+s[1];return o.each(function(e,t){$(t).attr("data-event","11211"),$(t).bind("click",function(){n(e),r.val(e+1)}).bind("mouseenter",function(){return n(e)})}),i.find(".rating-icons").bind("mouseleave",function(){return n(~~r.val()-1)}).bind("touchstart mousedown",function(e){e.stopPropagation()}),!0}}]),t}(c);e.exports=u},function(e,t,n){"use strict";function i(e){var t=e.id,n=e.type,i=e.title,o=e.required,a=void 0===o?null:o;return $(s(r,{id:t,type:n,title:i})).attr("required",a)}function o(e){var t=e.icon,n=e.size;return'<i class="'+n+" "+t+'"></i>'}n(286);var r=n(287),s=n(44).parse;e.exports={$compDiv:i,icon:o}},function(e,t){},function(e,t){e.exports='<div class="element comp_rating editable-text" style="width: 100%;height:100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><div class="rating-title">#{title}</div><div class="rating-icons"></div><input type="hidden" name="eq[f_#{id}]" value=""></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:l(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(289),u=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"$compDiv",value:function(e){return e.title+="(可多选)",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$compDiv",this).call(this,e)}},{key:"$option",value:function(e){return e.inputType="checkbox",a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"$option",this).call(this,e)}},{key:"updateTitle",value:function(){var e=this.compJson.title+"(可多选)";return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateTitle",this).call(this,e)}}]),t}(c);e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(290);var a=n(126),c=n(291),u=n(292),l=n(44).parse,p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"check",value:function(){var e=this.$options.find("input.option[name]").toArray().filter(function(e){return e.checked}).map(function(e){return $(e).val()}).filter(function(e){return!!e}).join(","),t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message=this.title+" 为必填项"),t}},{key:"$compDiv",value:function(e){var t=e.id,n=e.required,i=void 0===n?null:n,o=e.title,r=void 0===o?"标题":o,s=e.type,a=e.css;return $(l(u,{id:t,title:r,type:s,css:a})).attr({required:i})}},{key:"$option",value:function(e){var t=e.compId,n=e.index,i=e.optionId,o=e.optionLabel,r=e.inputType,s=void 0===r?"radio":r,a=""+t+n;return $(l(c,{id:a,inputType:s,compId:t,optionId:i,optionLabel:o}))}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.properties,r=o.required,s=o.titleStyle,a=void 0===s?{}:s,c=e.title,u=e.css.height;this.title=c,this.pageId=n,this.name="eq[f_"+t+"]",this.required=r;var l=this.$compDiv({id:t,required:r,title:c,type:i,css:{height:u,width:"100%"}});l.find(".radio-title").css(a);var p=this.$options=l.find(".options");return p.html(this.create$options()),l}},{key:"create$options",value:function(){var e=this,t=this.compJson,n=t.id,i=(t.properties.optionStyle,t.choices),o=$("<div>");i.options.length-1;return i.options.forEach(function(t,i){var r=e.$option({compId:n,index:i,optionId:t.id,optionLabel:t.label});o.append(r)}),o.html()}},{key:"bindAfterRenderEvent",value:function(){return this.$li.find("label").bind("touchstart mousedown",function(e){e.stopPropagation()}),!0}},{key:"updateTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.compJson.title;this.$li.find(".radio-title").text(e)}},{key:"updateOptions",value:function(){var e=this.create$options();this.$options.html(e),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"updateOptionsLabel",value:function(){var e=this.$li.find(".option-label").find("span");this.compJson.choices.options.forEach(function(t,n){$(e[n]).text(t.label)})}},{key:"updateOptionsType",value:function(){var e="c"===this.compJson.type,t=e?"checkbox":"radio";this.$li.find("input").attr("type",t),e?this.updateTitle(this.compJson.title+"(可多选)"):this.updateTitle()}}]),t}(a);e.exports=p},function(e,t){},function(e,t){e.exports='<div class="option-group"><label class="option-label" for="#{id}" data-event="11208"><input class="option" id="#{id}" type="#{inputType}" name="eq[f_#{compId}]" value="#{optionId}"> <span>#{optionLabel}</span></label></div>'},function(e,t){e.exports='<div class="element comp_radio editable-text" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]" style="width: 100%;height: 100%"><div class="radio-title">#{title}</div><div class="options"></div></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(294).$postForm,c=n(22),u=n(212),l=n(126),p=n(25).isWeixin,h=n(95).qiniuZoom,d=n(295),f=n(85).popUpModal,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!1,fontColor:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.properties,r=o.title,s=o.styleImgSrc,a=e.css,l=a.width,p=a.height,h=""+c.FILE+s,d="0";return this.pageId=n,this.$context=s?u.$img({id:t,type:i,src:h,css:{width:l,height:p},padding:d}):u.$btn({id:t,type:i,title:r,css:{width:l,height:p}}),this.$context}},{key:"addClassToLi",value:function(e){e.addClass("wsite-input")}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=!0;$(e).click(function(){var o=n.eqxScene.formManager,r=o.check(),s=t.sceneId,c=t.id,l=t.pageId,g=t.properties,m=g.layout,v=void 0===m?"rating-l":m,y=g.imgSrc,b=g.text,x=g.link,w=g.checkedLink,S=g.clickFarmer,k=g.endTime,I=new Promise(function(){});if(o.submited)I=Promise.reject({code:120505});else if(k&&k<Date.now())I=Promise.reject({code:120602});else if(S&&!p())I=Promise.reject({code:120504});else if(r.success)i&&(n.eqxScene.config.disableSubmit?I=Promise.resolve():(k&&(r.form.endTime=k),I=a(r.form,s,l,c)),i=!1);else if(r.pageId&&n.pageId!=r.pageId){var P=confirm(r.message+" 是否前往修改？");P&&n.eqxScene.pageScroll.goToPageById(r.pageId)}else I=Promise.reject({msg:r.message});I.then(function(){o.submited=!0,i=!0;var t=!!w,n=y?h(y,240):d;b=b?b.trim():"谢谢您的参与！",u.modal(e,v,t,n,b,x)})["catch"](function(e){i=!0,f(120505===e.code||120603===e.code?"请不要重复提交！":120504===e.code?"请到微信中打开使用！":120602===e.code||120604===e.code?"当前表单已截止提交！":e.msg?e.msg:"file:"===window.location.protocol?"请发布后再提交！":"表单提交失败！")})})}},{key:"updateBtnTitle",value:function(e){this.compJson.properties.styleImgSrc||(this.$context[0].innerText=e)}},{key:"deleteImage",value:function(){this.compJson.properties.styleImgSrc||(this.$context[0].innerText="")}}]),t}(l);e.exports=g},function(e,t,n){"use strict";function i(e,t,n,i){var o=window.scene||{},r=o.code,c=s.SERVER_1+"eqs/r/"+t+"/"+n+"/"+i;return r&&(c=c+"?code="+r),a({type:"POST",url:c,data:e})}function o(e,t,n){return a({type:"POST",url:s.SERVER_1+"eqs/promotion/order/data/r/"+e+"/"+n,data:t})}function r(e,t){return a({type:"GET",url:s.SERVER_1+"eqs/s/valid/send-validcode",data:{phone:e,userId:t}})}var s=n(22),a=n(21).ajax;e.exports={$postForm:i,$submitXiuForm:o,$getSmsCode:r}},function(e,t,n){e.exports=n.p+"images/ok-941be2.svg"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:f(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(126),u=n(297),l=n(298),p=n(41),h=n(22),d=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:{self:!1},sound:!1,link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.properties.title,r=this.eqxScene.config.mode;return this.pageId=n,this.uploadImage={},this.name="eq[f_"+t+"]",this.$context=u.$compDiv(t,i,o,r),this.$button=this.$context.find("button"),this.$context}},{key:"eleShow",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this);var n=this.eqxScene.config.mode;"view"!==n||this.uploader||this.initQiniuUpload({uploadButton:this.$button.attr("id"),beforeUpload:function(t,n){var i=n.size/1024/1024;i>10?(l.modal("图片大小不得超过10M，请重新上传",e.$li),t.stop()):e.updateTitle("上传中...")},finishUpload:function(t,n,i){e.updateTitle(n.name),e.uploadImage.file=n,e.uploadImage.info=i=JSON.parse(i),(e.variables||[]).forEach(function(e){"4"===e.compJson.type.toString()&&e.updateImageSrc(i.key,i.w,i.h)})},Error:function(){e.updateTitle("上传失败！")}})}},{key:"initQiniuUpload",value:function(e){var t=this;p.$initQiniuUpload(e).then(function(e){t.uploader=e})}},{key:"check",value:function(){var e=this.uploadImage.info&&h.FILE+this.uploadImage.info.key,t={success:!0,pageId:this.pageId,key:this.name,value:e};return this.required&&!e&&(t.success=!1,t.message="上传图片: "+this.title+" 为必填项"),t}},{key:"updateTitle",value:function(e){this.$context.find("button").text(e)}}]),t}(c);e.exports=d},function(e,t){"use strict";function n(e,t,n,i){var o=$('<div id="'+e+'"\n                             ctype="'+t+'"\n                             class="element"\n                             style="width: 100%;height: 100%;position: relative">\n                        </div>'),r=$('<button id="#{id}-upload-image"\n                             style="display: block;\n                                    width: 100%;\n                                    height: 100%;\n                                    border: none;\n                                    padding: 0 8px;\n                                    background-color: transparent;\n                                    text-align: left;\n                                    overflow: hidden;\n                                    white-space: nowrap;\n                                    text-overflow: ellipsis;\n                                    font-size: 16px;">\n                         '+n+"\n                     </button>");return"view"===i&&r.attr("id",e+"-upload-image"),o.append(r)}e.exports={$compDiv:n}},function(e,t){"use strict";function n(e,t){var n=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'+e+'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),i=n.find(".feedback-form");i.css("margin-top",-Number.parseInt(i.height()+80)/2),n.insertBefore(t.parent().parent()),n.find(".feedback-close").on("click",function(){n.animate({opacity:0},{duration:300,complete:function(e){return n.remove()}})})}e.exports={modal:n}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(126),c=n(300),u=n(44).parse,l=n(178).isPhoneNumber,p=n(85).popUpModal,h=n(294).$getSmsCode;n(301);var d=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{base:{color:!1,
            lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0},compFont:{self:!0,fontColor:!0}},trigger:!1,sound:!1,link:!1}),r.eqxScene.formManager.add(r),r}return r(t,e),s(t,[{key:"check",value:function(){var e=this.$context.find(".telephone").val(),t=this.$context.find(".smsInput").val(),n={success:!0,pageId:this.pageId,key:this.name,type:this.type,value:{phoneValue:e,smsValue:t}};return this.required&&(e?t||(n.success=!1,n.message="请输入验证码"):(n.success=!1,n.message="请输入手机号")),n}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.pageId,i=e.type,o=e.title,r=e.properties,s=r.required,a=r.ownerCss,l=a.borderWidth,p=a.borderColor,h=a.borderStyle,d=$(u(c,{id:t,type:i,title:o}));return this.$context=d,this.$context.find(".telephone").css({borderWidth:l,borderColor:p,borderStyle:h}),this.$context.find(".smsInput").css({borderWidth:l,borderColor:p,borderStyle:h}),this.required=s,this.title=o,this.type=i,this.name="eq[f_"+t+"]",this.pageId=n,d}},{key:"updateInputBorderColor",value:function(e){this.$context.find(".telephone").css({borderColor:e}),this.$context.find(".smsInput").css({borderColor:e})}},{key:"bindAfterRenderEvent",value:function(){var e=this,t=!0;return this.$context.find(".smsButton").bind("touchstart mousedown",function(n){if(t){var i=e.$context.find(".telephone").val();i?i&&!l(i)?p("电话格式不对"):(t=!1,h(i,e.eqxScene.meta.userId||e.eqxScene.meta.createUser).then(function(){var n=180,i=setInterval(function(){e.$context.find(".smsButton").val("重新发送"+n+"秒"),0==n&&(t=!0,e.$context.find(".smsButton").val("获取验证码"),clearInterval(i)),n-=1},1e3)})["catch"](function(e){p(!e.code||150005!=e.code&&150001!=e.code?"发送失败，请重新发送":e.msg),t=!0})):p("请输入手机号")}}),!0}}]),t}(a);e.exports=d},function(e,t){e.exports='<div class="element editable-text comp_sms" style="width: 100%;height: 100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><input class="telephone" type="tel" placeholder="请输入手机号"/><div style="width: 100%;height: 12%"></div><input class="smsInput" type="number" placeholder="验证码"/> <input class="smsButton" type="button" value="获取验证码"/></div>'},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(25).isWeixin,u=n(126),l=n(303),p=n(304),h=n(44).parse,d=n(305),f=n(83).getWxJSSDK,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},sound:!1,link:!1}),r.wxJssdk=f(),r.soundKey=e.id.toString().substring(3),l[r.soundKey]=l[r.soundKey]||{},l[r.soundKey].wxpId=e.id,r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.css,o=i.width,r=i.height,s=i.lineHeight;return $(h(p,{id:t,type:n})).css({width:o,height:r,lineHeight:s,display:"inline-block"})}},{key:"bindAfterRenderEvent",value:function(e){var t=this;return $(e).on("mousedown touchstart",function(e){window.event.stopPropagation(),e.preventDefault(),c()?t.soundPlay():t.playDefaultSound()}),!0}},{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height,lineHeight:n.height+"px"}),this.compJson.css.lineHeight=n.height+"px"}},{key:"soundPlay",value:function(){var e=this,t=this;if(l[this.soundKey].soundId){var n=l[this.soundKey].soundId;this.eqxScene.soundManager.onPlay({type:4}),this.wxJssdk.then(function(){wx.playVoice({localId:n})})}else this.compJson.serverId?this.wxJssdk.then(function(){wx.downloadVoice({serverId:e.compJson.serverId,success:function(n){var i=n.localId;e.eqxScene.soundManager.onPlay({type:4}),wx.playVoice({localId:i}),l[t.soundKey].soundId=i},error:function(){e.playDefaultSound()}})}):this.playDefaultSound();this.wxJssdk.then(function(){wx.onVoicePlayEnd({success:function(){e.eqxScene.soundManager.onEnd({type:4})}})})}},{key:"playDefaultSound",value:function(){var e=this;this.defaultSound||(this.defaultSound=document.createElement("audio"),this.defaultSound.src=n(305)),this.defaultSound.paused?(this.eqxScene.soundManager.onPlay({type:4}),this.defaultSound.play(),$(this.defaultSound).bind("ended",function(){e.eqxScene.soundManager.onEnd({type:4})})):(this.eqxScene.soundManager.onEnd({type:4}),this.defaultSound.pause())}}],[{key:"getDefaultSound",value:function(){return d}}]),t}(u);e.exports=g},function(e,t){"use strict";e.exports={}},function(e,t){e.exports='<a id="#{id}" class="element comp_wechat_play" ctype="#{type}"><span style="font-size:16px" class="eqf-volume-high"></span></a>'},function(e,t,n){e.exports=n.p+"images/wexin_sound-d41d8c.mp3"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(307);var c=n(25).isWeixin,u=n(83).saveWxCompData,l=n(83).generateUserKey,p=n(126),h=n(303),d=n(83).getWxJSSDK,f=n(85).popUpModal,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.wxJssdk=d(),r.soundKey=e.id.toString().substring(3),h[r.soundKey]=h[r.soundKey]||{},h[r.soundKey].wxrId=e.id,$.extend(!0,r.$ability,{style:{compStyle:{backgroundColor:!0},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this.compJson,t=document.createElement("a");return t.innerHTML=e.properties.title,t.id=e.id,t.setAttribute("class","element comp_wechat_hear"),t.setAttribute("ctype",e.type),t.setAttribute("data-event","1120612"),$(t).css({width:e.css.width,height:e.css.height,display:"inline-block"}),$(t)}},{key:"bindAfterRenderEvent",value:function(e){var t=this;return $(e).on("mousedown touchstart",function(e){window.event.stopPropagation(),e.preventDefault(),c()?t.soundRecord():f("请在微信中点我！")}).on("mouseup touchend",function(){c()&&t.calculateTime&&t.soundStopRecord()}),!0}},{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.$context.css({width:n.width,height:n.height,lineHeight:n.height+"px"}),this.compJson.css.lineHeight=n.height+"px"}},{key:"soundRecord",value:function(){var e=this;this.wxJssdk.then(function(){e.eqxScene.soundManager.stopAll(),wx.startRecord({success:function(){e.second=0,e.openPlayState()}}),e.$context.addClass("recording").text("松开 结束")})}},{key:"openPlayState",value:function(){var e=this,t="<div class='voice-panel'><span class='icon eqf-voice'></span><div class='voice-tip'>松开手指 停止录音</div></div>";this.voicePanel=$(t).prependTo(this.$li.parent()),this.calculateTime=setInterval(function(){e.second++,e.second>=50&&$(e.voicePanel).text(60-e.second),60===e.second&&e.soundStopRecord()},1e3)}},{key:"soundStopRecord",value:function(){var e=this;clearInterval(this.calculateTime),this.calculateTime=null,this.$context.removeClass("recording").text("按住 说话"),this.eqxScene.soundManager.restoreAll(),$(this.voicePanel).remove(),wx.stopRecord({success:function(t){e.second=0,e.wechatUploadVoice(t.localId)}})}},{key:"wechatUploadVoice",value:function(e){var t=this;h[this.soundKey].soundId=e,wx.uploadVoice({localId:e,isShowProgressTips:1,success:function(e){var n=e.serverId;l(),u(h[t.soundKey].wxpId,n)}})}}]),t}(p);e.exports=g},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(261),c=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{self:!0,compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"updateContent",value:function(e){this.compJson.content=e,this.$context.text(e)}}]),t}(a);e.exports=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(134),c=n(310),u=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{self:!0},trigger:{self:!1}}),r}return r(t,e),s(t,null,[{key:"getDefaultImg",value:function(){return c}}]),t}(a);e.exports=u},function(e,t,n){e.exports=n.p+"images/wx_default-454286.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){v.push(e),y||a()}function a(){if(y=!0,v.length>0){var e=v.shift();e().then(function(){a()})}else y=!1}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function x(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:x(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},l=n(25).isWeixin,p=n(134),h=n(83).saveWxCompData,d=n(83).generateUserKey,f=n(312),g=n(83).getWxJSSDK,m=n(85).popUpModal,v=[],y=!1,b=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{self:!0},link:!1,sound:!1,trigger:{self:!1}}),r.wxJssdk=g(),r}return r(t,e),c(t,[{key:"create$context",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"create$context",this).call(this),n=this.compJson.serverId,i=this;return e[0].setAttribute("data-event","1120611"),n&&l()&&(e.css("display","none"),s(function(){return new Promise(function(e){i.wxJssdk.then(function(){wx.downloadImage({serverId:n,success:function(t){i.responsiveImage(t.localId),e()}})})})})),e}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return l()?$(e).click(function(){n.uploadImage()}):$(e).click(function(){m("请在微信中点击我")}),!0}},{key:"uploadImage",value:function(){var e=this;this.wxJssdk.then(function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var n=t.localIds;setTimeout(function(){wx.uploadImage({localId:n.toString(),isShowProgressTips:1,success:function(t){e.responsiveImage(n.toString());var i=t.serverId;d(),h(e.compJson.id,i)}})},100)}})})}},{key:"responsiveImage",value:function(e){var t=this;window.__wxjs_is_wkwebview?this.wxJssdk.then(function(){console.log("responsiveImage getLocalImgData start",e),wx.getLocalImgData({localId:e,fail:function(e){console.error("responsiveImage getLocalImgData Error",e)},success:function(e){console.log("responsiveImage getLocalImgData");var n=e.localData;t._responsiveImage(n)}})}):this._responsiveImage(e)}},{key:"_responsiveImage",value:function(e){var t=new Image;t.src=e;var n=this;t.onload=function(){var i,o,r=window.parseInt(n.compJson.css.width,10),s=window.parseInt(n.compJson.css.height,10);t.width/t.height>=r/s?(i=r,o=t.height*(r/t.width)):(o=s,i=t.width*(s/t.height)),n.$context.css({display:"block",width:i+"px",height:o+"px","margin-top":(window.parseInt(n.$li.height(),10)-o)/2+"px","margin-left":(window.parseInt(n.$li.width(),10)-i)/2+"px"}).attr("src",e)}}}],[{key:"getDefaultImg",value:function(){return f}}]),t}(p);e.exports=b},function(e,t,n){e.exports=n.p+"images/wechat_image-f8aa1a.png"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(314);var c=n(25).isWeixin,u=n(126),l=n(315).textVoteTpl,p=n(316).alertTpl,h=n(318).$isVoted,d=n(318).$postVote,f=n(54).randomId,g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1},advanceStyle:{}},trigger:{self:!1},sound:!1,link:!1,flexLine:"e,w,r"}),r.ids=[],r}return r(t,e),s(t,[{key:"getMinWidth",value:function(){return 300}},{key:"updateSize",value:function(e,t){var n=this.getMinWidth();t.width&&t.width<e.width&&(!t.left||t.left===e.left)&&t.width<n&&this.$li.css({width:n}),t.left&&t.left>e.left&&t.width&&t.width<n&&this.$li.css({left:e.left,width:n});var i=this.$context.height();i!=t.height&&this.$li.height(i)}},{key:"update$li",value:function(e){var n=this.compJson.css,i=this.getMinWidth();e.width&&e.width<n.width&&(!e.left||e.left===n.left)&&e.width<i&&(e.width=i),e.left&&e.left>n.left&&e.width&&e.width<i&&(delete e.left,delete e.width),e.height&&(e.height=this.$context.height()),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update$li",this).call(this,e)}},{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.properties,o=i.title,r=void 0===o?"请投票":o,s=i.selectType,a=i.buttonColor,c=void 0===a?"#08A1EF":a,u=i.children,h=void 0===u?[]:u;s="single"==s?"单选":"多选";var d=l({id:t,type:n}),f=$(d);if(this.$title=$('<div class="vote-view-title">'+r+"（"+s+"）</div>"),f.append(this.$title),h.length){this.$options=$('<ul class="vote-view-options"></ul>'),this.childrenOption=h.map(function(e){var t=e.id,n=e.label;return $('<li class="vote-view-option" id="'+t+'"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">'+n+"</div></li>")}),this.$submit=$('<div class="vote-view-button">投票</div>'),this.$options.append(this.childrenOption),f.append(this.$options),f.append(this.$submit);var g=p();this.$tpl=$(g).appendTo(f),this.updateButtonColor(c)}return f}},{key:"updateButtonColor",value:function(e){this.$submit.css({backgroundColor:e})}},{key:"updateTitle",value:function(e,t){t="single"==t?"单选":"多选",this.$title.text(e+"（"+t+"）")}},{key:"updateOptions",value:function(e){this.$options.find("#"+e.id+" .vote-view-text").text(e.label)}},{key:"deleteOption",value:function(e){this.compJson.properties.children.splice(e,1),this.childrenOption.splice(e,1)[0].remove(),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"addOption",value:function(){var e={id:f(),label:"选项"+(this.compJson.properties.children.length+1)};this.compJson.properties.children.push(e);var t=$('<li class="vote-view-option" id="'+e.id+'"><span><em class="eqf-yes" style="display: none"></em></span><div class="vote-view-text">'+e.label+"</div></li>");this.childrenOption.push(t),this.$options.append(t),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;c()?this.isVoted().then(function(){n.$options.children().on("click",function(e){var i=$(e.currentTarget).find(".eqf-yes");i.is(":hidden")?"single"==t.properties.selectType&&1==n.ids.length?(n.$options.find(".eqf-yes").hide(),n.ids[0]=e.currentTarget.id,i.show()):"multi"==t.properties.selectType&&n.ids.length==t.properties.selectCount?n.alertTpl("最多选择"+t.properties.selectCount+"项"):(i.show(),n.ids.push(e.currentTarget.id)):(i.hide(),n.ids.splice(n.ids.indexOf(e.currentTarget.id),1))}),n.$submit.on("click",function(){var e=t.sceneId,i=t.pageId;n.ids.length?d(e,t.id,{pageId:i,data:JSON.stringify(n.ids)}).then(function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then(function(){n.showVoted(e.map),n.$submit.off(),n.$options.children().off()})}):n.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise(function(n,i){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:2}),window.setTimeout(function(){t.$tpl.css({opacity:0,zIndex:-2}),n()},2e3)})}},{key:"showVoted",value:function(e){var t=this;this.$options.find(".eqf-yes").hide();var n=[],i=0;this.compJson.properties.children.forEach(function(o){var r=o.id;n.push({id:r,count:e[r]||0}),i+=e[r]||0,e[r]&&t.ids.push(r)}),n.forEach(function(e){$('<em style="float:right">'+e.count+"  ("+(e.count/i*100).toFixed(2)+" % 100)</em>").prependTo(t.$options.find("#"+e.id))}),this.$li.height(""),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"isVoted",value:function(){var e=this;return new Promise(function(t,n){var i=e.compJson.properties.endTime;if(i&&new Date(i)<Date.now())e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),n();else if(c()){var o=e.compJson,r=o.sceneId,s=o.pageId,a=o.id;h(a,{sceneId:r,pageId:s}).then(function(i){i.obj?(e.showVoted(i.map),n()):t()})}else n()})}}]),t}(u);e.exports=g},function(e,t){},function(e,t){"use strict";function n(e){var t=e.id,n=e.type;e.title,e.selectType;return'<div  id="'+t+'" ctype="'+n+'" class="vote-view">\n    </div>'}e.exports={textVoteTpl:n}},function(e,t,n){"use strict";function i(){return'<div class="vote-alert">\n              <span></span>\n            </div>'}n(317),e.exports={alertTpl:i}},function(e,t){},function(e,t,n){"use strict";function i(e,t){return s({type:"POST",url:r.SERVER_1+"eqs/vote/verify/"+e,data:t})}function o(e,t,n){return s({type:"POST",url:r.SERVER_1+"eqs/vote/"+e+"/"+t,data:n})}var r=n(22),s=n(21).ajax;e.exports={$isVoted:i,$postVote:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function v(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:v(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(320);var c=n(22),u=n(23).$loadSliders,l=n(126),p=n(25).isWeixin,h=n(316).alertTpl,d=n(318).$isVoted,f=n(318).$postVote,g=n(321),m=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.intervalObj={},r.descIds=[],$.extend(!0,r.$ability,{style:{compStyle:{self:!0},commonStyle:{size:!1}},trigger:{self:!1},sound:!1,link:!1,flexLine:"r"}),r}return r(t,e),s(t,[{key:"updateSize",value:function(e,t){this.$slider.width(t.width),this.plugin.update()}},{key:"create$context",value:function(){var e=this;this.descArr=[],this.imgArr=[],this.loadPlugin=Promise.resolve();var t=this.compJson,n=t.id,i=t.type,o=t.css.width,r=t.properties;r=void 0===r?{}:r;var s=r.title,a=void 0===s?"请投票":s,u=r.selectType,l=r.buttonColor,p=void 0===l?"#08A1EF":l,d=r.children,f=void 0===d?[]:d,m=r.bgColor;u="single"==u?"单选":"多选";var v=$('<div id="'+n+'" ctype="'+i+'" class="vote-img"></div>').css("background-color",m);if(f.length){f.forEach(function(t){var n=t.src,i=t.desc,o=t.id,r=n?""+(c.FILE+n):g;e.imgArr.push($('<div style="background-image:url('+r+'); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>')),e.descArr.push($('<li id="'+o+'">'+i+"</li>"))}),this.$title=$('<div class="vote-img-prev-title"><h1>'+a+'</h1><span class="vote-img-sing-double">('+u+")</span></div>"),v.append(this.$title),this.$slider=$('<div class="slides" style="width: '+o+'px;"></div>');var y=$('<ul class="vote-img-desc"></ul>');y.append(this.descArr),this.$slider.append(this.imgArr),this.loadPlugin=this.initSlider(y),v.append(this.$slider),this.$submit=$('<a class="btn-main">提交</a>'),v.append(this.$submit);var b=h();this.$tpl=$(b).appendTo(v),this.updateButtonColor(p)}return v}},{key:"updateButtonColor",value:function(e){this.$submit.css({backgroundColor:e})}},{key:"updateOptions",value:function(e,t){this.plugin["goto"](t+1),this.descArr[t].text(e.desc),this.imgArr[t].css({backgroundImage:"url("+c.FILE+e.src+")"})}},{key:"updateTitle",value:function(e,t){t="single"==t?"单选":"多选",this.$title.find("h1").text(e),this.$title.find(".vote-img-sing-double").text("("+t+")")}},{key:"initSlider",value:function(e){var t=this;return this.$em=$('<span class="eqf-yes-l"></span>'),u().then(function(){return t.$slider.slidesjs({width:300,height:329,navigation:{active:!1},callback:{loaded:function(){e.children().css({display:"none"}),t.descArr[0].css({display:"inline-block"}),t.$slider.append(e),t.$slider.find(".slidesjs-container").append(t.$em)},start:function(e){},complete:function(n){e.children().css({display:"none"}),t.descArr[n-1].css({display:"inline-block"});var i=t.descArr[n-1].attr("id");t.descIds.indexOf(i)==-1?t.$em.removeClass("active"):t.$em.addClass("active")}}}),t.plugin=t.$slider.data("plugin_slidesjs"),t.plugin})}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this;return p()?this.loadPlugin.then(function(){return n.isVoted()}).then(function(){n.$em.on("click",function(e){e.preventDefault(),e.stopPropagation();var i=n.descArr[n.plugin.data.current].attr("id");n.descIds.indexOf(i)==-1?"single"==t.properties.selectType&&1==n.descIds.length?(n.descIds[0]=i,n.$em.addClass("active")):"multi"==t.properties.selectType&&n.descIds.length==t.properties.selectCount?n.alertTpl("最多选择"+t.properties.selectCount+"项"):(n.descIds.push(i),n.$em.addClass("active")):(n.descIds.splice(n.descIds.indexOf(i),1),n.$em.removeClass("active"))}),n.$submit.on("click",function(e){e.preventDefault(),e.stopPropagation();var i=t.sceneId,o=t.pageId;n.descIds.length?f(i,t.id,{pageId:o,data:JSON.stringify(n.descIds)}).then(function(e){e.success&&n.alertTpl("投票成功，谢谢参与！").then(function(){n.showVoted(e.map),n.$em.off(),n.$submit.off()})}):n.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票"),!1}},{key:"showVoted",value:function(e){var t=this;this.descIds=[],this.$em.remove(),this.plugin.stop(),this.$slider.remove();var n={},i=[],o=0;this.compJson.properties.children.forEach(function(r){var s=r.id,a=r.desc;n[s]=a,i.push({id:s,count:e[s]||0}),o+=e[s]||0,e[s]&&t.descIds.push(s)});var r=$('<ul class="vote-img-ul"></ul>');i.forEach(function(e){r.append($("<li id = '"+e.id+'\' class="vote-img-li"><em style="float: right">'+e.count+" ("+(e.count/o*100).toFixed(2)+" %)</em> "+n[e.id]+"</li>"))}),r.insertBefore(this.$submit),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"alertTpl",value:function(e){var t=this;return new Promise(function(n,i){t.$tpl.find("span").text(e),t.$tpl.css({opacity:1,zIndex:1001}),window.setTimeout(function(){t.$tpl.css({opacity:0,zIndex:-2}),n()},2e3)})}},{key:"isVoted",value:function(){var e=this;return new Promise(function(t,n){if(e.compJson.properties.endTime&&new Date(e.compJson.properties.endTime)<new Date&&(e.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),n()),p()){var i=e.compJson,o=i.sceneId,r=i.pageId,s=i.id;d(s,{sceneId:o,pageId:r}).then(function(i){i.obj?(e.showVoted(i.map),n()):t()})}else n()})}},{key:"startPlay",value:function(){var e=this;this.playInterval=setInterval(function(){e.plugin&&e.plugin.next()},5e3)}},{key:"stopPlay",value:function(){this.playInterval&&(clearInterval(this.playInterval),this.playInterval=null)}},{key:"eleHide",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleHide",this).call(this),this.stopPlay()}},{key:"eleShow",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"eleShow",this).call(this),this.startPlay()}}]),t}(l);e.exports=m},function(e,t){},function(e,t,n){e.exports=n.p+"images/defaultImg-f9d1d1.svg"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function S(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:S(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)};n(323);var c=n(126),u=n(41),l=n(24).addUrlParam,p=n(25).isWeixin,h=n(25).isPc,d=n(83).getWxJSSDK,f=n(70).COMP_KEY,g=n(83).addCompKey,m="ontouchstart"in window,v=m?"touchstart":"mousedown",y=m?"touchmove":"mousemove",b=m?"touchend":"mouseup",x={},w=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.wxJssdk=d(),$.extend(!0,r.$ability,{style:{compFont:{self:!1}},trigger:{self:!1},sound:!1,link:!1}),r}return r(t,e),s(t,[{key:"updateSize",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateSize",this).call(this,e,n),this.setCanvasSize(n.width,n.height);var i=this.compJson.properties.imgSrc;i&&(this.clearCanvas(),this.drawingImage(i))}},{key:"create$context",value:function(){var e=$('<div style="position: relative; height: 100%;overflow: hidden;"></div>');this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d");var t=this.compJson,n=t.css,i=n.width,o=n.height,r=t.properties,s=r.imgSrc,a=r.boardColor,c=r.qiniuSrc;return this.setCanvasSize(i,o),this.setCanvasBgColor(a),s&&this.drawingImage(s),c&&(x[this.compJson.id]=c),this.$alert=$('<div class="board-bg" style="display: none"><span class="board-alert">正在保存...</span></div>'),this.$penBtn=$('<span class="board-pen eqf-brush"></span>'),this.$closeBtn=$('<span class="board-close eqf-delete-f" style="display: none"></span>'),e.append(this.$alert),e.append(this.$penBtn),e.append(this.$closeBtn),this.$cancelBtn=$('<a class="board-btn board-reset" style="display: none">取消</a>'),this.$endBtn=$('<a class="board-btn board-end" style="display: none">完成</a>'),e.append(this.$cancelBtn),e.append(this.$endBtn),e.append(this.canvas),e}},{key:"setCanvasSize",value:function(e,t){this.canvas.width=e,this.canvas.height=t}},{key:"setCanvasBgColor",value:function(e){this.canvas.style.backgroundColor=e}},{key:"drawingImage",value:function(e,t){var n=this.compJson.css,i=n.width,o=n.height,r="";r="base64"==t?e:this.getImgSrc(e,{width:i,height:o});var s=new Image;s.setAttribute("crossOrigin","anonymouse");
        var a=this;s.onload=function(){var e=0,t=0,n=i,r=o;this.width/i>this.height/o?(n=this.width/(this.height/o),e=(i-n)/2):(r=this.height/(this.width/i),t=(o-r)/2),a.ctx.drawImage(s,e,t,n,r)},s.src=r}},{key:"clearCanvas",value:function(){var e=this.compJson.css,t=e.width,n=e.height;this.ctx.clearRect(0,0,t,n)}},{key:"bindAfterRenderEvent",value:function(e,t){var n=this,i=!1,o=!1,r=0,s=0;return this.$penBtn.on("click",function(){return!i&&(n.clearCanvas(),i=!0,n.$cancelBtn.css({display:"inline-block"}),n.$endBtn.css({display:"inline-block"}),n.$closeBtn.css({display:"inline-block"}),!m&&n.canvas.classList.add("boarding"),void 0)}),this.$cancelBtn.on("click",function(){n.clearCanvas(),i=!1,n.$cancelBtn.hide(),n.$endBtn.hide(),n.$closeBtn.hide(),!m&&n.canvas.classList.remove("boarding"),n.compJson.properties.imgSrc&&n.drawingImage(n.compJson.properties.imgSrc)}),this.$closeBtn.on("click",function(){n.clearCanvas()}),this.$endBtn.on("click",function(){i=!1,n.$cancelBtn.hide(),n.$endBtn.hide(),n.$closeBtn.hide(),!m&&n.canvas.classList.remove("boarding"),"view"==n.eqxScene.config.mode&&window==window.top&&n.saveImage()}),this.canvas.addEventListener(v,function(e){if(!i)return!1;e.preventDefault(),e.stopPropagation(),o=!0;var t=n.canvas.getBoundingClientRect();e=m?e.targetTouches[0]:e,r=m?e.pageX-t.left:e.offsetX,s=m?e.pageY-t.top:e.offsetY+20}),this.canvas.addEventListener(y,function(e){if(!i||!o)return!1;var a=n.canvas.getBoundingClientRect();e=m?e.targetTouches[0]:e;var c=m?e.pageX-a.left:e.offsetX,u=m?e.pageY-a.top:e.offsetY+20;n.ctx.beginPath(),n.ctx.moveTo(r,s),n.ctx.lineTo(c,u),n.ctx.strokeStyle=t.properties.penColor,n.ctx.lineWidth=t.properties.penSize,n.ctx.lineCap="round",n.ctx.stroke(),r=c,s=u}),this.canvas.addEventListener(b,function(e){o=!1}),this.canvas.addEventListener("mouseleave",function(e){o=!1}),!0}},{key:"saveImage",value:function(){var e=this;this.$alert.show(),u.$getUploadToken("image").then(function(t){var n=e.canvas.toDataURL("image/png");return u.$uploadBase64(t.map.token,n.substring(22))}).then(function(t){return x[e.compJson.id]=t.key,u.$saveCompInfoByCompKey(f,x)}).then(function(){var t=l("compKey",f,window.location.href);if(p()?e.wxJssdk.then(function(){g(t,f)}):window.history.replaceState({title:$("title").html(),url:t},$("title").html(),t),h()&&window.top===window){var n=$("#codeImg");n.length&&(n.empty(),n.qrcode({render:"canvas",width:200,height:200,text:t}))}e.$alert.hide()})}}]),t}(c);e.exports=w},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.id,n=e.type,i=e.marginTop,o=e.marginBottom,r=e.css,s=e.content,a=void 0===s?"":s;return r.cursor="default",r.minHeight="inherit",r.fontSize&&(r.fontSize=h(r.fontSize)),$(f(d,{id:t,type:n,content:a,marginTop:i,marginBottom:o})).css(r)}function a(e){var t=e.fontFamily,n=e.sceneId,i=e.mode;if("view"===i&&window.scene&&t&&!m[t]){var o="@font-face{font-family:'"+t+"';src: url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".woff') format('woff'),url('"+g.FONT+"fonts/"+n+"_"+window.scene.publishTime+"/"+t+".ttf') format('truetype');}";p(o),m[t]=!0}}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(126),l=n(154),p=l.addGlobalStyle,h=l.addSuffixPx,d=n(325),f=n(44).parse,g=n(22),m={},v=n(326).parse,y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0,fontSize:!0,fontColor:!0,baseStyle:!0,lineHeight:!0,letterSpacing:!0},compStyle:{backgroundColor:!0},commonStyle:{tip:!0},advanceStyle:{variable:!0}},link:!0}),r}return r(t,e),c(t,[{key:"create$context",value:function(){var e=this.compJson,t=e.id,n=e.type,i=e.content,o=e.sceneId,r=e.css,c=r.fontFamily,u=r.fontSize,l=r.writingMode,p=r.marginTop,h=void 0===p?"0px":p,d=r.marginBottom,f=void 0===d?"0px":d,g=e.properties.anim,m=void 0===g?[]:g;i=i||"+yyyy";var y=new Date,b=v(y,i),x=s({id:t,type:n,content:b,marginTop:h,marginBottom:f,css:{fontFamily:c,fontSize:u,writingMode:l}});return a({mode:this.eqxScene.config.mode,fontFamily:c,sceneId:o}),m[0]&&"typer"===m[0].type&&x.css({opacity:0}),x}},{key:"updateContent",value:function(e){e=e||this.compJson.content||"+yyyy";var t=new Date,n=v(t,e);this.$context.children().html(n)}},{key:"autoAdjustSize",value:function(){function e(e){var t=e.$context,n=e.$context.children(),i=parseInt(t.css("padding")),o=n.height(),r={height:o+2*i};return e.update$li(r),{height:parseInt(e.$li.css("height")),width:parseInt(e.$li.css("width"))}}function t(t,n){if(void 0!==n&&null!==n){var r=320,s=t.$context,a=t.$context.children(),c=o(a);if(c<s.width()){var u={width:c+2*parseInt(s.css("padding"))};t.update$li(u),t.update$boxDiv(u),s.css(u)}else if(c>=s.width())for(var l=a.height(),p=s.height(),h=s.width();l>p&&h<r;)i(t),l=a.height(),p=s.height(),h=s.width();return e(t)}}function n(t,n){if(void 0!==n&&null!==n){var i=t.$context,o=t.$context.children();if(1===n){for(;r(i,o,n)&&s(i)>u;)a(t);if(r(i,o,n)&&s(i)<=u)return e(t)}else{if(0!==n)return e(t);for(;r(i,o,n)&&s(i)<l;)c(t);r(i,o,n)||a(t)}return{height:parseInt(t.$li.css("height")),width:parseInt(t.$li.css("width"))}}}function i(e){var t=e.$context,n=parseFloat(t.css("width"))+1,i={width:n+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}function o(e){var t=e.css("display","inline").width();return e.css("display","block"),t}function r(e,t,n){return n?t.height()>e.height():t.height()<e.height()}function s(e){return parseInt(e.css("font-size"))}function a(e){var t=e.$context,n=s(t);if(n>u){var i={fontSize:n-1+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}}function c(e){var t=e.$context,n=s(t);if(n<l){var i={fontSize:n+1+"px"};e.update$li(i),e.update$boxDiv(i),t.css(i)}}var u=12,l=96,p=this.compJson.properties,h=p.adjustWHMode,d=p.adjustFSMode,f=arguments.length?arguments[0]:null;return h?n(this,f):d?t(this,f):e(this)}}]),t}(u);e.exports=y},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){t.map=8191&e,t.day=e>>13&31,t.month=e>>18&1,t.leapMonth=e>>20&15,t.hasLeapMonth=!!(e&1<<19)}function o(e){var t=e.year-1890+26;return e.gYear=t%10,e.zYear=t%12,e.animal=e.zYear,e}function r(e){var t=e._date.getFullYear(),n=e._date.getMonth(),r=e._date.getDate(),s=d.map,a=t-d.YEAR_MIN,c={};e.year=t,i(s[a],c),(n<c.month||n===c.month&&r<c.day)&&(a-=1,e.year=t-1,i(s[a],c));for(var u=new Date(e.year,c.month,c.day),l=(e._date.getTime()-u.getTime())/864e5>>0,p=0,h=0,f=0;f<14;){if(h=c.map&1<<f?30:29,p+=h,l<p){e.day=h-(p-l)+1;break}f+=1}return e.leap=!1,c.hasLeapMonth&&(f===c.leapMonth+1&&(e.leap=!0),f>c.leapMonth&&(f-=1)),e.month=f,o(e),e}function s(e){return{year:e.getFullYear(),month:e.getMonth(),mDay:e.getDate(),wDay:e.getDay()}}function a(e,t,n){if(e+="",t-=e.length,t<=0)return e;if(n||0===n||(n=" "),n+=""," "===n&&t<10)return y[t]+e;for(var i="";;){if(1&t&&(i+=n),t>>=1,!t)break;n+=n}return i+e}function c(e,t){return e=""+e,e.substr(e.length-t)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zyyy zy cy yyyy yy MMMM Mmmm mmmm MMM Mmm mmm mm m DDDD dddd DDD ddd dd d ",n=s(e),i=v(e).toJSON({chinese:!0});return console.log(n),console.log(i),t.replace("+zyyy",g[n.year]).replace("+zy",g[c(n.year,2)]).replace("+yyyy",n.year).replace("+yy",c(n.year,2)).replace("+MMMM",f.mmmm[n.month].toUpperCase()).replace("+Mmmm",f.mmmm[n.month]).replace("+mmmm",f.mmmm[n.month].toLowerCase()).replace("+MMM",f.mmm[n.month].toUpperCase()).replace("+Mmm",f.mmm[n.month]).replace("+mmm",f.mmm[n.month].toLowerCase()).replace("+mm",a(n.month+1,2,"0")).replace("+zm",g[n.month+1]).replace("+m",n.month+1).replace("+DDDD",f.dddd[n.wDay].toUpperCase()).replace("+dddd",f.dddd[n.wDay]).replace("+Dddd",f.dddd[n.wDay].charAt(0).toUpperCase()+f.dddd[n.wDay].substr(1)).replace("+ddd",f.dddd[n.wDay].substr(0,3)).replace("+Ddd",f.dddd[n.wDay].charAt(0).toUpperCase()+f.dddd[n.wDay].substr(1,2)).replace("+DDD",f.dddd[n.wDay].substr(0,3).toUpperCase()).replace("+zddd",f.zddd[n.wDay]).replace("+dd",a(n.mDay,2,"0")).replace("+zd",g[n.mDay]).replace("+d",n.mDay).replace("+cy",i.year).replace("+cm",i.month).replace("+cd",i.day)}function l(){return{parse:u}}var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=[1750378,339370,6020516,405156,314698,4934293,371351,279894,2804405,346837,8115922,419666,331429,4961866,394827,297627,3880278,370026,281433,1759058,345938,6019877,412453,313931,4936875,377517,288107,1764201,355753,7093650,429714,331045,4954701,395862,303798,3872181,370388,282281,1769106,347794,6016294,402731,313943,4936374,379738,296660,2821833,354121,7075475,420499,329003,5991003,387757,304490,3881813,371620,281417,1759891,346773,7058733,402742,314029,4945322,378290,290213,2825546,363850,8120981,412311,329046,5999285,387797,304850,3878565,372389,280138,2796695,338587,7066970,402794,314217,4945746,387922,289573,3864139,354891,8123563,410285,320877,5999465,396713,306578,3882277,372005,10246733,428630,336566,6006197,403157,315049,4947602,388754,298278,2812502,346711,8123606,418650,321237,4953801,395081,304787,3872043,361771,272987,1758554,337258,7060309,412580,322377,4938387,379541,288045,3861165,346805,9172394,419282,331173,6004042,396618,306325,3880238,361814,273077,1758642,345810,6008485,403237,312907,4934807,371883,288090,2812630,355177,11269970,420690,330533,6003275,387659,296107,4916571,361901,273258,1760082,347538,7068965,404773,313941,4936877,378038,279989,2813354,356041,8142482,421522,331046,5999190,387671,296150,3868373,362325,280393,2797203,337555,7058731,402731,305755,4937050,378218,289637,3864394,355146,8125077,420501,320813,5991085,387765,304554,3869605,363941,281930,2808981,339094,7059790,402774,314037,4937138,378578,290469,3870282,345675,8113303,410795,320859,5991126,387946,304978,3880741,363301,273035,1750171,337067],d={YEAR_MIN:1890,YEAR_MAX:2100,map:h,monthNames:["正月","二月","三月","四月","五月","六月","七月","八月","九月","十月","冬月","腊月"],dayNames:["","初一","初二","初三","初四","初五","初六","初七","初八","初九","初十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","廿一","廿二","廿三","廿四","廿五","廿六","廿七","廿八","廿九","三十"],heavenlyStems:["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],earthlyBranches:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],animals:["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],solarPeriods:["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],solarPeriodsMap:[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758]},f={zddd:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],ddd:["sun","mon","tue","wed","thu","fri","sat"],Ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DDD:["SUN","MON","TUE","WED","THU","FRI","SAT"],Dddd:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dddd:["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],DDDD:["SUNDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY"],mmm:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mmmm:["January","February","March","April","May","June","July","August","September","October","November","December"]},g={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一",2015:"二零一五",2016:"二零一六",2017:"二零一七",2018:"二零一八",2019:"二零一九",2020:"贰零贰零"},m=function(){function e(t){return n(this,e),t?(t instanceof Date&&(this._date=t,r(this)),this):this}return p(e,[{key:"convert",value:function(){return r(this)}},{key:"toDate",value:function(){return this._date}},{key:"isValid",value:function(){return!!this._date}},{key:"format",value:function(e){return this._date?(e=e||"农历gYzY年MD",e.replace("gY",d.heavenlyStems[this.gYear]).replace("zY",d.earthlyBranches[this.zYear]).replace("gM",d.heavenlyStems[this.gMonth]).replace("zM",d.earthlyBranches[this.zMonth]).replace("gD",d.heavenlyStems[this.gDay]).replace("zD",d.earthlyBranches[this.zDay]).replace("M",(this.leap?"闰":"")+d.monthNames[this.month]).replace("D",d.dayNames[this.day])):"Invalid Date"}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(e.chinese&&(t={year:d.heavenlyStems[this.gYear]+d.earthlyBranches[this.zYear],month:d.monthNames[this.month],day:d.dayNames[this.day],gYear:d.heavenlyStems[this.gYear],zYear:d.earthlyBranches[this.zYear],animal:d.animals[this.animal],leap:this.leap?"闰":""}),"array"===e.type)return[t.year,t.month,t.day,t.leap];var n=t,i=n.year,o=n.month,r=n.day,s=n.leap,a=n.gYear,c=n.zYear,u=n.animal;return{year:i,month:o,day:r,leap:s,gYear:a,zYear:c,animal:u}}},{key:"toString",value:function(){return this.format()}}]),e}(),v=function(e){if(e){if(!(e instanceof Date))throw new Error("date parameter must be Date/Array/Object")}else e=new Date;return new m(e)},y=(v(new Date(2017,6,24)),[""," ","  ","   ","    ","     ","      ","       ","        ","         "]);e.exports=l()},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(328);var a=n(126),c=n(329),u=n(44).parse,l=n(22),p=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return $.extend(!0,r.$ability,{style:{},link:!1}),r}return r(t,e),s(t,[{key:"create$context",value:function(){var e=this,t=e.compJson,n=t.id,i=t.type,o=t.properties,r=o.forward,s=o.back,a=$(u(c,{id:n,type:i,forward:e.amendImageSrc(r),back:e.amendImageSrc(s)}));return this.$forward=a.find(".forward"),this.$back=a.find(".back"),a}},{key:"updateButtonImage",value:function(e){var t=this.$context.find("."+e),n=this.compJson.properties;t.css("backgroundImage","url("+this.amendImageSrc(n[e])+")")}},{key:"amendImageSrc",value:function(e){return/(localhost)|(\w+.com)|(\w+.cn)|(\w+.cc)/.test(e)?e:""+(l.FILE+e)}},{key:"showForwardButton",value:function(){this.$forward.show(),this.$back.hide()}},{key:"showBackButton",value:function(){this.$forward.hide(),this.$back.show()}}]),t}(a);e.exports=p},function(e,t){},function(e,t){e.exports='<div id="#{id}" ctype="#{type}" class="element element-pip-button"><div class="forward" style="background-image: url(\'#{forward}\')"></div><div class="back" style="background-image: url(\'#{back}\')"></div></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(331),n(332);var r=n(333),s=n(334),a=n(56).isRightArrow,c=function(){function e(t){i(this,e),this.$arrow=this.create$arrow(t)}return o(e,[{key:"create$arrow",value:function(e){return a(e)?$(s):$(r)}},{key:"updatePageMode",value:function(e){var t=this.create$arrow(e);this.$arrow&&(this.$arrow.replaceWith(t),this.$arrow=t,this.css&&this.updateCss(this.css))}},{key:"updateCss",value:function(e){this.css=e,this.$arrow.css(e)}},{key:"remove",value:function(){this.$arrow.remove()}}]),e}();e.exports=c},function(e,t){},function(e,t){},function(e,t){e.exports='<section class="u-arrow-bottom"><div class="pre-wrap-bottom"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>'},function(e,t){e.exports='<section class="u-arrow-right"><div class="pre-wrap-right"><div class="pre-box3"><div class="pre3"></div></div><div class="pre-box4"><div class="pre4"></div></div></div></section>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(70).COMP_TYPE,s=n(70).FORM_COMPS,a=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.compJsonList=n,this.compNumMap={},Object.keys(r).forEach(function(e){t.compNumMap[e]=0})}return o(e,[{key:"iterate",value:function(){var e=this;this.compJsonList.forEach(function(t){e.compNumMap[t.type]+=1})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"hasComp",value:function(e){return!!this.compNumMap[e]}},{key:"hasRedPacketComp",value:function(){return this.hasComp(9)}},{key:"hasMapComp",value:function(){return this.hasComp("m")}},{key:"hasChartComp",value:function(){return this.hasComp("t")}},{key:"hasCommentComp",value:function(){return this.hasComp("b")}},{key:"hasSubmitButtonComp",value:function(){return this.hasComp(6)||this.hasComp(601)}},{key:"hasFormComp",value:function(){var e=this,t=0;return s.forEach(function(n){t+=e.compNumMap[n]}),!!t}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(22),s=n(24).resolveUrl,a=n(337),c=n(44).parse,u=n(95),l=n(25),p=n(338),h=n(339),d={none:0,Gravity:1,Parallax:2},f=function(){function e(t,n){i(this,e),this.compJson=t,this.eqxScene=n.eqxScene;var o=this.eqxScene.config;o.EqxGravity.disableGravityMotion?this.gravityMode=d.none:l.mobilecheck()?this.gravityMode=d.Gravity:this.gravityMode=d.Parallax,this.gravityPromise=null,this.gravity=null}return o(e,[{key:"updateBgHeight",value:function(e){this.$gravity.css({height:e})}},{key:"updateCss",value:function(e){this.$gravity.css(e)}},{key:"create$gravity",value:function(){var e=this,t=this.compJson,n=t.id,i=t.properties.imgSrc,o=t.css,l=o.top,f=o.left,g=o.width,m=o.height,v=this.eqxScene,y=v.width,b=v.height;if(i){var x=s(r.FILE,i),w=$(c(a,{id:n,src:x}));this.$gravity=w,this.gravityPromise=u.loadImg(x).then(function(){switch(w.find("img").css({transform:"translate3d("+f+"px,"+l+"px,0)",width:g,height:m}),e.gravityMode){case d.Gravity:e.gravity=new h(n,$(w.find("img")),l,f,y,b),e.gravity.init();break;case d.Parallax:p(w,{innerW:g,innerH:m,outerW:y,outerH:b})}})}return this.$gravity}},{key:"delete$gravity",value:function(){var e=this;this.gravityMode===d.Gravity&&this.gravityPromise&&this.gravityPromise.then(function(){e.gravity.destroy()}),this.$gravity&&this.$gravity.remove()}},{key:"update$gravity",value:function(){this.delete$gravity(),this.create$gravity()}}]),e}();e.exports=f},function(e,t){e.exports='<div id="wrapper-gravity#{id}" class="eqx-bg-img" style="position: absolute;z-index: 0;width: 100%;height:100%"><div class="layer" data-depth="0.5"><img src="#{src}" alt="" style="position:absolute"/></div></div>'},function(e,t,n){"use strict";function i(e,t){o.$loadParallax().then(function(){var n=t.innerW,i=t.innerH,o=t.outerW,r=t.outerH,s=t.scalarX,a=void 0===s?100:s,c=t.scalarY,u=void 0===c?100:c;console.log("重力感应 Parallax Starts!",t);var l={calibrateX:!0,calibrateY:!0,invertX:!0,invertY:!0,limitX:parseInt(n)-parseInt(o),limitY:parseInt(i)-parseInt(r),scalarX:a,scalarY:u,frictionX:1,frictionY:1,originX:.5,originY:.5};new Parallax(e[0],l)})}var o=n(23);e.exports=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i,o,r,s,a){n(this,e),this.id=t,this.bgHeight=0,this.bgWidth=0,this.offsetLeft=r,this.offsetTop=o,this.screenHeight=a,this.screenWidth=s,this.isFirst=!0,this.firstGamma=0,this.firstBeta=0,this.lastGama=0,this.lastBeta=0,this.targetLeft=0,this.targetTop=0,this.bg=i}return i(e,[{key:"init",value:function(){var e=this;e.targetLeft=e.nowLeft=e.offsetLeft,e.targetTop=e.nowTop=e.offsetTop,e.bindEvent(),e.requestAnimationFrame=e.requestAnimationFrame.bind(this),e.raf=requestAnimationFrame(e.requestAnimationFrame)}},{key:"bindEvent",value:function(){var e=this;$(window).on("deviceorientation."+e.id,function(t){var n=t.originalEvent;n.g=n.gamma,n.b=n.beta,e.isFirst&&(e.bgHeight=e.bg.height(),e.bgWidth=e.bg.width(),e.nowGama=e.lastGama=e.firstGamma=n.g,e.nowBeta=e.lastBeta=e.firstBeta=n.b,e.isFirst=!1),(Math.abs(n.g-e.lastGama)>3||Math.abs(n.b-e.lastBeta)>3)&&(e.targetLeft=Math.round(e.offsetLeft+(e.firstGamma-n.g)*e.bgWidth/180),e.targetTop=Math.round(e.offsetTop+(n.b-e.firstBeta)*e.bgHeight/180),e.nowBeta=e.lastBeta=n.b,e.nowGama=e.lastGama=n.g,e.targetLeft>=0?e.targetLeft=0:e.targetLeft<e.screenWidth-e.bgWidth&&(e.targetLeft=e.screenWidth-e.bgWidth),e.targetTop>=0?e.targetTop=0:e.targetTop<e.screenHeight-e.bgHeight&&(e.targetTop=e.screenHeight-e.bgHeight))})}},{key:"requestAnimationFrame",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=0,t=0,n=this;n.isFirst||(e=.1*(n.targetLeft-n.nowLeft),t=.1*(n.targetTop-n.nowTop),n.nowLeft+=+e.toFixed(5),n.nowTop+=+t.toFixed(5),n.bg.css({transform:"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)","-ms-transform":"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)","-webkit-transform":"translate3d("+n.nowLeft+"px,"+n.nowTop+"px,0)"})),n.raf=requestAnimationFrame(n.requestAnimationFrame)})},{key:"destroy",value:function(){window.cancelAnimationFrame(this.raf),$(window).off("deviceorientation."+this.id)}}]),e}();e.exports=o},function(e,t){"use strict";var n=[{name:"红包",types:["9"]},{name:"新文本",types:["7"]},{name:"爆款文本",types:["1"]},{name:"文本",types:["2","x","298","299"]},{name:"微信昵称",types:["201"]},{name:"背景",types:["3"]},{name:"图片",types:["4"]},{name:"微信头像",types:["401"]},{name:"微信照片",types:["403"]},{name:"输入框",types:["5","501","502","503","504"]},{name:"提交按钮",types:["6","601"]},{name:"电话",types:["8"]},{name:"评分",types:["a"]},{name:"留言板",types:["b"]},{name:"复选框",types:["c"]},{name:"阅读量",types:["d"]},{name:"广告",types:["g"]},{name:"形状",types:["h"]},{name:"计数器",types:["i"]},{name:"链接",types:["l"]},{name:"地图",types:["m"]},{name:"随机图片",types:["n"]},{name:"图集",types:["p"]},{name:"单选框",types:["r"]},{name:"音效",types:["s"]},{name:"图表",types:["t"]},{name:"视频",types:["v"]},{name:"互动视频",types:["o"]},{name:"微信声音",types:["w01","w02"]},{name:"下拉列表",types:["z"]},{name:"计时",types:["e","f"]},{name:"投票",types:["j","k"]},{name:"重力感应",types:["q"]},{name:"画板",types:["u"]},{name:"打赏",types:["11"]},{name:"随机事件",types:["10"]},{name:"上传图片",types:["upload"]},{name:"日期",types:["14"]},{name:"验证码",types:["12"]},{name:"照片墙",types:["13"]},{name:"长按按钮",types:["16"]}];e.exports=n},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(342),c=n(149),u=n(54).randomId,l=function(){function e(t){return o(this,e),this.page=t,this.page.pageJson.groups=this.page.pageJson.groups||[],this.oGroups=this.page.pageJson.groups,this.nGroups=[],this.items=[],this.isSupportNested=!0,this.AoRefreshItemsDataStructure(),this}return s(e,[{key:"ApiSwitchItemPosition",value:function(e,t,n){this.AoSwitchItemPosition(e,t,n)}},{key:"ApiInitGroupDisplayed",value:function(e){this.AoInitGroupDisplayed(e)}},{key:"ApiInitGroupLocked",value:function(e){this.AoInitGroupLocked(e)}},{key:"ApiRefreshItemsDataStructure",value:function(){this.AoRefreshItemsDataStructure()}},{key:"ApiDeleteItems",value:function(e,t){var n=[];return 1===t?(this.AoRemoveItemsInItemsByIds(e),this.AoResetCompsIndexInItems(),this.AoRemoveEmptyNGroups(),this.AoRevertItems2Json(),this.AoRefreshItemsDataStructure()):0===t&&this.UtilGetAllCompsInItems(e,n),n}},{key:"ApiRefreshSizeAndPos",value:function(e){this.AoRefreshSizeAndPos(e)}},{key:"ApiDragCallback",value:function(){this.AoDragGroup2Group(),this.AoResetCompsIndexInItems(),this.AoRemoveEmptyNGroups(),this.AoRevertItems2Json(),this.AoRefreshItemsDataStructure()}},{key:"ApiCopyItems",value:function(e,t,n,i){var o=this.AoCopyItems(e,t,n,i);return this.AoRevertItems2Json(),this.AoResetCompsIndexInItems(),this.ApiRefreshItemsDataStructure(),o}},{key:"ApiUnGroup",value:function(e){this.AoUnGroup(e),this.AoRevertItems2Json(),this.AoRefreshItemsDataStructure()}},{key:"ApiGroupItems",value:function(e){return this.AoGroupItems(e)}},{key:"ApiResetCompsIndexInItems",value:function(){this.AoResetCompsIndexInItems(),this.AoUpdateGroupsIndex(),this.AoRevertItems2Json()}},{key:"ApiFormatItemsGap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.AoFormatItemsGap(e,t)}},{key:"ApiUpdateItemIndex",value:function(e,t){this.AoUpdateItemIndex(e,t),this.AoResetCompsIndexInItems()}},{key:"ApiRevertItems2Json",value:function(){this.AoRevertItems2Json()}},{key:"ApiReLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&this.UtilIsGroupItem(e)&&this.AoReLayout(e,t,n)}},{key:"UtilSwitchInArr",value:function(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}},{key:"UtilOpenFormGroup",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(this.UtilIsGroupItem(n))return!1;var i=n.type.toString();if("a"!==i&&"z"!==i&&"c"!==i&&"r"!==i&&"6"!==i&&["5","501","502","503","504"].indexOf(i)===-1)return!1}return!0}},{key:"UtilIsGroupItem",value:function(e){return!!e&&!e.compJson&&e.id&&e.id.toString().indexOf("group")!==-1}},{key:"UtilGetAllCompsInGroup",value:function(e){var t=this,n=[];return e.comps.forEach(function(e){t.UtilIsGroupItem(e)?n.push.apply(n,i(t.UtilGetAllCompsInGroup(e))):n.push(e)}),n}},{key:"UtilIsHaveSubGroup",value:function(e){if(this.UtilIsGroupItem(e)){for(var t=0;t<e.comps.length;t++)if(this.UtilIsGroupItem(e.comps[t]))return!0;return!1}return!1}},{key:"UtilFindFirstGroupInItems",value:function(e){for(var t=0;t<e.length;t++)if(this.UtilIsGroupItem(e[t]))return e[t];return null}},{key:"UtilGetItemLayer",value:function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(this.UtilIsTwoItemSame(e,n))return{layer:0,parent:this.items,index:t};if(this.UtilIsGroupItem(n))for(var i=0;i<n.comps.length;i++){var o=n.comps[i];if(this.UtilIsTwoItemSame(e,o))return{layer:1,parent:n,index:i};if(this.UtilIsGroupItem(o))for(var r=0;r<o.comps.length;r++){var s=o.comps[r];if(this.UtilIsTwoItemSame(e,s))return{layer:2,parent:o,index:r}}}}return{layer:0,parent:this.items}}},{key:"UtilIsTwoItemSame",value:function(e,t){var n=this.UtilIsGroupItem(e),i=this.UtilIsGroupItem(t);if(n^i)return!1;var o=n?e.id:e.compJson.id,r=i?t.id:t.compJson.id;return o===r}},{key:"UtilFindGroupByItemId",value:function(e){return this.nGroups.find(function(t){return t.compIds.indexOf(e)!==-1})}},{key:"UtilFindGroupById",value:function(e){return this.nGroups.find(function(t){return t.id===e})}},{key:"UtilFindFunctionTemplateByComps",value:function(e){if(!e||!e.length)return null;for(var t=null,n=null,i=0;i<e.length;i++)if(!this.UtilIsGroupItem(e[i])){var o=this.UtilGetItemLayer(e[i]);if(2===o.layer){t=o.parent,n=this.UtilFindGroupByItemId(t.id);break}1===o.layer&&(n=t=o.parent)}return n}},{key:"UtilIsGroupInAnotherGroup",value:function(e){if(e){for(var t=0;t<this.nGroups.length;t++)for(var n=0;n<this.nGroups[t].comps.length;n++){var i=this.nGroups[t].comps[n];if(this.UtilIsGroupItem(i)&&i.id===e.id)return!0}return!1}return!1}},{key:"UtilGetAllCompsInItems",value:function(e,t){var n=this;(e||this.items).forEach(function(e){n.UtilIsGroupItem(e)?n.UtilGetAllCompsInItems(e.comps,t):t.push(e)})}},{key:"UtilIsCompsInGroups",value:function(e){if(!e||!e.length)return!0;for(var t=0;t<e.length;t++)for(var n=0;n<this.nGroups.length;n++)if(this.nGroups[n].compIds.indexOf(e[t])!==-1)return!0;return!1}},{key:"UtilIsNestedCase",value:function(e){for(var t=this,n=0;n<e.length;n++){var i=e[n];if(this.UtilIsGroupItem(i)){var o=function(){var n=t.UtilFindGroupByItemId(i.id);if(n&&e.findIndex(function(e){return t.UtilIsTwoItemSame(e,n)})!==-1)return{v:!0}}();if("object"===("undefined"==typeof o?"undefined":r(o)))return o.v}else{var s=function(){var n=t.UtilFindGroupByItemId(i.compJson.id),o=n?t.UtilFindGroupByItemId(n.id):null;return n&&e.find(function(e){return t.UtilIsTwoItemSame(e,n)})?{v:!0}:o&&e.find(function(e){return t.UtilIsTwoItemSame(e,o)})?{v:!0}:void 0}();if("object"===("undefined"==typeof s?"undefined":r(s)))return s.v}}return!1}},{key:"UtilComputeItemIndex",value:function(e){var t=this;if(this.UtilIsGroupItem(e)){var n=0;return e.comps.forEach(function(e){var i=t.UtilComputeItemIndex(e);n=n<i?i:n}),n}return e.compJson.css.zIndex}},{key:"UtilFindItemsMinTop",value:function(e){var t=this,n=Number.MAX_VALUE;return e.forEach(function(e){var i=t.UtilIsGroupItem(e)?e.frame.css.top:e.compJson.css.top;n=Math.min(n,i)}),n}},{key:"UtilGetItemPageId",value:function(e){return this.UtilIsGroupItem(e)?this.UtilGetAllCompsInGroup(e)[0].eqxPage.pageJson.id:e.eqxPage.pageJson.id}},{key:"UtilFindMaxPoint",value:function(e,t){var n=void 0;switch(t){case"bottom":
        var i=void 0;e.forEach(function(e){(!i&&0!==i||i<e.y)&&(i=e.y,n=e)});break;case"left":var o=void 0;e.forEach(function(e){(!o&&0!==o||o>e.x)&&(o=e.x,n=e)});break;case"top":var r=void 0;e.forEach(function(e){(!r&&0!==r||r>e.y)&&(r=e.y,n=e)});break;case"right":var s=void 0;e.forEach(function(e){(!s&&0!==s||s<e.x)&&(s=e.x,n=e)})}return n}},{key:"UtilIsGroupHasMove",value:function(e){var t=e.settings,n=t.filter(function(e){return"addGroup"===e.type||"moveGroup"===e.type});return n.length>0}},{key:"UtilFindItemsLeft",value:function(e){var t=this,n=Number.MAX_VALUE;return e.forEach(function(e){var i=t.UtilIsGroupItem(e)?parseFloat(e.frame.css.left):parseFloat(e.compJson.css.left);i<n&&(n=i)}),n}},{key:"AoInitGroupsLockedAndDisplayed",value:function(){var e=this;this.nGroups.forEach(function(t){e.AoInitGroupDisplayed(t),e.AoInitGroupLocked(t)})}},{key:"AoInitGroupDisplayed",value:function(e){var t=0,n=this.UtilGetAllCompsInGroup(e);n.forEach(function(e){return t+=e.compJson.properties.initType}),t===n.length?e.displayed="1":t===2*n.length?e.displayed="2":e.displayed="1"}},{key:"AoSwitchItemPosition",value:function(e,t,n){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=this.UtilGetItemLayer(e).parent;if(this.UtilIsGroupItem(r)){var s=r.comps.slice().sort(function(e,t){var n=i.UtilIsGroupItem(e)?e.frame.css.top:e.compJson.css.top,o=i.UtilIsGroupItem(t)?t.frame.css.top:t.compJson.css.top;return n-o});o&&(s=s.filter(function(e){return i.UtilIsGroupItem(e)&&i.UtilIsGroupHasMove(e)}));var a=s.findIndex(function(t){return i.UtilIsTwoItemSame(t,e)});"+"===t&&a>0?this.UtilSwitchInArr(s,a,a-1):"-"===t&&a<s.length-1?this.UtilSwitchInArr(s,a,a+1):"--"===t&&s.push(s.splice(a,1)[0]),this.AoUpdateItemsTop(s),this.AoReLayout(r,n,0)}}},{key:"AoUpdateItemsTop",value:function(e,t){if(e&&e.length)for(var n=t||this.UtilFindItemsMinTop(e),i=0;i<e.length;i++)this.AoUpdateItemTop(e[i],n+i)}},{key:"AoUpdateItemTop",value:function(e,t){if(this.UtilIsGroupItem(e)){var n=parseFloat(this.UtilIsGroupItem(e)?e.frame.css.top:e.compJson.css.top),i=t-n;this.UtilGetAllCompsInGroup(e).forEach(function(e){e.updatePos2(e.compJson.css.left,e.compJson.css.top+i)}),this.AoRefreshSizeAndPos(e)}else e.updatePos2(e.compJson.css.left,t)}},{key:"AoInitGroupLocked",value:function(e){var t=0,n=this.UtilGetAllCompsInGroup(e);n.forEach(function(e){return t+=e.compJson.properties.editLock?1:0}),t===n.length?e.locked=1:e.locked=0}},{key:"AoRemoveItemsInItemsByIds",value:function(e){var t=this,n=null;this.items=this.items.filter(function(i){return t.UtilIsGroupItem(i)?(i.comps=i.comps.filter(function(i){return t.UtilIsGroupItem(i)?(i.comps=i.comps.filter(function(t){return n=e.indexOf(t.compJson.id),n!==-1&&e.splice(n,1),n===-1}),n=e.indexOf(i.id),n!==-1&&e.splice(n,1),n===-1):(n=e.indexOf(i.compJson.id),n!==-1&&e.splice(n,1),n===-1)}),n=e.indexOf(i.id),n!==-1&&e.splice(n,1),n===-1):(n=e.indexOf(i.compJson.id),n!==-1&&e.splice(n,1),n===-1)}),this.AoRevertItems2Json()}},{key:"AoInitGroupsId",value:function(){var e=this;this.oGroups.forEach(function(t){return e.AoGenerateRandomGroupId(t)})}},{key:"AoDragGroup2Group",value:function(e){var t=this;!this.isSupportNested&&(e||this.items).forEach(function(e){t.UtilIsGroupItem(e)&&t.UtilIsHaveSubGroup(e)&&(e.comps=t.UtilGetAllCompsInGroup(e))})}},{key:"AoRefreshItemsDataStructure",value:function(){this.AoInitGroupsId(),this.AoUpdateItems(),this.AoUpdateGroupsIndex(),this.AoUpdateItemsByIndex(),this.AoInitGroupsSizeAndPos(),this.AoInitGroupsLockedAndDisplayed()}},{key:"AoCopyItems",value:function(e,t,n,o){var r=this,s=[];return e.slice().sort(function(e,t){var n=r.UtilIsGroupItem(e)?e.index:e.compJson.css.zIndex,i=r.UtilIsGroupItem(t)?t.index:t.compJson.css.zIndex;return n-i}).forEach(function(e){if(r.UtilIsGroupItem(e))s.push.apply(s,i(r.AoCopyGroup(e,t,n,o)));else{var a=r.AoCopyComp(e,t,n,o);a&&s.push(a)}}),s}},{key:"AoCopyComp",value:function(e,t,n,i,o,r,s){var a=this,c=JSON.parse(JSON.stringify(e.compJson));1===n?(c.css.left+=10,c.css.top+=10):2===n&&(c.css.top+=10),i=i.filter(function(e){return"e"===e.sourceType&&e.sourceId===c.id}).map(function(e){return delete e.$$hashKey,JSON.parse(JSON.stringify(e))});var u=c.id;delete c.id,delete c.css.zIndex;var l=this.page.addCompJson(c),p=l?this.page.initEqxCompByJson(l):null,h=l.id;if(this.AoCopySettings(h,u,t,o,r),1==t&&this.AoInnerWithOuterSettings(h,u,s),p&&(this.page.renderEqxComp(p),i.length&&i.forEach(function(e){e.sourceId===e.targetId&&(e.targetId=l.id),e.sourceId=l.id;var t=a.page.pageJson.properties.triggerGroup.findIndex(function(t){return JSON.stringify(t)===JSON.stringify(e)});t===-1&&a.page.pageJson.properties.triggerGroup.push(e)}),1===l.properties.initType?p.startAnimation({maxCount:1,reset:!0}):p.eleHide(),this.items.unshift(p),t)){var d=this.UtilGetItemLayer(e);d.layer&&d.parent.comps.unshift(this.items.shift())}return p}},{key:"AoCopySettings",value:function(e,t,n,i,o){i&&(n?i.forEach(function(n){n.type.indexOf("editGroup")>-1&&n.comps.forEach(function(n){n.comps[0].id===t&&(n.comps[0].id=e)})}):i.forEach(function(n){n.comps.forEach(function(n){n.id===t&&(n.id=e)})})),o&&o.forEach(function(n){n.type.indexOf("editGroup")>-1&&n.comps.forEach(function(n){n.comps[0].id===t&&(n.comps[0].id=e)})})}},{key:"AoCopyGroup",value:function(e,t,n,i){var o=this,r=[],s=JSON.parse(JSON.stringify(e.settings)),a=t?this.UtilFindGroupByItemId(e.id):null;e.comps.slice().sort(function(e,t){var n=o.UtilIsGroupItem(e)?e.index:e.compJson.css.zIndex,i=o.UtilIsGroupItem(t)?t.index:t.compJson.css.zIndex;return n-i}).forEach(function(e){var c=e.settings?JSON.parse(JSON.stringify(e.settings)):null,u=o.UtilIsGroupItem(e)?o.AoGroupItems(e.comps.map(function(e){return o.AoCopyComp(e,0,n,i,s,c)}),c,e.id):o.AoCopyComp(e,t,n,i,s,c,a);u.settings=c,e.type&&1===e.type&&(u.type=1),u&&r.push(u)});var c=this.UtilFindGroupById(this.AoGroupItems(r).id);if(c.settings=s,c.type=1===e.type?1:null,t){var u=this.UtilGetItemLayer(e);u.layer&&u.parent.comps.unshift(this.items.shift()),this.AoInnerGroupSettings(c.id,c.settings)}var l=[];return this.UtilGetAllCompsInItems(r,l),l}},{key:"AoInnerGroupSettings",value:function(e,t){t.forEach(function(t){t.type.indexOf("editGroup")<0&&t.comps.forEach(function(t){t.id=e})})}},{key:"AoInnerWithOuterSettings",value:function(e,t,n){n.settings&&n.settings.forEach(function(n){n.comps.forEach(function(i){if(i.id===t){var o={id:e,properties:i.properties};n.comps.push(o)}})})}},{key:"AoEraseItemRecursion",value:function(e){for(;;){var t=this.UtilFindFirstGroupInItems(e.comps);if(!t)break;this.AoUnGroup(t)}}},{key:"AoUnGroup",value:function(e){var t=this,n=this.UtilGetItemLayer(e),o=n.parent,r=this.UtilIsGroupItem(o)?o.comps:o;r.push.apply(r,i(e.comps)),r.splice(n.index,1),r.sort(function(e,n){var i=t.UtilIsGroupItem(e)?e.index:e.compJson.css.zIndex,o=t.UtilIsGroupItem(n)?n.index:n.compJson.css.zIndex;return o-i})}},{key:"AoGroupItems",value:function(e,t,n){var i=this,o=this;e.forEach(function(e){i.UtilIsHaveSubGroup(e)&&i.AoEraseItemRecursion(e)});var r={};return r.comps=e.slice().sort(function(e,t){var n=o.UtilIsGroupItem(e)?e.index:e.compJson.css.zIndex,i=o.UtilIsGroupItem(t)?t.index:t.compJson.css.zIndex;return n-i}),o.AoGenerateRandomGroupId(r),t&&t.forEach(function(e){e.type.indexOf("editGroup")===-1&&e.comps.forEach(function(e){e.id===n&&(e.id=r.id)})}),r.compIds=e.map(function(e){return o.UtilIsGroupItem(e)?e.id:e.compJson.id}),o.AoRemoveItemsInItemsByIds(e.map(function(e){return o.UtilIsGroupItem(e)?e.id:e.compJson.id})),o.items.unshift(r),o.AoRemoveEmptyNGroups(),r.name="组合"+(o.nGroups.length+1),this.AoRevertItems2Json(),this.AoRefreshItemsDataStructure(),r}},{key:"AoRevertItems2Json",value:function(){var e=this,t=[];this.items.forEach(function(n){return e.UtilIsGroupItem(n)&&e.AoRecursionExtractGroup(n,t)}),this.oGroups=this.page.pageJson.groups=t}},{key:"AoRecursionExtractGroup",value:function(e,t){for(var n=this,i=0;i<e.comps.length;i++){var o=e.comps[i];this.UtilIsGroupItem(o)&&this.AoRecursionExtractGroup(o,t)}var r={id:this.AoGenerateRandomGroupId(e)||e.id,name:e.name,compIds:e.comps.map(function(e){return n.UtilIsGroupItem(e)?e.id:e.compJson.id})};r.type=1===e.type?1:null,r.settings=e.settings||null,t&&t.push(r),e.id=r.id}},{key:"AoGenerateRandomGroupId",value:function(e){var t=this;e&&(e.id||!function(){for(var n=null;!n;)n="group:"+u(),t.oGroups.findIndex(function(e){return e.id===n})>-1&&(n=null);e.id=n}())}},{key:"AoTraverseFindGroupId",value:function(e,t){var n=this,i=e.comps.length;if(i){for(var o=i,r=0;r<i;r++){var s=e.comps[r];this.UtilIsGroupItem(s)&&(o===i&&(o=r),this.AoTraverseFindGroupId(s,t))}var a=o===i?{id:"group:"+e.comps[0].compJson.id,name:e.name,compIds:e.comps.map(function(e){return e.compJson.id})}:{id:"group:"+e.comps[o].id,name:e.name,compIds:e.comps.map(function(e){return n.UtilIsGroupItem(e)?e.id:e.compJson.id})};1===e.type&&(a.type=e.type,a.settings=e.settings),t&&t.push(a),e.id=a.id}}},{key:"AoRemoveEmptyNGroups",value:function(){var e=this,t=[];this.items=this.items.filter(function(n){return!e.UtilIsGroupItem(n)||(n.comps=n.comps.filter(function(n){return!e.UtilIsGroupItem(n)||(!!n.comps.length||(t.push(n.id),!1))}),!!n.comps.length||(t.push(n.id),!1))}),this.nGroups=this.nGroups.filter(function(e){return t.indexOf(e.id)===-1})}},{key:"AoRemoveEmptyOGroups",value:function(){for(var e=!0;e;){for(var t=null,n=this.oGroups,i=0;i<n.length;i++)if(!n[i].compIds.length){t=i;break}if(null===t)e=!1;else for(var o=n.splice(t,1)[0].id,r=0;r<n.length;r++){var s=n[r].compIds,a=s.indexOf(o);if(a!==-1){s.splice(a,1);break}}}this.AoRevertItems2Json(),this.AoRefreshItemsDataStructure()}},{key:"AoResetCompsIndexInItems",value:function(){var e=[];this.UtilGetAllCompsInItems(this.items,e),this.page.resetZIndex(e)}},{key:"AoUpdateItemsByIndex",value:function(e){var t=this;(e||this.items).sort(function(e,t){var n=e.compJson?e.compJson.css.zIndex:e.index,i=t.compJson?t.compJson.css.zIndex:t.index;return i-n}).forEach(function(e){t.UtilIsGroupItem(e)&&t.AoUpdateItemsByIndex(e.comps)})}},{key:"AoUpdateGroupsIndex",value:function(){var e=this;this.nGroups.forEach(function(t){t.index=e.UtilComputeItemIndex(t)})}},{key:"AoUpdateItems",value:function(e){var t=this.page.eqxCompList.slice(),n=this.nGroups=[],o=this.items=[];JSON.parse(JSON.stringify(e||this.oGroups)).forEach(function(e){e.comps=e.compIds.map(function(e){var n=null;return e.toString().indexOf("group")!==-1?(n=o.findIndex(function(t){return t.id===e}),n>=0?o.splice(n,1)[0]:null):(n=t.findIndex(function(t){return t.compJson.id===e}),n>=0?t.splice(n,1)[0]:null)}),e.comps=e.comps.filter(function(e){return!!e}),o.push(e),n.push(e)}),o.push.apply(o,i(t))}},{key:"AoInitGroupsSizeAndPos",value:function(){var e=this;this.nGroups.forEach(function(t){return e.AoRefreshSizeAndPos(t)})}},{key:"AoRefreshSizeAndPos",value:function(e){var t=[],n=this.UtilGetAllCompsInGroup(e);if(!n||!n.length)return null;n.forEach(function(e){var n=e.compJson.css,i=c.parseTransformInFloat(n.transform).rotate,o=new a(n.left,n.top,n.width,n.height),r=o.rotate2(i),s=r.nw,u=r.ne,l=r.se,p=r.sw;t.push(s),t.push(u),t.push(l),t.push(p)});var i=this.UtilFindMaxPoint(t,"top"),o=this.UtilFindMaxPoint(t,"left"),r=this.UtilFindMaxPoint(t,"bottom"),s=this.UtilFindMaxPoint(t,"right"),u={x:o.x,y:i.y},l=r.y-i.y,p=s.x-o.x,h={top:u.y,left:u.x,height:l+"px",width:p+"px"};return e.frame=e.frame||{},e.frame.css=h,e.frame.$frame&&e.frame.$frame.css(h),h}},{key:"AoReLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(t=t||10,e&&this.UtilIsGroupItem(e)){var r=e.comps.slice().sort(function(e,t){var i=n.UtilIsGroupItem(e)?e.frame.css.top:e.compJson.css.top,o=n.UtilIsGroupItem(t)?t.frame.css.top:t.compJson.css.top;return i-o});o&&(r=r.filter(function(e){return n.UtilIsGroupItem(e)&&n.UtilIsGroupHasMove(e)})),this.AoFormatItemsGap(r,t),i&&this.AoAlignItemsLeft(r,this.UtilFindItemsLeft(r)),this.AoRefreshSizeAndPos(e)}}},{key:"AoAlignItemsLeft",value:function(e,t){var n=this;e.forEach(function(e){if(n.UtilIsGroupItem(e)){var i=t-e.frame.css.left;n.UtilGetAllCompsInGroup(e).forEach(function(e){e.updatePos2(e.compJson.css.left+i,e.compJson.css.top)}),n.AoRefreshSizeAndPos(e)}else e.updatePos2(t,e.compJson.css.top)})}},{key:"AoFormatItemsGap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;n=parseFloat(n);for(var i=1;i<e.length;i++){var o=e[i],r=e[i-1],s=parseFloat(this.UtilIsGroupItem(o)?o.frame.css.top:o.compJson.css.top),a=parseFloat(this.UtilIsGroupItem(r)?r.frame.css.top:r.compJson.css.top),c=parseFloat(this.UtilIsGroupItem(r)?r.frame.css.height:r.compJson.css.height),u=a+c+n;this.UtilIsGroupItem(o)?!function(){var e=u-s;t.UtilGetAllCompsInGroup(o).forEach(function(t){t.updatePos2(t.compJson.css.left,t.compJson.css.top+e)}),t.AoRefreshSizeAndPos(o)}():o.updatePos2(o.compJson.css.left,u)}}},{key:"AoUpdateItemIndex",value:function(e,t){if(e&&t){var n=this.UtilGetItemLayer(t);switch(e){case"++":if(0===n.layer){var o;(o=this.items).unshift.apply(o,i(this.items.splice(n.index,1)))}else if(1===n.layer){var r,s;(r=n.parent.comps).unshift.apply(r,i(n.parent.comps.splice(n.index,1))),(s=this.items).unshift.apply(s,i(this.items.splice(this.UtilGetItemLayer(n.parent).index,1)))}else if(2===n.layer){var a,c,u;(a=n.parent.comps).unshift.apply(a,i(n.parent.comps.splice(n.index,1)));var l=this.UtilGetItemLayer(n.parent);(c=l.parent.comps).unshift.apply(c,i(l.parent.comps.splice(l.index,1))),(u=this.items).unshift.apply(u,i(this.items.splice(this.UtilGetItemLayer(l.parent).index,1)))}break;case"--":if(0===n.layer){var p;(p=this.items).push.apply(p,i(this.items.splice(n.index,1)))}else if(1===n.layer){var h,d;(h=n.parent.comps).push.apply(h,i(n.parent.comps.splice(n.index,1))),(d=this.items).push.apply(d,i(this.items.splice(this.UtilGetItemLayer(n.parent).index,1)))}else if(2===n.layer){var f,g,m;(f=n.parent.comps).push.apply(f,i(n.parent.comps.splice(n.index,1)));var v=this.UtilGetItemLayer(n.parent);(g=v.parent.comps).push.apply(g,i(v.parent.comps.splice(v.index,1))),(m=this.items).push.apply(m,i(this.items.splice(this.UtilGetItemLayer(v.parent).index,1)))}break;case"+1":if(0===n.layer&&n.index>0)this.UtilSwitchInArr(this.items,n.index,n.index-1);else if(1===n.layer&&n.index>0)this.UtilSwitchInArr(n.parent.comps,n.index,n.index-1);else if(1===n.layer&&0===n.index){var y=this.UtilGetItemLayer(n.parent);y.index>0&&this.UtilSwitchInArr(this.items,y.index,y.index-1)}else if(2===n.layer&&n.index>0)this.UtilSwitchInArr(n.parent.comps,n.index,n.index-1);else if(2===n.layer&&0===n.index){var b=this.UtilGetItemLayer(n.parent);if(b.index>0)this.UtilSwitchInArr(b.parent.comps,b.index,b.index-1);else if(0===b.index){var x=this.UtilGetItemLayer(b.parent);x.index>0&&this.UtilSwitchInArr(this.items,x.index,x.index-1)}}break;case"-1":if(0===n.layer&&n.index<this.items.length-1)this.UtilSwitchInArr(this.items,n.index,n.index+1);else if(1===n.layer){var w=this.UtilGetItemLayer(n.parent);n.index<n.parent.comps.length-1?this.UtilSwitchInArr(n.parent.comps,n.index,n.index+1):n.index===n.parent.comps.length-1&&w.index<this.items.length-1&&this.UtilSwitchInArr(this.items,w.index,w.index+1)}else if(2===n.layer)if(n.index<n.parent.comps.length-1)this.UtilSwitchInArr(n.parent.comps,n.index,n.index+1);else if(n.index===n.parent.comps.length-1){var S=this.UtilGetItemLayer(n.parent);if(S.index<S.parent.comps.length-1)this.UtilSwitchInArr(S.parent.comps,S.index,S.index+1);else if(S.index===S.parent.comps.length-1){var k=this.UtilGetItemLayer(S.parent);k<this.items.length-1&&this.UtilSwitchInArr(this.items,k.index,k.index+1)}}}}}}]),e}();e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(343),s=n(150).toInt,a=Math.abs,c=Math.hypot,u=Math.atan,l=Math.sin,p=Math.cos,h=n(344),d=h.deg2arc,f=h.arc2deg,g=function(){function e(){i(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];switch(n.length){case 1:var s=new r(n[0].p1),a=new r(n[0].p2);break;case 2:s=new r(n[0]),a=new r(n[1]);break;case 3:s=new r(n[0]),a=new r(s.x+n[1],s.y+n[2]);break;case 4:s=new r(n[0],n[1]),a=new r(s.x+n[2],s.y+n[3]);break;default:throw new Error("Invalid args for Rect")}var c=s.x,u=a.x,l=s.y,p=a.y;if(c>u||l>p){if(c>u){var h=[u,c];c=h[0],u=h[1]}if(l>p){var d=[p,l];l=d[0],p=d[1]}s=new r(c,l),a=new r(u,p)}this.p1=s,this.p2=a,this.width=a.x-s.x,this.height=a.y-s.y}return o(e,[{key:"toString",value:function(){return"p1: "+this.p1+" p2: "+this.p2+" w: "+this.width+" h: "+this.height+" center: "+this.center()}},{key:"contains",value:function(t){return t instanceof r?this.containsPoint(t):t instanceof e&&this.containsRect(t)}},{key:"move",value:function(e,t){this.p1.x+=e,this.p2.x+=e,this.p1.y+=t,this.p2.y+=t}},{key:"moveX",value:function(e){this.move(e,0)}},{key:"moveY",value:function(e){this.move(0,e)}},{key:"containsPoint",value:function(e){return e.x>=this.p1.x&&e.x<=this.p2.x&&e.y>=this.p1.y&&e.y<=this.p2.y}},{key:"containsRect",value:function(e){return this.containsPoint(e.p1)&&this.containsPoint(e.p2)}},{key:"center",value:function(){var e=(this.p1.x+this.p2.x)/2,t=(this.p1.y+this.p2.y)/2;return new r(e,t)}},{key:"rotate",value:function(t){var n=this.width,i=this.height,o=this.center(),h=o.x,g=o.y,m=c(n,i),v=f(u(i/n)),y=d(v+t),b=d(v-t),x=a(m*p(y)/2),w=a(m*l(y)/2),S=a(m*p(b)/2),k=a(m*l(b)/2),I=function(e,t){return e-t},P=[x,S].reduce(function(e,t){return e.concat(h+t,h-t)},[]).sort(I),_=[w,k].reduce(function(e,t){return e.concat(g+t,g-t)},[]).sort(I),E=new r(s(P[0]),s(_[0])),$=new r(s(P[P.length-1]),s(_[_.length-1]));return new e(E,$)}},{key:"rotate2",value:function(e){var t=this.width,n=this.height,i=this.center(),o=i.x,a=i.y,h=c(t,n),g=f(u(n/t)),m=d(g+e),v=d(g-e),y=h*p(m)/2,b=h*l(m)/2,x=h*p(v)/2,w=h*l(v)/2;return{nw:new r(s(o-y),s(a-b)),ne:new r(s(o+x),s(a-w)),se:new r(s(o+y),s(a+b)),sw:new r(s(o-x),s(a+w))}}}],[{key:"getContainingRect",value:function(t){var n=Number.MAX_VALUE,i=Number.MAX_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE,a=[];return t.forEach(function(t){t instanceof e&&a.push(t.p1,t.p2),t instanceof r&&a.push(t)}),a.forEach(function(e){var t=e.x,r=e.y;t<n&&(n=t),t>o&&(o=t),r<i&&(i=r),r>s&&(s=r)}),new e(new r(n,i),new r(o,s))}}]),e}();e.exports=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(342),s=function(){function e(){i(this,e);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];if(1===n.length){var r=n[0];this.x=r.x,this.y=r.y}else{if(2!==n.length)throw new(Function.prototype.bind.apply(Error,[null].concat(["Invalid args for Point"],n)));this.x=n[0],this.y=n[1]}}return o(e,[{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"moveX",value:function(e){return this.move(e,0)}},{key:"moveY",value:function(e){return this.move(0,e)}},{key:"move",value:function(e,t){return this.x+=e,this.y+=t,this}},{key:"offset",value:function(t){return new e(t.x-this.x,t.y-this.y)}},{key:"update",value:function(e,t){this.x=e,this.y=t}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"between",value:function(e,t){return new r(e,t).contains(this)}},{key:"inRect",value:function(e){return e.contains(this)}}]),e}();e.exports=s},function(e,t){"use strict";function n(e){return e/180*Math.PI}function i(e){return 180*e/Math.PI}e.exports={deg2arc:n,arc2deg:i}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.page=t,this.currentIndex=0,this.previousIndex=-1,this.initScreensDataStructure(),this.initFirstScreen(),this.switch2FirstScreen()}return o(e,[{key:"isCompInCurrentScreen",value:function(e){var t=this.getCurrentScreen();return!!t.compIds.find(function(t){return t===e})}},{key:"getCurrentScreen",value:function(){return this.screens[this.currentIndex]}},{key:"getPreviousScreen",value:function(){return this.screens[this.previousIndex]}},{key:"initScreensDataStructure",value:function(){var e=this.page.pageJson,t=e.extend=e.extend||{};return this.screens=t.screens=t.screens||[],this}},{key:"switch2FirstScreen",value:function(){if(this.screens.length){this.showScreen(this.screens[0]);for(var e=1;e<this.screens.length;e++)this.hideScreen(this.screens[e])}}},{key:"initFirstScreen",value:function(){if(!this.screens.length){var e=this.page.pageJson,t=e.elements,n={compIds:[],index:0};return this.screens.push(n),this.insertComps2Screen(t,n),this}}},{key:"findImageCompInScreen",value:function(e){var t=this.getCompsInScreen(e);return t.find(function(e){var t=e.compJson.properties;return!!t.pip})}},{key:"insertComps2Screen",value:function(e,t){var i;if(e&&e.length&&t)return e=e.filter(function(e){return!t.compIds.find(function(t){return t===e.id})&&"16"!==e.type}).map(function(e){return e.id}),(i=t.compIds).push.apply(i,n(e)),t}},{key:"updateCompsTranslateZ",value:function(e,t,n){if(e&&e.length)return e.forEach(function(e){var i=e.compJson.properties;i.translate3dZ=t*(n||320)}),e}},{key:"getCompsInScreen",value:function(e){if(!e)return[];var t=[],n=this.page.eqxCompList;return e.compIds.forEach(function(e){var i=n.find(function(t){return t.compJson.id===e});i&&t.push(i)}),t}},{key:"removeCompsFromScreen",value:function(e,t){if(e&&e.length&&t){for(var n=function(n){var i=t.compIds.findIndex(function(t){return t===e[n]});i!==-1&&t.compIds.splice(i,1)},i=0;i<e.length;i++)n(i);return t}}},{key:"addScreen",value:function(e){var t={compIds:[],index:e?e+1:this.screens.length};return e?this.screens.splice(e,0,t):this.screens.push(t),this}},{key:"deleteScreen",value:function(e){var t=this,n=this.screens[e],i=this.getCompsInScreen(n);this.screens.splice(e,1),this.updateScreensIndex(),i.forEach(function(e){return t.page.deleteEqxComp(e)})}},{key:"copyScreen",value:function(e){function t(e){var t=JSON.parse(JSON.stringify(e.compJson));delete t.id,delete t.css.zIndex;var i=n.page.addCompJson(t),o=i?n.page.initEqxCompByJson(i):null;return o&&n.page.renderEqxComp(o),o}var n=this,i=this.screens[e],o=this.getCompsInScreen(i),r=o.map(t),s={compIds:r.map(function(e){return e.compJson.id}),index:e+1};return this.screens.splice(e+1,0,s),this.updateScreensIndex(),r}},{key:"updateScreensIndex",value:function(){this.screens.forEach(function(e,t){return e.index=t})}},{key:"showScreen",value:function(e){var t=this.page.eqxCompList.slice();return e.compIds.forEach(function(e){var n=t.find(function(t){return t.compJson.id===e});n&&n.$li&&n.$li.show()}),e}},{key:"hideScreen",value:function(e){if(e){var t=this.page.eqxCompList.slice();return e.compIds.forEach(function(e){var n=t.find(function(t){return t.compJson.id===e});n&&n.$li&&n.$li.hide()}),e}}}]),e}();e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(78),s=r.RAW_EVENT,a=r.EQX_EVENT,c=n(27).throttle,u="ontouchstart"in window,l=u?"touchstart":"mousedown",p=u?"touchmove":"mousemove",h=u?"touchend":"mouseup",d=u?"touchcancel":"mouseleave",f=n(24).openUrl,g=function(){function e(t){i(this,e),this.iteratorScene(t)}return o(e,[{key:"iteratorScene",value:function(e){var t=this,n=null;e.pageJson.properties.triggerGroup&&e.pageJson.properties.triggerGroup instanceof Array&&e.pageJson.properties.triggerGroup.forEach(function(i){var o=e.getEqxCompById(i.targetId);o&&(i.eventType===s.click?(n=e.getEqxCompById(i.sourceId),n&&n.$li&&n.$li.on("click",function(){t.triggerEleByState(o,i,e)})):i.eventType===s.shake?t.addPageTrigger(o,i,e):i.eventType===s.taphold?(n=e.getEqxCompById(i.sourceId),n&&n.$li&&t.addTapholdTrigger(n,o,i,e)):i.eventType===s.slide?(n=e.getEqxCompById(i.sourceId),n&&n.$li&&t.addSlideTrigger(n,o,i,e)):i.eventType===s.mediaEnded?(n=e.getEqxCompById(i.sourceId),n&&n.$context&&("o"===n.compJson.type?n.$context.on("ended",function(){t.triggerEleByState(o,i,e)}):n.soundAgent&&$(n.soundAgent.audio).on("ended",function(){t.triggerEleByState(o,i,e)}))):i.eventType===s.mediaCanplay?(n=e.getEqxCompById(i.sourceId),n&&n.$context&&("o"===n.compJson.type?n.$context.on("canplay",function(){t.triggerEleByState(o,i,e)}):n.soundAgent&&$(n.soundAgent.audio).on("canplay",function(){t.triggerEleByState(o,i,e)}))):i.eventType===s.mediaPlaying?(n=e.getEqxCompById(i.sourceId),n&&n.$context&&("o"===n.compJson.type?n.$context.on("playing",function(){t.triggerEleByState(o,i,e)}):n.soundAgent&&$(n.soundAgent.audio).on("playing",function(){t.triggerEleByState(o,i,e)}))):i.eventType===s.animStart?(n=e.getEqxCompById(i.sourceId),n&&n.$boxDiv&&n.$boxDiv.on("animationstart",function(){t.triggerEleByState(o,i,e)})):i.eventType===s.animEnd?(n=e.getEqxCompById(i.sourceId),n&&n.$boxDiv&&n.$boxDiv.on("animationend",function(){t.triggerEleByState(o,i,e)})):i.eventType===s.animIteration&&(n=e.getEqxCompById(i.sourceId),n&&n.$boxDiv&&n.$boxDiv.on("animationiteration",function(){t.triggerEleByState(o,i,e)})))})}},{key:"addSlideTrigger",value:function(e,t,n,i){function o(o){o.stopPropagation();var r=u?o.originalEvent.targetTouches[0].pageX:o.pageX,l=u?o.originalEvent.targetTouches[0].pageY:o.pageY;m=l-a,g=r-s,(Math.abs(g-f.left)>10||Math.abs(m-f.top)>10)&&c(function(e,t){d.triggerEleByState(e,t,i)},50,100)(t,n),e.$li.css({top:m+"px",left:g+"px"})}function r(){g=f.left,m=f.top,e.$li.css({top:m,left:g}),$(e.$li).off(p,o),$(document).off(h,r)}var s=0,a=0,d=this,f=e.compJson.css,g=f.left,m=f.top;e.$li.on(l,function(t){t.preventDefault(),t.stopPropagation();var n=u?t.originalEvent.targetTouches[0].pageX:t.pageX,i=u?t.originalEvent.targetTouches[0].pageY:t.pageY;s=n-g,a=i-m,$(e.$li).on(p,o),$(document).on(h,r)})}},{key:"addTapholdTrigger",value:function(e,t,n,i){function o(t){t.preventDefault(),t.stopPropagation(),v=u?t.originalEvent.targetTouches[0].pageX:t.pageX,y=u?t.originalEvent.targetTouches[0].pageY:t.pageY,e.$li.bind(h,c).bind(d,c).bind(p,r),f=(new Date).getTime()/1e3,s()}function r(e){var t=u?e.originalEvent.targetTouches[0].pageX:e.pageX,n=u?e.originalEvent.targetTouches[0].pageY:e.pageY;(Math.abs(t-v)>10||Math.abs(n-y)>10)&&c()}function s(){var e=(new Date).getTime()/1e3,o=e-f;o>=2?(m.triggerEleByState(t,n,i),b=!0):g=setTimeout(s,500)}function c(){if(b){if(n.targetStateReverse){var o=JSON.parse(JSON.stringify(n));switch(o.targetState){case a.show:o.targetState=a.hide,m.triggerEleByState(t,o,i);break;case a.hide:o.targetState=a.show,m.triggerEleByState(t,o,i);break;case a.play:m.triggerEleByState(t,n,i)}}b=!1}clearTimeout(g),e.$li.unbind(h,c).unbind(d,c).unbind(p,r)}var f=0,g=null,m=this,v=0,y=0,b=!1;e.$li.find("img").addClass("taphold_image"),e.$li.on(l,o)}},{key:"addPageTrigger",value:function(e,t,i){if(window.DeviceMotionEvent){this.shakeAudio||(this.shakeAudio=document.createElement("audio"),this.shakeAudio.src=n(347));var o=this,r=4e3,s=0,a=0,c=0,u=0,l=100;window.addEventListener("devicemotion",function(n){var p=n.accelerationIncludingGravity,h=p.x,d=p.y,f=p.z,g=(new Date).getTime();if(g-s>l){var m=parseInt(g-s);s=g;var v=Math.abs(h+d+f-a-c-u)/m*1e4;v>r?(l=2e3,o.triggerEleByState(e,t,i)):l=100,a=h,c=d,u=f}},!1)}}},{key:"triggerEleByState",value:function(e,t,n){switch(window._tracker_api_&&window._tracker_api_.trigger&&window._tracker_api_.trigger(n.pageJson.id+"_"+t.sourceId,t.eventType),t.targetState){case a.show:setTimeout(function(){e.eleShow(),e.triggerHide=!1},1e3*t.delay);break;case a.hide:setTimeout(function(){e.eleHide(),e.triggerHide=!0},1e3*t.delay);break;case a.random:e.busy||(e.busy=!0,setTimeout(function(){e.showRandomImg(),e.busy=!1},1e3*t.delay));break;case a.play:"o"==e.compJson.type?e.playVideo():e.soundAgent&&(e.soundAgent.audio.paused?e.soundAgent.startPlay():e.soundAgent.stopPlay(),$(e.soundAgent.audio).on("ended",function(){return e.soundAgent.manager.onEnd(e.soundAgent)}));break;case a.link:setTimeout(function(){t.targetContent.startsWith("http://")&&window.location.href.startsWith("https://")&&(t.targetContent=t.targetContent.replace("http://","https://")),f(t.targetContent,e.compJson.pageId)},1e3*t.delay);break;case a.page:setTimeout(function(){e.eqxScene.pageScroll.goToPageById(t.targetContent)},1e3*t.delay);break;case a.phone:window.location.href="tel:"+t.targetContent;break;case a.position:var i=e.compJson.css.top;-i>0?n.touchPos=0:-i<n.pLen?n.touchPos=n.pLen:n.touchPos=-i,n.doTransform(n.touchPos,100);break;case a.anim:e.eleHide(),e.$li.offset(),e.eleShow();break;default:return!1}}}]),e}();e.exports=g},function(e,t,n){e.exports=n.p+"images/wxShake-3a1ea8.mp3"},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(131),c=n(24).resolveUrl,u=n(22),l=n(25).isWeixin,p=n(83).getWxJSSDK,h=n(25).mobilecheck,d=n(25).isIOS,f=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.manager=n;var s=r.master.pageJson.properties.music;return r.soundJson=s,r.type=6,l()&&(r.wxJssdk=p()),r.initAudio(),r.init$audio(),r.register(),r.addListeners(),r}return r(t,e),s(t,[{key:"initAudio",value:function(){this.isSoundValid()&&(this.audio=new window.Audio,this.audio.src=c(u.FILE,this.soundJson.url),this.audio.loop=!0)}},{key:"init$audio",value:function(){this.isSoundValid()&&(this.$audio=$('<div class="bgm-btn"></div>'),this.$audio.appendTo(this.master.eqxScene.$ele))}},{key:"addListeners",value:function(){var e=this;this.$audio&&this.$audio.on(h()?"touchend":"click",function(t){t.stopPropagation(),e.audio.paused?e.start():e.pause()})}},{key:"start",value:function(){var e=this.master;if(e.displayed){var t=function(e,t){4===e.readyState?(e.paused&&e.play(),t()):(e.load(),$(e).one("canplay",function(){e.play(),t()}))};if(this.isSoundValid()){var n=this,i=this.audio;l()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){t(i,function(){n.startRotate(),n.manager.onPlay(n)})}})}):t(i,function(){n.startRotate(),n.manager.onPlay(n)})}else this.manager.onPlay(this)}}},{key:"pause",value:function(){
        this.audio&&this.audio.pause(),this.stopRotate()}},{key:"hide",value:function(){this.$audio&&this.$audio.hide(),this.pause(),this.audio&&(this.audio.currentTime=0)}},{key:"destroy",value:function(){this.soundJson=null,this.audio=null,this.$audio=null}},{key:"down",value:function(){this.audio&&(this.audio.volume=.1)}},{key:"restore",value:function(){this.audio&&(this.audio.volume=1)}},{key:"startRotate",value:function(){this.$audio&&(this.$audio.show(),this.$audio.addClass("rotate"))}},{key:"stopRotate",value:function(){this.$audio&&this.$audio.removeClass("rotate")}},{key:"isSoundValid",value:function(){return!(!this.soundJson||!this.soundJson.url)}},{key:"update",value:function(e){switch(e.type){case"pause":this.pause();break;case"hide":this.hide();break;case"down":d()?this.pause():this.down();break;case"restore":d()?this.start():this.restore();break;case"play":this.start()}}}]),t}(a);e.exports=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.elements;return t.some(function(e){var t=e.type,n=e.properties.croptype;return"EqxBackground"==l[t]&&n==p["全屏背景模式"]})}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},u=n(89),l=n(70).COMP_TYPE,p=n(72).BG_CROP_TYPE,h=n(56).isBottomArrow,d=n(56).PAGE_MODE,f=n(330),g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),s=e.properties.longPage;return r.scrollMode=h(r.pageMode)?"NS":"WE",r.pLen=-(s-486),r}return r(t,e),a(t,[{key:"renderArrow",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderArrow",this).call(this),"WE"==this.scrollMode&&(this.bottomArrow=new f(d["上下翻页"]),this.$pageDiv.append(this.bottomArrow.$arrow))}},{key:"addEventListener",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addEventListener",this).call(this),this.addTouchEvent()}},{key:"active",value:function(){this.resetLongPage();var e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"active",this).call(this);return e}},{key:"resetLongPage",value:function(){this.touchPos=0,this.doTransform(0,0)}},{key:"addTouchEvent",value:function(){function e(e){l.forEach(function(t){var n=t.compJson.css.top||"";n=parseInt(n.toString().replace("px","")),n>o&&n+e<o&&!t.triggerHide&&1==t.compJson.properties.initType&&t.eleShow()})}var t=this,n=this;if("edit"!==this.eqxScene.config.mode){var i=this.pLen,o=this.height,r=this.$pageDiv,a=this.$ul,c=this.$editDiv,u=this.scrollMode,l=this.eqxCompList,p=this.$transformArea=s(this.pageJson)?c:a;this.touchPos=0;var h,d,f,g,m,v=0,y=0,b=0;r.on("mousedown touchstart",function(e){if(!n.hasCoverEffect){e.stopPropagation(),h=!0,f=0;var t=e.originalEvent,i=t.touches,o=i?t.changedTouches[0]:null;d=o?o.clientY:e.clientY,"WE"==u&&(g=o?o.clientX:e.clientX),y=n.touchPos,v=Date.now()}}),r.on("mousemove touchmove",function(o){var r=t.eqxScene.pageScroll,s=t.pageJson.properties.pageScroll.disableFlip;if(o.stopPropagation(),o.preventDefault(),h){var a=o.originalEvent,c=a.touches,l=c?c[0]:null;if(f=n.touchPos+(l?l.clientY:o.clientY)-d,"WE"===u&&(m=(l?l.clientX:o.clientX)-g,Math.abs(m)>Math.abs(f-n.touchPos)&&!t.forbidHandFlip))return m>0?r.goToPrePage():r.goToNextPage(),void(h=!1);if(f>0&&"NS"===u&&!t.forbidHandFlip&&!s)return r.goToPrePage(),h=!1,void(n.touchPos=0);if(f>i&&f<0)e(f),n.doTransform(f,0);else if(f<i-5&&"NS"===u&&!t.forbidHandFlip&&!s)return r.goToNextPage(),h=!1,void(n.touchPos=i);b=Date.now(),b-v>300&&(v=b,y=f)}}),r.on("mouseup touchend mouseleave",function(){if(h)if(h=!1,f>i&&f<0){var e=Date.now(),t=(f-y)/(e-v),o=Math.abs(t/.002),r=t*o/2;f+=r,f>0?(o=(f-0)/r*o,f=0):f<i&&(o=(f-i)/r*o,f=i),n.doTransform(f,o),n.touchPos=f,n.bottomArrow&&(n.bottomArrow.remove(),n.bottomArrow=null)}else f>0?n.touchPos=0:f<=i&&(n.touchPos=i),n.doTransform(n.touchPos,0)}),p.on("transitionend",function(t){t.target==p[0]&&e(n.touchPos)})}}},{key:"dotransformPx",value:function(){var e=this.pLen-this.touchPos;return 0===e||(e>-250&&e<0?this.touchPos=this.touchPos+e:this.touchPos=this.touchPos-250,this.doTransform(this.touchPos,300),!1)}},{key:"doTransform",value:function(e,t){var n=this;if("edit"!==this.eqxScene.config.mode){var i=this.$transformArea,o=i.find(".alock"),r=i.get(0).style.transform?i.get(0).style.transform.replace(/translate3d\(.*?\)/g,""):"none",s="translate3d(0,"+e+"px,0)";if("none"!==r&&(s=r+" "+s),this.transformEle(i,s,t),o.length>0){var a,c,u=Array.prototype.slice.call(o);u.forEach(function(i){a=i.style.transform.replace(/translate3d\(.*?\)/g,""),c="none"===a&&a?"translate3d(0,"+-e+"px,0)":"translate3d(0,"+-e+"px,0) "+a,n.transformEle($(i),c,t)})}}}},{key:"transformEle",value:function(e,t,n){if("edit"!==this.eqxScene.config.mode){if(e.css({transition:"","-webkit-transition":""}),n){var i="transform "+n+"ms ease-out";e.css({transition:i,"-webkit-transition":"-webkit-"+i})}e.css({transform:t,"-webkit-transform":"-webkit-"+t})}}}]),t}(u);e.exports=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function p(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:p(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(89),u=n(49).viewData,l=function(e){function t(e,n){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return r(t,e),s(t,[{key:"show",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this);var e=this.pageJson.properties.xb;return e&&u(e.orderId,e.taskId,e.sceneId,0),this}}]),t}(c);e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(352);var r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(this,e);var o=this.$progress=$('<div class="eqx-progress-bar"></div>'),r=this.$progressBar=$("<span></span>"),s=this.$slideNumber=$('<em class="page-tip"></em>');o.append([r,s]),this.lastText="",this.update(n,t)}return o(e,[{key:"update",value:function(e,t){var n=e+"/"+t;if(n!==this.lastText){this.lastText=n,this.$slideNumber.text(n);var i=320;this.$progressBar.css("width",i*e/t)}}},{key:"hide",value:function(){this.$progress.hide()}},{key:"show",value:function(){this.$progress.show()}}]),e}();e.exports=r},function(e,t){},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=$(window);e.on("scroll.elasticity",function(e){e.preventDefault()}).on("touchmove.elasticity",function(e){e.preventDefault()}),e.delegate("img","mousemove",function(e){e.preventDefault()})}var r=n(25),s=r.mobilecheck,a=r.tabletCheck,c=n(56).isBottomArrow,u=n(56).isRightArrow,l=n(56).PAGE_MODE,p=function d(e){var t=this;i(this,d),this.eqxScene=e;var n=e.meta.pageMode,o=e.meta.property,r=o.forbidHandFlip,c=o.triggerLoop,u=o.autoFlip,l=o.autoFlipTime,p=void 0===l?1:l;this._$app=e.$ele,this.left=this._$app.offset().left,this.top=this._$app.offset().top,this.pageList=e.eqxPageList,e.currentPage=e.currentPage||this.pageList[0],this.activePage=null,this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!1,this._isDisableFlipNextPage=!1,this._scrollMode=n,this.canHandleFlip=r,this.canAutoFlip=u,this.autoFlipInterval=p,this.autoFlipIntervalId=null,this.doScrollMoveFn=null,this.doScrollEndFn=null,this.canLoop=c,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,s()||a()||(this.windowWidth=e.width,this.windowHeight=e.height),this.startX=0,this.startY=0,this.moveDistanceX=0,this.moveDistanceY=0,this.isStart=!1,this.isNext=!1,this.isFirstTime=!0,this.flipEndTimeout=200,this.animTime=.4,this.scrolling=!1,this.$con=$("#con"),this.bindEventListeners(e);var h=this.eqxScene.currentPage.pageJson.properties.pageScroll;!this.canAutoFlip&&h.canAutoFlip&&(this.eqxScene.currentPage.autoFlipTimeOutlId=setTimeout(function(){t.goToNextPage(),clearTimeout(t.eqxScene.currentPage.autoFlipTimeOutlId),delete t.eqxScene.currentPage.autoFlipTimeOutlId},1e3*h.autoFlipTime))};e.exports=p;var h=p.prototype;h.initBook=function(){this._scrollMode==l["翻书翻页"]&&(this.eqxScene.currentPage.$section.parent().is(".flip-mask")||($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)))},h.bindEventListeners=function(){var e=this;this.setScrollMode(this._scrollMode),this.canAutoFlip&&this.startAutoFlip(),o();var t=!1;this._$app.on("mousedown touchstart",function(n){e.canHandleFlip||e.eqxScene.currentPage.pageJson.properties.pageScroll.disableFlip||(e.scrollStart(n),t=!0)}).on("mousemove touchmove",function(n){e.canHandleFlip||e.eqxScene.currentPage.pageJson.properties.pageScroll.disableFlip||t&&e.scrollMove(n)}).on("mouseup touchend mouseleave",function(n){e.canHandleFlip||e.eqxScene.currentPage.pageJson.properties.pageScroll.disableFlip||(e.scrollEnd(n),t=!1)}),$(this).on("flipend",function(t){e.eqxScene.updateProgressBar(e.activePage),setTimeout(function(){e.cssAnimation(e.eqxScene.currentPage.section.style,"Transition","none"),e.activePage.deactive().show(),e.eqxScene.currentPage.destroyed||e.eqxScene.currentPage.deactive().hide(),e.eqxScene.currentPage=e.activePage,e._isDisableFlipPage=!1,e._scrollMode!=l["放大翻页"]&&e._scrollMode!=l["交换翻页"]&&e._scrollMode!=l["掉落翻页"]||($(e.eqxScene.currentPage.section).css("z-index","1"),$(".main-page").attr("style",""));var t=e.eqxScene.currentPage.pageJson.properties.pageScroll;!e.canAutoFlip&&t.canAutoFlip&&(e.eqxScene.currentPage.autoFlipTimeOutlId=setTimeout(function(){e.goToNextPage(),clearTimeout(e.eqxScene.currentPage.autoFlipTimeOutlId),delete e.eqxScene.currentPage.autoFlipTimeOutlId},1e3*t.autoFlipTime))},e.flipEndTimeout)})},h.cssAnimation=function(e,t,n){for(var i=["","webkit","moz"],o=0,r=i.length;o<r;o++){0!=o||s()||(t=t.substring(0,1).toLowerCase()+t.substring(1,t.length));var a=n instanceof Array?n[o]:n,c=i[o]+t;e[c]=a}},h.cssAnim=function(e,t,n){for(var i=["","-webkit-","-moz-"],o=0;o<i.length;o++)e.css(i[o]+t,n)},h.getCoord=function(e){return e&&e.type.includes("mouse")?{x:e.pageX-this.left,y:e.pageY-this.top}:e&&e.type.includes("touch")?{x:e.touches?e.touches[0].pageX:e.originalEvent.touches[0].pageX,y:e.touches?e.touches[0].pageY:e.originalEvent.touches[0].pageY}:void 0},h.getMoveInit=function(e,t,n,i){var o=this.activePage;if(o)if(o.deactive(),o&&o.section.classList.contains("main-page")){o.active();var r=e?"-":"";o.section.style.webkitTransition="none",o.section.style.mozTransition="none",o.section.style.transition="none",o.section.style.webkitTransform=n+"("+r+i+"px)",o.section.style.mozTransform=n+"("+r+i+"px)",o.section.style.transform=n+"("+r+i+"px)",$(this.activePage.section).trigger("active"),t&&this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin",t)}else this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform",n+"(0px) scale(1)")},h.setCssWhenMove=function(e,t,n,i,o){if(this.activePage){var r=e?"-":"";this.cssAnim($(this.activePage.section),"transform",t+"("+r+(n-Math.abs(i))+"px)"),o!=l["上下惯性翻页"]&&o!=l["左右惯性翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale("+((n-Math.abs(i))/this.windowHeight).toFixed(3)+")"),o!=l["左右连续翻页"]&&o!=l["上下连续翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform",t+"("+i+"px)")}},h.setCssWhenEnd=function(e,t,n,i){if(i==l["上下惯性翻页"]||i==l["左右惯性翻页"])this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(0.2)");else if(i==l["左右连续翻页"]||i==l["上下连续翻页"]){var o=t>0?"":"-";this.cssAnim($(this.eqxScene.currentPage.section),"transform",e+"("+o+n+"px)")}else this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(1)");this.cssAnim($(this.activePage.section),"transform",e+"(0px)")},h.cancelFlip=function(){var e=this;this._isDisableFlipPage=!0;var t;this.setScrollFn(),this._scrollMode!=l["上下翻页"]&&this._scrollMode!=l["上下惯性翻页"]&&this._scrollMode!=l["立体翻页"]&&this._scrollMode!=l["交换翻页"]&&this._scrollMode!=l["上下连续翻页"]&&this._scrollMode!=l["掉落翻页"]||(t=this.moveDistanceY>0?-this.windowHeight:this.windowHeight,this.cssAnim($(this.activePage.section),"transform","translateY("+t+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY(0) scale(1)")),this._scrollMode!=l["左右惯性翻页"]&&this._scrollMode!=l["左右连续翻页"]||(t=this.moveDistanceX>0?-this.windowWidth:this.windowWidth,this.cssAnim($(this.activePage.section),"transform","translateX("+t+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateX(0) scale(1)")),setTimeout(function(){$(e.eqxScene.currentPage.section).attr("style",""),$(e.activePage.section).attr("style",""),e.activePage.deactive(),e._isDisableFlipPage=!1},500)},h.scrollStart=function(e){if(!this._isDisableFlipPage&&(this.initBook(),this.scrolling||(this.activePage=null),this.eqxScene.currentPage)){this.isStart=!0,this.isNext=!1,this.isFirstTime=!0,this.moveDistanceX=0,this.moveDistanceY=0;var t=this.getCoord(e);t&&(this.startX=t.x,this.startY=t.y),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this._scrollMode==l["掉落翻页"]&&(this.eqxScene.currentPage.section.style.zIndex=3)}},h.enableScroll=function(){return this.isStart&&this.pageList.length>1&&!this.eqxScene.currentPage.hasCoverEffect},h.scrollMove=function(e){if(this.enableScroll()){var t=this.getCoord(e);t&&(this.moveDistanceX=t.x-this.startX,this.moveDistanceY=t.y-this.startY),this.setScrollFn(),this.doScrollMoveFn()}},h.scrollEnd=function(e){this.scrolling=!1,this.isStart&&(this.isStart=!1,this.activePage&&(this._isDisableFlipPage=!0,this.setScrollEndAnim(),this.setScrollFn(),this.doScrollEndFn()))},h.setScrollFn=function(){var e="";switch(this._scrollMode){case l["上下翻页"]:case l["上下惯性翻页"]:e="vertical";break;case l["左右翻页"]:case l["左右惯性翻页"]:e="horizontal";break;case l["左右连续翻页"]:e="single";break;case l["立体翻页"]:e="cube";break;case l["卡片翻页"]:e="card";break;case l["放大翻页"]:e="scale";break;case l["交换翻页"]:e="swap";break;case l["上下连续翻页"]:e="verticalSingle";break;case l["掉落翻页"]:e="fall";break;case l["淡入翻页"]:e="fadeIn";break;case l["翻书翻页"]:e="book";break;case l["上下推出翻页"]:e="push";break;case l["左右推出翻页"]:e="push";break;case l["折叠翻页"]:e="flip";break;default:e="vertical"}var t=n(354)("./"+e);this.doScrollMoveFn=t[e+"Move"].bind(this),this.doScrollEndFn=t[e+"End"].bind(this)},h.getCurAndActive=function(e){if(this.scrolling)t=this.activePage;else{var t=null,n=this.pageList.indexOf(this.eqxScene.currentPage),i=this.pageList.length-1;e?n>0?t=this.pageList[n-1]:this.canLoop&&(t=this.pageList[i]):n<i?t=this.pageList[n+1]:this.canLoop&&(t=this.pageList[0])}if(t&&t.$section)return t;if(!t)throw new Error("no active page");console.log("[renderPage] nextPageId",t.pageJson.id),this.eqxScene.setNextRenderPageId(t.pageJson.id)},h.setTransition=function(e,t,n){e.style.webkitTransition="-webkit-transform "+t+"s "+n,e.style.mozTransition="-moz-transform "+t+"s "+n,e.style.transition="transform "+t+"s "+n},h.setScrollEndAnim=function(){var e;this._scrollMode!=l["立体翻页"]&&this._scrollMode!=l["卡片翻页"]||(e="cubic-bezier(0,0,0.99,1)"),e=this._scrollMode==l["掉落翻页"]?"cubic-bezier(.17,.67,.87,.13)":"linear",this._scrollMode!=l["翻书翻页"]&&(this.setTransition(this.eqxScene.currentPage.section,this.animTime,e),this.setTransition(this.activePage.section,this.animTime,e))},h.setScrollMode=function(e){_DEBUG_,this._scrollMode!==e&&(this._scrollMode=e,this._scrollMode==l["放大翻页"]||this._scrollMode==l["交换翻页"]?(this.animTime=.7,this.flipEndTimeout=200):this._scrollMode==l["翻书翻页"]?($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)):this.$turn&&($(this.eqxScene.currentPage.section).unwrap('<div class="flip-mask"></div>'),this.$turn.remove(),this.$turn=null))},h.startAutoFlip=function(){var e=this;this.pauseAutoFlip(),this.canAutoFlip&&(this.autoFlipIntervalId=setInterval(function(){e.canLoop||e.eqxScene.eqxPageList.indexOf(e.eqxScene.currentPage)!==e.eqxScene.eqxPageList.length-1?e.goToNextPage():e.pauseAutoFlip()},1e3*this.autoFlipInterval))},h.pauseAutoFlip=function(){this.autoFlipIntervalId&&clearInterval(this.autoFlipIntervalId)},h.setAutoFlipTime=function(e){this.autoFlipInterval=e},h.setAutoFlip=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.canAutoFlip=!!e},h.goToPageById=function(e){if(!this._isDisableFlipPage){this.scrolling=!0;var t=void 0,n=this.pageList.find(function(t){return e==t.pageJson.id});if(n){t=n.pageJson.num;var i=this.eqxScene.currentPage.pageJson.num;if(i!=t)return this.activePage=n,t===this.eqxScene.eqxPageList.length?this.goToPrePage():void(i>t?this.goToPrePage():i<t&&this.goToNextPage())}}},h.goToPageByIndex=function(e){var t=this.pageList[e];t&&this.goToPageById(t.pageJson.id)},h.goToLastPage=function(){this.goToPageByIndex(this.pageList.length-1)},h.goToPrePage=function(){var e=this;if(this._scrollMode==l["翻书翻页"]){this.startX=0,this.startY=0;var t=2}this.eqxScene.currentPage.autoFlipTimeOutlId&&(clearTimeout(this.eqxScene.currentPage.autoFlipTimeOutlId),delete this.eqxScene.currentPage.autoFlipTimeOutlId),t=2;var n=0;this.scrollStart();var i=setInterval(function(){n+=t,c(e._scrollMode)&&(e.moveDistanceY=n),u(e._scrollMode)&&(e.moveDistanceX=n),e.scrollMove(),n>=21&&(clearInterval(i),e.scrollEnd())},2)},h.goToNextPage=function(){var e=this,t=!0;if(this.eqxScene.currentPage.pageJson.properties.longPage&&this.activePage&&this.activePage===this.eqxScene.currentPage&&(t=this.eqxScene.currentPage.dotransformPx()),this.eqxScene.currentPage.autoFlipTimeOutlId&&(clearTimeout(this.eqxScene.currentPage.autoFlipTimeOutlId),delete this.eqxScene.currentPage.autoFlipTimeOutlId),t){if(this._scrollMode==l["翻书翻页"]){this.startX=this._$app.width(),this.startY=this._$app.height();var n=3}n=2;var i=0;this.scrollStart();var o=setInterval(function(){i-=2,c(e._scrollMode)&&(e.moveDistanceY=i),u(e._scrollMode)&&(e.moveDistanceX=i),e.scrollMove(),i<=-21&&(clearInterval(o),e.scrollEnd())},2)}},h.setHandleFlip=function(e){this.canHandleFlip=e},h.disableHandleFlip=function(){this.setHandleFlip(!1)},h.enableHandleFlip=function(){this.setHandleFlip(!0)},h.setLoop=function(e){this.canLoop=e,this.canAutoFlip&&this.startAutoFlip()}},function(e,t,n){function i(e){return n(o(e))}function o(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./PageScroll":353,"./PageScroll.js":353,"./book":355,"./book.js":355,"./book.scss":356,"./card":357,"./card.js":357,"./cube":358,"./cube.js":358,"./fadeIn":359,"./fadeIn.js":359,"./fall":360,"./fall.js":360,"./flip":361,"./flip.js":361,"./horizontal":362,"./horizontal.js":362,"./push":363,"./push.js":363,"./scale":364,"./scale.js":364,"./single":365,"./single.js":365,"./swap":366,"./swap.js":366,"./vertical":367,"./vertical.js":367,"./verticalSingle":368,"./verticalSingle.js":368};i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=354},function(e,t,n){"use strict";function i(){if(m=this,this.$flipMask=this.eqxScene.currentPage.$section.parent(),this.moveDistanceX<0?o():this.moveDistanceX>0&&r(),this.activePage){var e={x:m.moveDistanceX+m.startX,y:m.moveDistanceY+m.startY};s(e)}}function o(){if(m.isFirstTime){m.isFirstTime=!1,g&&f?m.isRightCenterDragging=!0:m.startY>=m._$app.height()/2?m.isBottomRightDragging=!0:m.startY<m._$app.height()/2&&(m.isTopRightDragging=!0);var e=m.activePage=m.getCurAndActive(!1);if(!e)return;l(),m.activePage&&(m.$flipMask.css({zIndex:100,display:"block"}),m.activePage.active(),m.isBottomRightDragging?(m.eqxScene.currentPage.$section.css({top:m.$flipMask.height()-m._$app.height()+"px",left:"0px"}),m.$flipMask.css({top:"-"+(m.$flipMask.height()-m._$app.height())+"px"}),m.$turn.css({transformOrigin:"0% 100% 0px",left:m._$app.width()+"px",top:m._$app.height()+"px"})):m.isTopRightDragging?m.$turn.css({top:"0px",left:m._$app.width()+"px",transformOrigin:"0% 0% 0px"}):m.isRightCenterDragging&&(m.eqxScene.currentPage.$section.css({top:"0px",left:$(this).width()-m._$app.width()+"px"}),m.$flipMask.css({top:"0px",left:-(m.$flipMask.width()-m._$app.width())+"px"}),m.$turn.css({transformOrigin:"0% 100% 0px",left:m._$app.width()+"px",top:"0px"})))}}function r(){m.isFirstTime&&(m.isFirstTime=!1,m.isLeftCenterDragging=!0,m.activePage=m.getCurAndActive(!0),l(),m.activePage&&(m.$flipMask.css({display:"block"}),m.activePage.active(),m.$turn.css({top:"0px",left:"0px",transformOrigin:"0% 0% 0px"})))}function s(e){var t=e,n=0,i=0,o=0,r=0,s=0,c=0,u=0,l=0,p=0,h=0,d=0,f=0,g=0,v=0,y=0,b=0;m.isBottomRightDragging||m.isTopRightDragging?(n=m._$app.width()-t.x,m.isBottomRightDragging?i=Math.abs(m._$app.height()-t.y):m.isTopRightDragging&&(i=t.y),o=i/n,r=i/Math.sqrt(n*n+i*i),s=Math.sqrt(1-r*r),c=Math.sqrt(n*n+i*i)/2,u=c*o,l=Math.sqrt(u*u+c*c),p=l/o,h=180*Math.atan(o)/Math.PI>0?180*Math.atan(o)/Math.PI:0,d=(m._$app.width()-l)*s,f=(m._$app.width()-l)*r*s,g=(m._$app.width()-l)*(1-r*r),d>=1&&(m.isBottomRightDragging?(h>1?m.$turn.css({width:l+"px",height:p+"px",backgroundColor:"#ff0000",background:"-webkit-linear-gradient("+(180-h)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(l-3)+"px) translateY(-"+(p-3)+"px) rotate("+2*h+"deg) scaleX(-1)"}):a(m.$turn,t,m._$app.width(),m._$app.height()),b="0% 100% 0px",v="rotate(-"+(90-h)+"deg) translateY("+d+"px)",y="rotate("+(90-h)+"deg) translateY(-"+f+"px) translateX(-"+g+"px)"):m.isTopRightDragging&&(h>1?m.$turn.css({width:l+"px",height:p+"px",backgroundColor:"#000",background:"-webkit-linear-gradient(-"+(180-h)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(l-2)+"px) rotate(-"+2*h+"deg) scaleX(-1)"}):a(m.$turn,t,m._$app.width(),m._$app.height()),b="0% 0% 0px",v="rotate("+(90-h)+"deg) translateY(-"+d+"px)",y="rotate(-"+(90-h)+"deg) translateY("+f+"px) translateX(-"+g+"px)"),m.$flipMask.css({zIndex:100,transformOrigin:b,transform:v}),m.eqxScene.currentPage.$section.css({transformOrigin:b,transform:y}))):m.isRightCenterDragging?(m.$turn.css({width:(m._$app.width()-t.x)/2+"px",height:m._$app.height()+"px",left:t.x+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}),m.$flipMask.css({transformOrigin:"0% 50% 0px",left:0,transform:"translateX(-"+(m.$flipMask.width()-t.x)+"px)"}),m.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX("+(m.$flipMask.width()-t.x)+"px)"})):m.isLeftCenterDragging&&(m.$flipMask.css({zIndex:100,transformOrigin:"0% 50% 0px",transform:"translateX("+t.x+"px)"}),m.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX(-"+t.x+"px)"}),m.$turn.css({width:m._$app.width()-t.x+"px",height:m._$app.height()+"px",left:-(m._$app.width()-2*t.x)+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}))}function a(e,t,n,i){e.css({width:(n-t.x+6)/2+"px",height:i+"px",top:0,left:t.x+2+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",transform:"",border:0})}function c(){m=this;var e,t,n,i=16,o=m.moveDistanceX+m.startX,r=m.moveDistanceY+m.startY;m.isBottomRightDragging?(e=-m._$app.width(),t=m._$app.height(),n=setInterval(function(){o=o-e<=i?o:o-i,r=t-r<=i?r:r+i,s({x:o,y:r}),o-e<=i&&r-t<=i&&(clearInterval(n),u())},16)):m.isTopRightDragging?(e=-m._$app.width(),t=0,n=setInterval(function(){o=o-e<=i?o:o-i,r=r-t<=i?r:r-i,s({x:o,y:r}),o-e<=i&&r-t<=i&&(clearInterval(n),u())},16)):m.isRightCenterDragging?(i=5,e=-m._$app.width(),n=setInterval(function(){o=o-e<=i?o:o-i,s({x:o,y:r}),o-e<=i&&(clearInterval(n),u())},16)):m.isLeftCenterDragging&&(i=3,e=m._$app.width(),t=0,n=setInterval(function(){o=e-o<=i?o:o+i,s({x:o,y:r}),e-o<=i&&(clearInterval(n),u())},16))}function u(){m.isBottomRightDragging=null,delete m.isBottomRightDragging,m.isTopRightDragging=null,delete m.isTopRightDragging,m.isRightCenterDragging=null,delete m.isRightCenterDragging,m.isLeftCenterDragging=null,delete m.isLeftCenterDragging,m.$flipMask=null,delete m.$flipMask,m.eqxScene.currentPage.$section.unwrap(),m.eqxScene.currentPage.$section.css({transform:"",top:0,left:0}),m.$turn.css({width:0,height:0,top:0,left:0,transform:"",background:"none"}),$(m).trigger("flipend")}function l(){m.activePage&&$(m.activePage.section).css({width:m._$app.width(),height:m._$app.height()}).wrap('<div class="flip-mask"></div>')}var p=n(25),h=p.mobilecheck,d=p.isAndroid,f=d(),g=h();n(356),e.exports={bookMove:i,bookEnd:c};var m},function(e,t){},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d"),this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)")}this.activePage&&this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) "))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d")}this.activePage&&this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) ")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage.section=null)}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"):this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={cardMove:n,cardEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")}this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css("zIndex",1),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-"+this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(-(this.windowHeight/2)+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2-this.moveDistanceY/2)+"px)"))}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg) translateY(-"+this.windowHeight/2+"px) translateZ(-"+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")}this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),$(this.activePage.section).css("zIndex",0),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+-this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+-this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(this.windowHeight/2+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2+this.moveDistanceY/2)+"px)")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage=null)}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-90deg) translateY("+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"zIndex","0"),
    this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg) translateY(0px) translateZ(0px)"),this.cssAnimation(this.activePage.section.style,"zIndex","2"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={cubeMove:n,cubeEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active())}}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active())}}}function i(){var e=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)?setTimeout(function(){$(e).trigger("flipend")},1600):(this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={fadeInMove:n,fadeInEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px")}}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px")}}this.activePage&&(this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),this.eqxScene.currentPage.section.style.opacity=((this.windowHeight-Math.abs(this.moveDistanceY))/this.windowHeight).toFixed(1))}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY("+this.windowHeight+"px) rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),$(this.eqxScene.currentPage.section).css({opacity:.5}),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={fallMove:n,fallEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime)if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.moveDistanceY>0){if(this.activePage=this.getCurAndActive(!0),!this.activePage)return;o.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)")}else{if(this.activePage=this.getCurAndActive(!1),!this.activePage)return;o.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)")}this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "))}}function i(){var e=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(70deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","rotateX(0deg)")},400)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-70deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","rotateX(0deg)")},400)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function o(){this.cssAnimation(this.activePage.section.style,"TransformOrigin","center"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","center")}e.exports={flipMove:n,flipEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.getMoveInit(!0,"center right","translateX",this.windowWidth)}else this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.getMoveInit(!1,"center left","translateX",this.windowWidth)}else this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}function i(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={horizontalMove:n,horizontalEnd:i}},function(e,t){"use strict";function n(){if(!this._isDisableFlipNextPage){if(!this.isNext||this.isFirstTime)if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),14===this._scrollMode)if(this.moveDistanceY>0){if(this.activePage=this.getCurAndActive(!0),!this.activePage)return;o.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")}else{if(this.activePage=this.getCurAndActive(!1),!this.activePage)return;o.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")}else if(this.moveDistanceX>0){if(this.activePage=this.getCurAndActive(!0),!this.activePage)return;o.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)")}else{if(this.activePage=this.getCurAndActive(!1),!this.activePage)return;o.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)")}this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),14===this._scrollMode?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY("+this.moveDistanceX/this.windowHeight*90+"deg) "))}}function i(){var e=this;14===this._scrollMode?Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip()):Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(90deg)"),setTimeout(function(){e.cssAnimation(e.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function o(e){e?14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","top")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","right"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","left")):14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","bottom")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","left"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","right"))}e.exports={pushMove:n,pushEnd:i}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0}}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0}}var e=Math.abs(this.moveDistanceY)/this.windowHeight*1.3;this.activePage.section.style.opacity=e.toFixed(1),e.toFixed(3)<=1&&this.cssAnim($(this.activePage.section),"transform","scale("+e.toFixed(3)+")")}}function i(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.activePage.section),"transform","scale(1)"),this.activePage.section.style.opacity=1,$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={scaleMove:n,scaleEnd:i}},function(e,t,n){"use strict";function i(){var e=r();if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.windowWidth=e?window.innerWidth:$(".nr").width(),this.getMoveInit(!0,"","translateX",this.windowWidth)}else this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.windowWidth=e?window.innerWidth:$(".nr").width(),this.getMoveInit(!1,"","translateX",this.windowWidth)}else this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}function o(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var r=n(25).mobilecheck;e.exports={singleMove:i,singleEnd:o}},function(e,t){"use strict";function n(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY))if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"}else this.activePage&&(this.moveDistanceX<=this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4-this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ(-"+(this.moveDistanceX-this.windowWidth/4)+"px)"))}else if(this.moveDistanceX<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX("+(this.windowWidth+300)+"px) translateZ(-"+this.windowHeight+"px) rotateY(-45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"}else this.activePage&&(this.moveDistanceX>=-this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4+this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ("+(this.moveDistanceX+this.windowWidth/4)+"px)"),this.cssAnim($(this.activePage.section),"Transform","scale("+(.3-(this.moveDistanceX+this.windowWidth/4)/this.windowWidth).toFixed(3)+") translateX("+(-this.moveDistanceX-this.windowWidth/4+200)+"px) translateZ("+(-this.moveDistanceX-3*this.windowWidth/4)+"px) rotateY(-"+(45+(this.moveDistanceX+this.windowWidth/4)/this.windowWidth*45)+"deg)"))}}function i(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.eqxScene.currentPage.section.style.webkitTransformOrigin="left",this.eqxScene.currentPage.section.style.webkitTransform="translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.eqxScene.currentPage.section.style.zIndex="0",this.activePage.section.style.zIndex="1"):(this.eqxScene.currentPage.section.style.webkitTransformOrigin="right",this.eqxScene.currentPage.section.style.webkitTransform="translateX("+this.windowWidth+"px) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.activePage.section.style.zIndex="1",this.eqxScene.currentPage.section.style.zIndex="0"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}e.exports={swapMove:n,swapEnd:i}},function(e,t){"use strict";function n(){var e=this,t=Math.abs(e.moveDistanceY)<=Math.abs(e.moveDistanceX)||0==e.moveDistanceY;if(!t)if(e.moveDistanceY>0){if(e._isDisableFlipPrevPage)return;if(e.isNext||e.isFirstTime){if(e.isNext=!1,e.isFirstTime=!1,this.activePage=e.getCurAndActive(!0),!this.activePage)return;e.getMoveInit(!0,"bottom center","translateY",e.windowHeight)}else e.setCssWhenMove(!0,"translateY",e.windowHeight,e.moveDistanceY,e._scrollMode)}else if(e.moveDistanceY<0){if(e._isDisableFlipNextPage)return;if(!e.isNext||e.isFirstTime){if(e.isNext=!0,e.isFirstTime=!1,this.activePage=e.getCurAndActive(!1),!this.activePage)return;e.getMoveInit(!1,"top center","translateY",e.windowHeight)}else e.setCssWhenMove(!1,"translateY",e.windowHeight,e.moveDistanceY,e._scrollMode)}}function i(){var e=this;Math.abs(e.moveDistanceY)>Math.abs(e.moveDistanceX)&&Math.abs(e.moveDistanceY)>20?(e.setCssWhenEnd("translateY",e.moveDistanceY,e.windowHeight,e._scrollMode),$(this).trigger("flipend")):(e._isDisableFlipPage=!1,e.cancelFlip())}e.exports={verticalMove:n,verticalEnd:i}},function(e,t,n){"use strict";function i(){var e=r();if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX))if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage)return;if(this.isNext||this.isFirstTime){if(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),!this.activePage)return;this.windowHeight=e?window.innerHeight:$(".nr").height(),this.getMoveInit(!0,"","translateY",this.windowHeight)}else this.setCssWhenMove(!0,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}else if(this.moveDistanceY<0){if(this._isDisableFlipNextPage)return;if(!this.isNext||this.isFirstTime){if(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),!this.activePage)return;this.windowHeight=e?window.innerHeight:$(".nr").height(),this.getMoveInit(!1,"","translateY",this.windowHeight)}else this.setCssWhenMove(!1,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}}function o(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.setCssWhenEnd("translateY",this.moveDistanceY,this.windowHeight,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var r=n(25).mobilecheck;e.exports={verticalSingleMove:i,verticalSingleEnd:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(370);var r=n(371),s=n(372),a=n(129),c=function(){function e(t,n){i(this,e),this.bgAudioJson=t,this.eqxScene=n,this.$bgmBtn=$(r),this.bgAudioJson&&(this.soundAgent=new s(this,this.eqxScene.soundManager))}return o(e,[{key:"destroy",value:function(){this.$bgmBtn&&(this.soundAgent.destroy(),this.soundAgent=null,this.$bgmBtn.remove(),this.$bgmBtn=null)}},{key:"updateJson",value:function(e){this.soundAgent.update(new a("src",e))}},{key:"show",value:function(){this.$bgmBtn&&this.$bgmBtn.show()}},{key:"resumePlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("end"))}},{key:"stopPlay",value:function(){this.soundAgent&&this.soundAgent.update(new a("stop"))}},{key:"hide",value:function(){this.$bgmBtn&&this.$bgmBtn.hide()}},{key:"startRotate",value:function(){this.$bgmBtn&&this.$bgmBtn.addClass("rotate")}},{key:"stopRotate",value:function(){this.$bgmBtn&&this.$bgmBtn.removeClass("rotate")}}]),e}();e.exports=c},function(e,t){},function(e,t){e.exports='<div class="bgm-btn" data-event="11205"><audio loop="" src="" autoplay="" preload></audio></div>'},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(131),c=n(22),u=n(24).resolveUrl,l=n(25).mobilecheck,p=n(83).getWxJSSDK,h=n(25).isWeixin,d=n(25).isIOS,f=l()?"touchend":"click",g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.manager=n,r.isManualPause=!1,r.$audio=r.master.$bgmBtn.find("audio"),r.audio=r.$audio[0],r.type=3,h()&&(r.wxJssdk=p()),window.EQX={startBgm:r.startPlay.bind(r),pauseBgm:r.stopPlay.bind(r)},r.init(),r}return r(t,e),s(t,[{key:"destroy",value:function(){this.$audio.attr("src","").off("canplay play pause"),this.$audio.remove(),this.$audio=null,this.audio=null,this.master.$bgmBtn.off(f),window.EQX.startBgm=function(){},window.EQX.pauseBgm=function(){},this.deregister()}},{key:"init",value:function(){var e=this.master.bgAudioJson;this.$audio.attr("src",u(c.FILE,e.url||e.src)),this.audio.load(),this.addEventListeners(),this.register(),this.master.show()}},{key:"update",value:function(e){var t=this;switch(e.type){case"src":var n=e.data;this.$audio.attr("src",u(c.FILE,n.url||n.src)),this.audio.load(),this.$audio.on("canplay",function(){t.audio.play()});break;case"hide":this.hide();break;case"show":this.show();break;case"stop":this.stopPlay();break;case"end":this.isManualPause||this.startPlay();break;case"down":d()?this.stopPlay():this.audio.volume=.1;break;case"restore":d()?this.startPlay():this.audio.volume=1;break;case"play":this.startPlay()}}},{key:"addEventListeners",value:function(){var e=this;this.$audio.on("play",function(){console.log("play"),e.master.startRotate()}),this.$audio.on("pause",function(){console.log("pause"),e.master.stopRotate()}),this.master.$bgmBtn.on(f,function(t){t.cancelBubble=!0,t.stopPropagation(),e.isManualPause=!e.audio.paused,e.audio.paused?e.startPlay():e.stopPlay()}),this.master.$bgmBtn.trigger(f)}},{key:"startPlay",value:function(){function e(e){4===e.readyState?e.paused&&(e.play(),t.manager.onPlay(t)):(e.load(),$(e).on("canplay",function(){t.$audio.off("canplay"),e.play(),t.manager.onPlay(t)}))}this.show();var t=this,n=t.audio;h()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e(n)}})}):e(n)}},{key:"hide",value:function(){this.master.$bgmBtn&&this.master.$bgmBtn.hide(),this.stopPlay()}},{key:"show",value:function(){this.master.$bgmBtn&&this.master.$bgmBtn.show()}},{key:"stopPlay",value:function(){function e(e){4===e.readyState?e.pause():(e.load(),$(e).on("canplay",function(){t.$audio.off("canplay"),e.pause()}))}var t=this;if(h())this.wxJssdk.then(function(){var n=t.audio;wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){e(n)}})});else{var n=t.audio;e(n)}}}]),t}(a);e.exports=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(129),s=function(){function e(){i(this,e),this.subscriberMap={}}return o(e,[{key:"subscribe",value:function(e,t){var n=this.subscriberMap[e];n||(n=this.subscriberMap[e]=[]),n.includes(t)||n.push(t)}},{key:"removeAll",value:function(e){for(var t in this.subscriberMap)this.subscriberMap.hasOwnProperty(t)&&this.remove(t,e)}},{key:"remove",value:function(e,t){var n=this.subscriberMap[e];if(!n)return void(_DEBUG_&&console.error("remove subscriber form none existed event list"));var i=n.indexOf(t);i>-1&&n.splice(i,1)}},{key:"publish",value:function(e,t){var n=this.subscriberMap[e];return n?void n.forEach(function(n){return n.update(new r(e,t))}):void(_DEBUG_&&console.error("event "+e+" no subscriber!"))}}]),e}();e.exports=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return JSON.stringify(e)===JSON.stringify(t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(375).$postComment,a=n(375).$getCommentList,c=function(){function e(t){i(this,e),this.sceneId=t,this.comments=[],this.canLoadMore=!0,this.lastTime=0,this.registers=[],this.promise=null}return r(e,[{key:"addComment",value:function(e){return!this.comments.find(function(t){return o(t,e)})&&(this.comments.push(e),!0)}},{key:"getComments",value:function(){return this.comments.sort(function(e,t){return t.createTime-e.createTime}),this.comments}},{key:"postComment",value:function(e){var t=this;return s(e).then(function(e){var n=e.obj;return t.addComment(n),t.publish(),n})}},{key:"publish",value:function(){this.registers.forEach(function(e){return e.updateComments()})}},{key:"loadInitComments",value:function(e){return this.promise?this.promise:(this.promise=this.loadMoreComments(e)["catch"](function(){}),this.promise)}},{key:"loadMoreComments",value:function(e){var t=this;return a({sceneId:this.sceneId,time:this.lastTime,size:e}).then(function(e){var n=e.list;return n.length?(t.lastTime=n[n.length-1].createTime,n=n.filter(function(e){return t.addComment(e)}),t.publish(),n):Promise.reject("")})}},{key:"register",value:function(e){this.registers.includes(e)||this.registers.push(e)}}]),e}();e.exports=c},function(e,t,n){"use strict";function i(e){var t=e.sceneId,n=e.size,i=e.time,o=r.SERVER_1+"scene/msg/list?sceneId="+t;return n&&(o+="&size="+n),i&&(o+="&lastTime="+i),o+="&date="+(new Date).getTime(),s({type:"GET",url:o})}function o(e){return s({type:"POST",url:r.SERVER_1+"scene/send/msg",data:e})}var r=n(22),s=n(21).ajax;e.exports={$getCommentList:i,$postComment:o}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return s.includes(""+e.type)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(70).FORM_COMPS,a=function(){function e(){i(this,e),this.submited=!1,this.fromCompList=[]}return r(e,[{key:"add",value:function(e){if(o(e))if(this.fromCompList.includes(e)){if(_DEBUG_)throw new Error("Duplicate EQX form element "+e)}else this.fromCompList.push(e);else if(_DEBUG_)throw new Error("Invalid EQX Form Element "+e+", type: "+e.type)}},{key:"check",value:function(){for(var e={sms:[]},t=this.fromCompList.map(function(e){return e.check()}),n=0;n<t.length;n++){var i=t[n],o=i.success,r=i.key,s=i.value;if(!o)return i;i.type&&12==i.type?e[r]=s.phoneValue:e[r]=s,i.type&&12==i.type&&e.sms.push(s)}return Object.values(e).every(function(e){return!e})?{success:!1,message:"请填写表单"}:{success:!0,form:e}}}]),e}();e.exports=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in i)return i.value;var r=i.get;if(void 0!==r)return r.call(n)},c=n(335),u=n(209).$getCountValues,l=n(70).COMP_TYPE,p=function(e){function t(e){i(this,t);var n=e.list.reduce(function(e,t){return e.concat(t.elements)},[]),r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.sceneJson=e,r.countIdArr=[],r.countValuesPromise=null,r}return r(t,e),s(t,[{key:"iterate",value:function(){var e=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"iterate",this).call(this),this.compJsonList.forEach(function(t){var n=l[t.type];"EqxCount"!==n||e.countIdArr.includes(t.id)||e.countIdArr.push(t.id)})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"getCounterValues",value:function(){if(this.countValuesPromise)return this.countValuesPromise;var e=this.getCountIds();if(e){var t=this.sceneJson.meta.id;this.countValuesPromise=u({sceneId:t,fieldIds:e}).then(function(e){return e.map})["catch"](function(){return{}})}else this.countValuesPromise=Promise.resolve({});return this.countValuesPromise}}]),t}(c);e.exports=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){
    if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(379),c=n(129),u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),s(t,[{key:"onPlay",value:function(e){if(this.agents.includes(e))switch(e.type){case 6:this.agents.forEach(function(t){t!==e&&6===t.type&&t.update(new c("hide")),5!==t.type||t.master.$context[0].paused||e.update(new c("pause"))}),this.agents.forEach(function(t){3===t.type&&(e.isSoundValid()||t.isManualPause?!e.isSoundValid()&&t.isManualPause?t.update(new c("show")):e.isSoundValid()&&t.update(new c("hide")):t.update(new c("play")))});break;case 3:this.agents.forEach(function(t){5!==t.type||t.master.$context[0].paused||e.update(new c("stop")),6===t.type&&t.audio&&!t.audio.paused&&e.update(new c("hide"))});break;case 5:this.agents.forEach(function(e){3===e.type?e.update(new c("stop")):6===e.type&&e.update(new c("pause"))});break;case 1:this.agents.forEach(function(t){t!==e&&(2===t.type||3===t.type||6===t.type?t.update(new c("down")):1===t.type&&(t.update(new c("stop")),t.update(new c("reset"))))});break;case 2:this.agents.forEach(function(t){3!==t.type&&6!==t.type||t.update(new c("down")),1!==t.type||t.audio.paused||e.update(new c("down"))});break;case 4:this.agents.forEach(function(e){2===e.type||3===e.type||6===e.type?e.update(new c("down")):1===e.type&&(e.update(new c("stop")),e.update(new c("reset")))})}}},{key:"onEnd",value:function(e){if(e||this.agents.includes(e))switch(e.type){case 5:this.agents.forEach(function(e){6===e.type?e.update(new c("play")):3!==e.type||e.isManualPause||e.update(new c("play"))});break;case 1:var t=null;t=this.agents.findIndex(function(e){return 1===e.type&&!e.audio.paused})!==-1,this.agents.forEach(function(e){2!==e.type||t||e.update(new c("restore"))}),t=this.agents.findIndex(function(e){return(1===e.type||2===e.type)&&!e.audio.paused})!==-1,!t&&this.agents.forEach(function(e){3!==e.type&&6!==e.type||e.update(new c("restore"))});break;case 2:var n=!1;this.agents.forEach(function(t){t===e||1!==t.type&&2!==t.type||t.audio.paused||(n=!0)}),!n&&this.agents.forEach(function(e){3!==e.type&&6!==e.type||e.update(new c("restore"))});break;case 4:var i=null;i=this.agents.findIndex(function(e){return 1===e.type&&!e.audio.paused})!==-1,this.agents.forEach(function(e){2!==e.type||i||e.update(new c("restore"))}),i=this.agents.findIndex(function(e){return(1===e.type||2===e.type)&&!e.audio.paused})!==-1,!i&&this.agents.forEach(function(e){3!==e.type&&6!==e.type||e.update(new c("restore"))})}}},{key:"stopAll",value:function(){this.agents.forEach(function(e){e.audio&&!e.audio.paused&&e.update(new c("stop"))})}},{key:"restoreAll",value:function(){this.agents.forEach(function(e){3===e.type&&e.audio.paused&&!e.isManualPause&&e.update(new c("play"))})}}]),t}(a);e.exports=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){n(this,e),this.agents=[],this.predict=t}return i(e,[{key:"add",value:function(e){this.predict&&!this.predict.call(this,e)||this.agents.includes(e)||this.agents.push(e)}},{key:"remove",value:function(e){var t=this.agents.indexOf(e);t>-1&&this.agents.splice(t,1)}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(379),a=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return r(t,e),t}(s);e.exports=a},function(e,t,n){var i,o,r;!function(s,a){o=[t,n(382),n(384),n(385),n(386),n(387)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n,i,o,r){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0}),e.detailedDiff=e.updatedDiff=e.deletedDiff=e.diff=e.addedDiff=void 0;var a=s(t),c=s(n),u=s(i),l=s(o),p=s(r);e.addedDiff=c["default"],e.diff=a["default"],e.deletedDiff=u["default"],e.updatedDiff=l["default"],e.detailedDiff=p["default"]})},function(e,t,n){var i,o,r;!function(s,a){o=[e,t,n(383)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function s(e,t){if(e===t)return{};if(!(0,n.isObject)(e)||!(0,n.isObject)(t))return t;var r=(0,n.properObject)(e),a=(0,n.properObject)(t),c=Object.keys(r).reduce(function(e,t){return a.hasOwnProperty(t)?e:o({},e,i({},t,void 0))},{});return(0,n.isDate)(r)||(0,n.isDate)(a)?r.valueOf()==a.valueOf()?{}:a:Object.keys(a).reduce(function(e,t){if(!r.hasOwnProperty(t))return o({},e,i({},t,a[t]));var c=s(r[t],a[t]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?e:o({},e,i({},t,c))},c)};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var i,o,r;!function(n,s){o=[t],i=s,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(e.isDate=function(e){return e instanceof Date},e.isEmpty=function(e){return 0===Object.keys(e).length},e.isObject=function(e){return null!=e&&"object"===("undefined"==typeof e?"undefined":n(e))});e.properObject=function(e){return i(e)&&!e.hasOwnProperty?t({},e):e}})},function(e,t,n){var i,o,r;!function(s,a){o=[e,t,n(383)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function s(e,t){if(e===t||!(0,n.isObject)(e)||!(0,n.isObject)(t))return{};var r=(0,n.properObject)(e),a=(0,n.properObject)(t);return Object.keys(a).reduce(function(e,t){if(r.hasOwnProperty(t)){var c=s(r[t],a[t]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?e:o({},e,i({},t,c))}return o({},e,i({},t,a[t]))},{})};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var i,o,r;!function(s,a){o=[e,t,n(383)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function s(e,t){if(e===t||!(0,n.isObject)(e)||!(0,n.isObject)(t))return{};var r=(0,n.properObject)(e),a=(0,n.properObject)(t);return Object.keys(r).reduce(function(e,t){if(a.hasOwnProperty(t)){var c=s(r[t],a[t]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)?e:o({},e,i({},t,c))}return o({},e,i({},t,void 0))},{})};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var i,o,r;!function(s,a){o=[e,t,n(383)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function s(e,t){if(e===t)return{};if(!(0,n.isObject)(e)||!(0,n.isObject)(t))return t;var r=(0,n.properObject)(e),a=(0,n.properObject)(t);return(0,n.isDate)(r)||(0,n.isDate)(a)?r.valueOf()==a.valueOf()?{}:a:Object.keys(a).reduce(function(e,t){if(r.hasOwnProperty(t)){var c=s(r[t],a[t]);return(0,n.isObject)(c)&&(0,n.isEmpty)(c)&&!(0,n.isDate)(c)?e:o({},e,i({},t,c))}return e},{})};t["default"]=r,e.exports=t["default"]})},function(e,t,n){var i,o,r;!function(s,a){o=[e,t,n(384),n(385),n(386)],i=a,r="function"==typeof i?i.apply(t,o):i,!(void 0!==r&&(e.exports=r))}(this,function(e,t,n,i,o){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n),a=r(i),c=r(o),u=function(e,t){return{added:(0,s["default"])(e,t),deleted:(0,a["default"])(e,t),updated:(0,c["default"])(e,t)}};t["default"]=u,e.exports=t["default"]})},function(e,t,n){"use strict";function i(e,t){return r()||t||e.map.wxComponent?function(n){var i=n.type,o=n.id,r=n.properties.type;if(t){var a=t.headimgurl,c=t.nickname;"201"==i&&"own"==r&&(n.content=c),"401"==i&&"own"==r&&(n.properties.src=a,delete n.properties.imgStyle)}var u=e.map.wxComponent,l=void 0===u?{shareUserName:"",shareUserHeader:""}:u,p=l.shareUserName,h=l.shareUserHeader;(p||h)&&("201"==i&&"share"==r&&p&&(n.content=p),"401"==i&&"share"==r&&h&&(n.properties.src=h,delete n.properties.imgStyle)),"201"!=i&&"401"!=i||"share"!=r||s.generateUserKey(),l[o]&&(n.serverId=l[o])}:o}var o=n(27).noop,r=n(25).isWeixin,s=n(83);e.exports={wxAdaptor:i}},function(e,t,n){"use strict";function i(){var e=window.scene;if(e){var t=o.TRACK+"c.gif?",n=window.screen,i=n.availWidth+"x"+n.availHeight,r=window.navigator,s={lag:r.userLanguage||r.language};s.event_description=e.description,s.event_id=e.id,s.scene_type=e.type,s.creator_id=e.userId,s.creator_type=e.userType;var a="action_name="+encodeURIComponent(document.title)+"&idsite=2&url="+encodeURIComponent(document.location)+"&urlref="+encodeURIComponent(document.referrer)+"&res="+i+"&data="+encodeURIComponent(JSON.stringify(s));a+="&cookie="+(r.cookieEnabled?1:0),a+="&ct="+(new Date).getTime(),t+=a;var c=document.createElement("img");c.setAttribute("src",t),c.setAttribute("height","0"),c.setAttribute("width","0"),document.body.appendChild(c)}}var o=n(22);e.exports={putTracker:i}}]);